function _3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xN={exports:{}},Cg={},SN={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=Symbol.for("react.element"),w3=Symbol.for("react.portal"),b3=Symbol.for("react.fragment"),E3=Symbol.for("react.strict_mode"),x3=Symbol.for("react.profiler"),S3=Symbol.for("react.provider"),T3=Symbol.for("react.context"),A3=Symbol.for("react.forward_ref"),P3=Symbol.for("react.suspense"),I3=Symbol.for("react.memo"),O3=Symbol.for("react.lazy"),GS=Symbol.iterator;function C3(t){return t===null||typeof t!="object"?null:(t=GS&&t[GS]||t["@@iterator"],typeof t=="function"?t:null)}var TN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AN=Object.assign,PN={};function Xu(t,e,n){this.props=t,this.context=e,this.refs=PN,this.updater=n||TN}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IN(){}IN.prototype=Xu.prototype;function sE(t,e,n){this.props=t,this.context=e,this.refs=PN,this.updater=n||TN}var uE=sE.prototype=new IN;uE.constructor=sE;AN(uE,Xu.prototype);uE.isPureReactComponent=!0;var KS=Array.isArray,ON=Object.prototype.hasOwnProperty,lE={current:null},CN={key:!0,ref:!0,__self:!0,__source:!0};function kN(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)ON.call(e,r)&&!CN.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:od,type:t,key:o,ref:a,props:i,_owner:lE.current}}function k3(t,e){return{$$typeof:od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cE(t){return typeof t=="object"&&t!==null&&t.$$typeof===od}function N3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XS=/\/+/g;function Nv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N3(""+t.key):e.toString(36)}function ap(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case od:case w3:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Nv(a,0):r,KS(i)?(n="",t!=null&&(n=t.replace(XS,"$&/")+"/"),ap(i,e,n,"",function(l){return l})):i!=null&&(cE(i)&&(i=k3(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(XS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",KS(t))for(var s=0;s<t.length;s++){o=t[s];var u=r+Nv(o,s);a+=ap(o,e,n,u,i)}else if(u=C3(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=r+Nv(o,s++),a+=ap(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function yh(t,e,n){if(t==null)return t;var r=[],i=0;return ap(t,r,"","",function(o){return e.call(n,o,i++)}),r}function R3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},sp={transition:null},M3={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:sp,ReactCurrentOwner:lE};function NN(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:yh,forEach:function(t,e,n){yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!cE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Xu;Te.Fragment=b3;Te.Profiler=x3;Te.PureComponent=sE;Te.StrictMode=E3;Te.Suspense=P3;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M3;Te.act=NN;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AN({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=lE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)ON.call(e,u)&&!CN.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:od,type:t.type,key:i,ref:o,props:r,_owner:a}};Te.createContext=function(t){return t={$$typeof:T3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:S3,_context:t},t.Consumer=t};Te.createElement=kN;Te.createFactory=function(t){var e=kN.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:A3,render:t}};Te.isValidElement=cE;Te.lazy=function(t){return{$$typeof:O3,_payload:{_status:-1,_result:t},_init:R3}};Te.memo=function(t,e){return{$$typeof:I3,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=sp.transition;sp.transition={};try{t()}finally{sp.transition=e}};Te.unstable_act=NN;Te.useCallback=function(t,e){return pn.current.useCallback(t,e)};Te.useContext=function(t){return pn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return pn.current.useEffect(t,e)};Te.useId=function(){return pn.current.useId()};Te.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return pn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Te.useRef=function(t){return pn.current.useRef(t)};Te.useState=function(t){return pn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return pn.current.useTransition()};Te.version="18.3.1";SN.exports=Te;var L=SN.exports;const z=ze(L),$3=_3({__proto__:null,default:z},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D3=L,j3=Symbol.for("react.element"),L3=Symbol.for("react.fragment"),V3=Object.prototype.hasOwnProperty,F3=D3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B3={key:!0,ref:!0,__self:!0,__source:!0};function RN(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)V3.call(e,r)&&!B3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j3,type:t,key:o,ref:a,props:i,_owner:F3.current}}Cg.Fragment=L3;Cg.jsx=RN;Cg.jsxs=RN;xN.exports=Cg;var M=xN.exports,MN={exports:{}},zn={},$N={exports:{}},DN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var U=D.length;D.push(B);e:for(;0<U;){var q=U-1>>>1,W=D[q];if(0<i(W,B))D[q]=B,D[U]=W,U=q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],U=D.pop();if(U!==B){D[0]=U;e:for(var q=0,W=D.length,Y=W>>>1;q<Y;){var ee=2*(q+1)-1,ne=D[ee],ue=ee+1,re=D[ue];if(0>i(ne,U))ue<W&&0>i(re,ne)?(D[q]=re,D[ue]=U,q=ue):(D[q]=ne,D[ee]=U,q=ee);else if(ue<W&&0>i(re,U))D[q]=re,D[ue]=U,q=ue;else break e}}return B}function i(D,B){var U=D.sortIndex-B.sortIndex;return U!==0?U:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var B=n(l);B!==null;){if(B.callback===null)r(l);else if(B.startTime<=D)r(l),B.sortIndex=B.expirationTime,e(u,B);else break;B=n(l)}}function S(D){if(g=!1,_(D),!m)if(n(u)!==null)m=!0,$(x);else{var B=n(l);B!==null&&F(S,B.startTime-D)}}function x(D,B){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var U=d;try{for(_(B),f=n(u);f!==null&&(!(f.expirationTime>B)||D&&!k());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var W=q(f.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(u)&&r(u),_(B)}else r(u);f=n(u)}if(f!==null)var Y=!0;else{var ee=n(l);ee!==null&&F(S,ee.startTime-B),Y=!1}return Y}finally{f=null,d=U,p=!1}}var A=!1,b=null,T=-1,P=5,O=-1;function k(){return!(t.unstable_now()-O<P)}function N(){if(b!==null){var D=t.unstable_now();O=D;var B=!0;try{B=b(!0,D)}finally{B?C():(A=!1,b=null)}}else A=!1}var C;if(typeof w=="function")C=function(){w(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=N,C=function(){V.postMessage(null)}}else C=function(){y(N,0)};function $(D){b=D,A||(A=!0,C())}function F(D,B){T=y(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,$(x))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var U=d;d=B;try{return D()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=d;d=D;try{return B()}finally{d=U}},t.unstable_scheduleCallback=function(D,B,U){var q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,D={id:c++,callback:B,priorityLevel:D,startTime:U,expirationTime:W,sortIndex:-1},U>q?(D.sortIndex=U,e(l,D),n(u)===null&&D===n(l)&&(g?(v(T),T=-1):g=!0,F(S,U-q))):(D.sortIndex=W,e(u,D),m||p||(m=!0,$(x))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var B=d;return function(){var U=d;d=B;try{return D.apply(this,arguments)}finally{d=U}}}})(DN);$N.exports=DN;var U3=$N.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z3=L,Fn=U3;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jN=new Set,Bc={};function za(t,e){ou(t,e),ou(t+"Capture",e)}function ou(t,e){for(Bc[t]=e,t=0;t<e.length;t++)jN.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t_=Object.prototype.hasOwnProperty,W3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YS={},QS={};function H3(t){return t_.call(QS,t)?!0:t_.call(YS,t)?!1:W3.test(t)?QS[t]=!0:(YS[t]=!0,!1)}function q3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G3(t,e,n,r){if(e===null||typeof e>"u"||q3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fE=/[\-:]([a-z])/g;function dE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fE,dE);Gt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fE,dE);Gt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fE,dE);Gt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function hE(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(G3(e,n,i,r)&&(n=null),r||i===null?H3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fi=z3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),n_=Symbol.for("react.profiler"),LN=Symbol.for("react.provider"),VN=Symbol.for("react.context"),mE=Symbol.for("react.forward_ref"),r_=Symbol.for("react.suspense"),i_=Symbol.for("react.suspense_list"),gE=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),FN=Symbol.for("react.offscreen"),JS=Symbol.iterator;function jl(t){return t===null||typeof t!="object"?null:(t=JS&&t[JS]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Rv;function ic(t){if(Rv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rv=e&&e[1]||""}return`
`+Rv+t}var Mv=!1;function $v(t,e){if(!t||Mv)return"";Mv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=s);break}}}finally{Mv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ic(t):""}function K3(t){switch(t.tag){case 5:return ic(t.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return t=$v(t.type,!1),t;case 11:return t=$v(t.type.render,!1),t;case 1:return t=$v(t.type,!0),t;default:return""}}function o_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Ts:return"Portal";case n_:return"Profiler";case pE:return"StrictMode";case r_:return"Suspense";case i_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VN:return(t.displayName||"Context")+".Consumer";case LN:return(t._context.displayName||"Context")+".Provider";case mE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gE:return e=t.displayName||null,e!==null?e:o_(t.type)||"Memo";case to:e=t._payload,t=t._init;try{return o_(t(e))}catch{}}return null}function X3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o_(e);case 8:return e===pE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y3(t){var e=BN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){t._valueTracker||(t._valueTracker=Y3(t))}function UN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function a_(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ZS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zN(t,e){e=e.checked,e!=null&&hE(t,"checked",e,!1)}function s_(t,e){zN(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?u_(t,e.type,n):e.hasOwnProperty("defaultValue")&&u_(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function eT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function u_(t,e,n){(e!=="number"||kp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oc=Array.isArray;function zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function l_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(oc(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function WN(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,qN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q3=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){Q3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function GN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function KN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var J3=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f_(t,e){if(e){if(J3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function d_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h_=null;function yE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p_=null,Ws=null,Hs=null;function rT(t){if(t=ud(t)){if(typeof p_!="function")throw Error(te(280));var e=t.stateNode;e&&(e=$g(e),p_(t.stateNode,t.type,e))}}function XN(t){Ws?Hs?Hs.push(t):Hs=[t]:Ws=t}function YN(){if(Ws){var t=Ws,e=Hs;if(Hs=Ws=null,rT(t),e)for(t=0;t<e.length;t++)rT(e[t])}}function QN(t,e){return t(e)}function JN(){}var Dv=!1;function ZN(t,e,n){if(Dv)return t(e,n);Dv=!0;try{return QN(t,e,n)}finally{Dv=!1,(Ws!==null||Hs!==null)&&(JN(),YN())}}function zc(t,e){var n=t.stateNode;if(n===null)return null;var r=$g(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var m_=!1;if(Pi)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){m_=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{m_=!1}function Z3(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var _c=!1,Np=null,Rp=!1,g_=null,eB={onError:function(t){_c=!0,Np=t}};function tB(t,e,n,r,i,o,a,s,u){_c=!1,Np=null,Z3.apply(eB,arguments)}function nB(t,e,n,r,i,o,a,s,u){if(tB.apply(this,arguments),_c){if(_c){var l=Np;_c=!1,Np=null}else throw Error(te(198));Rp||(Rp=!0,g_=l)}}function Wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iT(t){if(Wa(t)!==t)throw Error(te(188))}function rB(t){var e=t.alternate;if(!e){if(e=Wa(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return iT(i),t;if(o===r)return iT(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function tR(t){return t=rB(t),t!==null?nR(t):null}function nR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nR(t);if(e!==null)return e;t=t.sibling}return null}var rR=Fn.unstable_scheduleCallback,oT=Fn.unstable_cancelCallback,iB=Fn.unstable_shouldYield,oB=Fn.unstable_requestPaint,gt=Fn.unstable_now,aB=Fn.unstable_getCurrentPriorityLevel,vE=Fn.unstable_ImmediatePriority,iR=Fn.unstable_UserBlockingPriority,Mp=Fn.unstable_NormalPriority,sB=Fn.unstable_LowPriority,oR=Fn.unstable_IdlePriority,kg=null,Hr=null;function uB(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(kg,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:fB,lB=Math.log,cB=Math.LN2;function fB(t){return t>>>=0,t===0?32:31-(lB(t)/cB|0)|0}var bh=64,Eh=4194304;function ac(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $p(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ac(s):(o&=a,o!==0&&(r=ac(o)))}else a=n&~i,a!==0?r=ac(a):o!==0&&(r=ac(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function dB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pr(o),s=1<<a,u=i[a];u===-1?(!(s&n)||s&r)&&(i[a]=dB(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function y_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aR(){var t=bh;return bh<<=1,!(bh&4194240)&&(bh=64),t}function jv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function pB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function _E(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function sR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uR,wE,lR,cR,fR,v_=!1,xh=[],yo=null,vo=null,_o=null,Wc=new Map,Hc=new Map,io=[],mB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aT(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Wc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(e.pointerId)}}function Vl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ud(e),e!==null&&wE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gB(t,e,n,r,i){switch(e){case"focusin":return yo=Vl(yo,t,e,n,r,i),!0;case"dragenter":return vo=Vl(vo,t,e,n,r,i),!0;case"mouseover":return _o=Vl(_o,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wc.set(o,Vl(Wc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hc.set(o,Vl(Hc.get(o)||null,t,e,n,r,i)),!0}return!1}function dR(t){var e=aa(t.target);if(e!==null){var n=Wa(e);if(n!==null){if(e=n.tag,e===13){if(e=eR(n),e!==null){t.blockedOn=e,fR(t.priority,function(){lR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function up(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=__(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);h_=r,n.target.dispatchEvent(r),h_=null}else return e=ud(n),e!==null&&wE(e),t.blockedOn=n,!1;e.shift()}return!0}function sT(t,e,n){up(t)&&n.delete(e)}function yB(){v_=!1,yo!==null&&up(yo)&&(yo=null),vo!==null&&up(vo)&&(vo=null),_o!==null&&up(_o)&&(_o=null),Wc.forEach(sT),Hc.forEach(sT)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,v_||(v_=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,yB)))}function qc(t){function e(i){return Fl(i,t)}if(0<xh.length){Fl(xh[0],t);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yo!==null&&Fl(yo,t),vo!==null&&Fl(vo,t),_o!==null&&Fl(_o,t),Wc.forEach(e),Hc.forEach(e),n=0;n<io.length;n++)r=io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<io.length&&(n=io[0],n.blockedOn===null);)dR(n),n.blockedOn===null&&io.shift()}var qs=Fi.ReactCurrentBatchConfig,Dp=!0;function vB(t,e,n,r){var i=Ve,o=qs.transition;qs.transition=null;try{Ve=1,bE(t,e,n,r)}finally{Ve=i,qs.transition=o}}function _B(t,e,n,r){var i=Ve,o=qs.transition;qs.transition=null;try{Ve=4,bE(t,e,n,r)}finally{Ve=i,qs.transition=o}}function bE(t,e,n,r){if(Dp){var i=__(t,e,n,r);if(i===null)Gv(t,e,r,jp,n),aT(t,r);else if(gB(i,t,e,n,r))r.stopPropagation();else if(aT(t,r),e&4&&-1<mB.indexOf(t)){for(;i!==null;){var o=ud(i);if(o!==null&&uR(o),o=__(t,e,n,r),o===null&&Gv(t,e,r,jp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gv(t,e,r,null,n)}}var jp=null;function __(t,e,n,r){if(jp=null,t=yE(r),t=aa(t),t!==null)if(e=Wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jp=t,null}function hR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aB()){case vE:return 1;case iR:return 4;case Mp:case sB:return 16;case oR:return 536870912;default:return 16}default:return 16}}var fo=null,EE=null,lp=null;function pR(){if(lp)return lp;var t,e=EE,n=e.length,r,i="value"in fo?fo.value:fo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return lp=i.slice(t,1<r?1-r:void 0)}function cp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sh(){return!0}function uT(){return!1}function Wn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sh:uT,this.isPropagationStopped=uT,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sh)},persist:function(){},isPersistent:Sh}),e}var Yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xE=Wn(Yu),sd=at({},Yu,{view:0,detail:0}),wB=Wn(sd),Lv,Vv,Bl,Ng=at({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(Lv=t.screenX-Bl.screenX,Vv=t.screenY-Bl.screenY):Vv=Lv=0,Bl=t),Lv)},movementY:function(t){return"movementY"in t?t.movementY:Vv}}),lT=Wn(Ng),bB=at({},Ng,{dataTransfer:0}),EB=Wn(bB),xB=at({},sd,{relatedTarget:0}),Fv=Wn(xB),SB=at({},Yu,{animationName:0,elapsedTime:0,pseudoElement:0}),TB=Wn(SB),AB=at({},Yu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PB=Wn(AB),IB=at({},Yu,{data:0}),cT=Wn(IB),OB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kB[t])?!!e[t]:!1}function SE(){return NB}var RB=at({},sd,{key:function(t){if(t.key){var e=OB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SE,charCode:function(t){return t.type==="keypress"?cp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MB=Wn(RB),$B=at({},Ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fT=Wn($B),DB=at({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SE}),jB=Wn(DB),LB=at({},Yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),VB=Wn(LB),FB=at({},Ng,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BB=Wn(FB),UB=[9,13,27,32],TE=Pi&&"CompositionEvent"in window,wc=null;Pi&&"documentMode"in document&&(wc=document.documentMode);var zB=Pi&&"TextEvent"in window&&!wc,mR=Pi&&(!TE||wc&&8<wc&&11>=wc),dT=" ",hT=!1;function gR(t,e){switch(t){case"keyup":return UB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function WB(t,e){switch(t){case"compositionend":return yR(e);case"keypress":return e.which!==32?null:(hT=!0,dT);case"textInput":return t=e.data,t===dT&&hT?null:t;default:return null}}function HB(t,e){if(Ps)return t==="compositionend"||!TE&&gR(t,e)?(t=pR(),lp=EE=fo=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mR&&e.locale!=="ko"?null:e.data;default:return null}}var qB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qB[t.type]:e==="textarea"}function vR(t,e,n,r){XN(r),e=Lp(e,"onChange"),0<e.length&&(n=new xE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bc=null,Gc=null;function GB(t){OR(t,0)}function Rg(t){var e=Cs(t);if(UN(e))return t}function KB(t,e){if(t==="change")return e}var _R=!1;if(Pi){var Bv;if(Pi){var Uv="oninput"in document;if(!Uv){var mT=document.createElement("div");mT.setAttribute("oninput","return;"),Uv=typeof mT.oninput=="function"}Bv=Uv}else Bv=!1;_R=Bv&&(!document.documentMode||9<document.documentMode)}function gT(){bc&&(bc.detachEvent("onpropertychange",wR),Gc=bc=null)}function wR(t){if(t.propertyName==="value"&&Rg(Gc)){var e=[];vR(e,Gc,t,yE(t)),ZN(GB,e)}}function XB(t,e,n){t==="focusin"?(gT(),bc=e,Gc=n,bc.attachEvent("onpropertychange",wR)):t==="focusout"&&gT()}function YB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rg(Gc)}function QB(t,e){if(t==="click")return Rg(e)}function JB(t,e){if(t==="input"||t==="change")return Rg(e)}function ZB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:ZB;function Kc(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t_.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function yT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vT(t,e){var n=yT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yT(n)}}function bR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ER(){for(var t=window,e=kp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kp(t.document)}return e}function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eU(t){var e=ER(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bR(n.ownerDocument.documentElement,n)){if(r!==null&&AE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=vT(n,o);var a=vT(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tU=Pi&&"documentMode"in document&&11>=document.documentMode,Is=null,w_=null,Ec=null,b_=!1;function _T(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b_||Is==null||Is!==kp(r)||(r=Is,"selectionStart"in r&&AE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ec&&Kc(Ec,r)||(Ec=r,r=Lp(w_,"onSelect"),0<r.length&&(e=new xE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function Th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Os={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},zv={},xR={};Pi&&(xR=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Mg(t){if(zv[t])return zv[t];if(!Os[t])return t;var e=Os[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xR)return zv[t]=e[n];return t}var SR=Mg("animationend"),TR=Mg("animationiteration"),AR=Mg("animationstart"),PR=Mg("transitionend"),IR=new Map,wT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){IR.set(t,e),za(e,[t])}for(var Wv=0;Wv<wT.length;Wv++){var Hv=wT[Wv],nU=Hv.toLowerCase(),rU=Hv[0].toUpperCase()+Hv.slice(1);jo(nU,"on"+rU)}jo(SR,"onAnimationEnd");jo(TR,"onAnimationIteration");jo(AR,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(PR,"onTransitionEnd");ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));za("onBeforeInput",["compositionend","keypress","textInput","paste"]);za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iU=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function bT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nB(r,e,void 0,t),t.currentTarget=null}function OR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;bT(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;bT(i,s,l),o=u}}}if(Rp)throw t=g_,Rp=!1,g_=null,t}function Xe(t,e){var n=e[A_];n===void 0&&(n=e[A_]=new Set);var r=t+"__bubble";n.has(r)||(CR(e,t,2,!1),n.add(r))}function qv(t,e,n){var r=0;e&&(r|=4),CR(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Xc(t){if(!t[Ah]){t[Ah]=!0,jN.forEach(function(n){n!=="selectionchange"&&(iU.has(n)||qv(n,!1,t),qv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,qv("selectionchange",!1,e))}}function CR(t,e,n,r){switch(hR(e)){case 1:var i=vB;break;case 4:i=_B;break;default:i=bE}n=i.bind(null,e,n,t),i=void 0,!m_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=aa(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}ZN(function(){var l=o,c=yE(n),f=[];e:{var d=IR.get(t);if(d!==void 0){var p=xE,m=t;switch(t){case"keypress":if(cp(n)===0)break e;case"keydown":case"keyup":p=MB;break;case"focusin":m="focus",p=Fv;break;case"focusout":m="blur",p=Fv;break;case"beforeblur":case"afterblur":p=Fv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jB;break;case SR:case TR:case AR:p=TB;break;case PR:p=VB;break;case"scroll":p=wB;break;case"wheel":p=BB;break;case"copy":case"cut":case"paste":p=PB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fT}var g=(e&4)!==0,y=!g&&t==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var w=l,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=zc(w,v),S!=null&&g.push(Yc(w,S,_)))),y)break;w=w.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==h_&&(m=n.relatedTarget||n.fromElement)&&(aa(m)||m[Ii]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?aa(m):null,m!==null&&(y=Wa(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(g=lT,S="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=fT,S="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?d:Cs(p),_=m==null?d:Cs(m),d=new g(S,w+"leave",p,n,c),d.target=y,d.relatedTarget=_,S=null,aa(c)===l&&(g=new g(v,w+"enter",m,n,c),g.target=_,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,v=m,w=0,_=g;_;_=gs(_))w++;for(_=0,S=v;S;S=gs(S))_++;for(;0<w-_;)g=gs(g),w--;for(;0<_-w;)v=gs(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=gs(g),v=gs(v)}g=null}else g=null;p!==null&&ET(f,d,p,g,!1),m!==null&&y!==null&&ET(f,y,m,g,!0)}}e:{if(d=l?Cs(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=KB;else if(pT(d))if(_R)x=JB;else{x=YB;var A=XB}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=QB);if(x&&(x=x(t,l))){vR(f,x,n,c);break e}A&&A(t,d,l),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&u_(d,"number",d.value)}switch(A=l?Cs(l):window,t){case"focusin":(pT(A)||A.contentEditable==="true")&&(Is=A,w_=l,Ec=null);break;case"focusout":Ec=w_=Is=null;break;case"mousedown":b_=!0;break;case"contextmenu":case"mouseup":case"dragend":b_=!1,_T(f,n,c);break;case"selectionchange":if(tU)break;case"keydown":case"keyup":_T(f,n,c)}var b;if(TE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ps?gR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(mR&&n.locale!=="ko"&&(Ps||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ps&&(b=pR()):(fo=c,EE="value"in fo?fo.value:fo.textContent,Ps=!0)),A=Lp(l,T),0<A.length&&(T=new cT(T,t,null,n,c),f.push({event:T,listeners:A}),b?T.data=b:(b=yR(n),b!==null&&(T.data=b)))),(b=zB?WB(t,n):HB(t,n))&&(l=Lp(l,"onBeforeInput"),0<l.length&&(c=new cT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=b))}OR(f,e)})}function Yc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=zc(t,n),o!=null&&r.unshift(Yc(t,o,i)),o=zc(t,e),o!=null&&r.push(Yc(t,o,i))),t=t.return}return r}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ET(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,i?(u=zc(n,o),u!=null&&a.unshift(Yc(n,u,s))):i||(u=zc(n,o),u!=null&&a.push(Yc(n,u,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var oU=/\r\n?/g,aU=/\u0000|\uFFFD/g;function xT(t){return(typeof t=="string"?t:""+t).replace(oU,`
`).replace(aU,"")}function Ph(t,e,n){if(e=xT(e),xT(t)!==e&&n)throw Error(te(425))}function Vp(){}var E_=null,x_=null;function S_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var T_=typeof setTimeout=="function"?setTimeout:void 0,sU=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,uU=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(t){return ST.resolve(null).then(t).catch(lU)}:T_;function lU(t){setTimeout(function(){throw t})}function Kv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qc(e)}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function TT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qu=Math.random().toString(36).slice(2),zr="__reactFiber$"+Qu,Qc="__reactProps$"+Qu,Ii="__reactContainer$"+Qu,A_="__reactEvents$"+Qu,cU="__reactListeners$"+Qu,fU="__reactHandles$"+Qu;function aa(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ii]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=TT(t);t!==null;){if(n=t[zr])return n;t=TT(t)}return e}t=n,n=t.parentNode}return null}function ud(t){return t=t[zr]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function $g(t){return t[Qc]||null}var P_=[],ks=-1;function Lo(t){return{current:t}}function Ze(t){0>ks||(t.current=P_[ks],P_[ks]=null,ks--)}function Ge(t,e){ks++,P_[ks]=t.current,t.current=e}var Ro={},sn=Lo(Ro),En=Lo(!1),xa=Ro;function au(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function Fp(){Ze(En),Ze(sn)}function AT(t,e,n){if(sn.current!==Ro)throw Error(te(168));Ge(sn,e),Ge(En,n)}function kR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,X3(t)||"Unknown",i));return at({},n,r)}function Bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,xa=sn.current,Ge(sn,t),Ge(En,En.current),!0}function PT(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=kR(t,e,xa),r.__reactInternalMemoizedMergedChildContext=t,Ze(En),Ze(sn),Ge(sn,t)):Ze(En),Ge(En,n)}var fi=null,Dg=!1,Xv=!1;function NR(t){fi===null?fi=[t]:fi.push(t)}function dU(t){Dg=!0,NR(t)}function Vo(){if(!Xv&&fi!==null){Xv=!0;var t=0,e=Ve;try{var n=fi;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fi=null,Dg=!1}catch(i){throw fi!==null&&(fi=fi.slice(t+1)),rR(vE,Vo),i}finally{Ve=e,Xv=!1}}return null}var Ns=[],Rs=0,Up=null,zp=0,Kn=[],Xn=0,Sa=null,hi=1,pi="";function Zo(t,e){Ns[Rs++]=zp,Ns[Rs++]=Up,Up=t,zp=e}function RR(t,e,n){Kn[Xn++]=hi,Kn[Xn++]=pi,Kn[Xn++]=Sa,Sa=t;var r=hi;t=pi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,hi=1<<32-Pr(e)+i|n<<i|r,pi=o+t}else hi=1<<o|n<<i|r,pi=t}function PE(t){t.return!==null&&(Zo(t,1),RR(t,1,0))}function IE(t){for(;t===Up;)Up=Ns[--Rs],Ns[Rs]=null,zp=Ns[--Rs],Ns[Rs]=null;for(;t===Sa;)Sa=Kn[--Xn],Kn[Xn]=null,pi=Kn[--Xn],Kn[Xn]=null,hi=Kn[--Xn],Kn[Xn]=null}var jn=null,Dn=null,et=!1,wr=null;function MR(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function IT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Dn=wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sa!==null?{id:hi,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Dn=null,!0):!1;default:return!1}}function I_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O_(t){if(et){var e=Dn;if(e){var n=e;if(!IT(t,e)){if(I_(t))throw Error(te(418));e=wo(n.nextSibling);var r=jn;e&&IT(t,e)?MR(r,n):(t.flags=t.flags&-4097|2,et=!1,jn=t)}}else{if(I_(t))throw Error(te(418));t.flags=t.flags&-4097|2,et=!1,jn=t}}}function OT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function Ih(t){if(t!==jn)return!1;if(!et)return OT(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!S_(t.type,t.memoizedProps)),e&&(e=Dn)){if(I_(t))throw $R(),Error(te(418));for(;e;)MR(t,e),e=wo(e.nextSibling)}if(OT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=jn?wo(t.stateNode.nextSibling):null;return!0}function $R(){for(var t=Dn;t;)t=wo(t.nextSibling)}function su(){Dn=jn=null,et=!1}function OE(t){wr===null?wr=[t]:wr.push(t)}var hU=Fi.ReactCurrentBatchConfig;function Ul(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Oh(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CT(t){var e=t._init;return e(t._payload)}function DR(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=So(v,w),v.index=0,v.sibling=null,v}function o(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,_,S){return w===null||w.tag!==6?(w=n0(_,v.mode,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function u(v,w,_,S){var x=_.type;return x===As?c(v,w,_.props.children,S,_.key):w!==null&&(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===to&&CT(x)===w.type)?(S=i(w,_.props),S.ref=Ul(v,w,_),S.return=v,S):(S=yp(_.type,_.key,_.props,null,v.mode,S),S.ref=Ul(v,w,_),S.return=v,S)}function l(v,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=r0(_,v.mode,S),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function c(v,w,_,S,x){return w===null||w.tag!==7?(w=ya(_,v.mode,S,x),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=n0(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vh:return _=yp(w.type,w.key,w.props,null,v.mode,_),_.ref=Ul(v,null,w),_.return=v,_;case Ts:return w=r0(w,v.mode,_),w.return=v,w;case to:var S=w._init;return f(v,S(w._payload),_)}if(oc(w)||jl(w))return w=ya(w,v.mode,_,null),w.return=v,w;Oh(v,w)}return null}function d(v,w,_,S){var x=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:s(v,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vh:return _.key===x?u(v,w,_,S):null;case Ts:return _.key===x?l(v,w,_,S):null;case to:return x=_._init,d(v,w,x(_._payload),S)}if(oc(_)||jl(_))return x!==null?null:c(v,w,_,S,null);Oh(v,_)}return null}function p(v,w,_,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,s(w,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vh:return v=v.get(S.key===null?_:S.key)||null,u(w,v,S,x);case Ts:return v=v.get(S.key===null?_:S.key)||null,l(w,v,S,x);case to:var A=S._init;return p(v,w,_,A(S._payload),x)}if(oc(S)||jl(S))return v=v.get(_)||null,c(w,v,S,x,null);Oh(w,S)}return null}function m(v,w,_,S){for(var x=null,A=null,b=w,T=w=0,P=null;b!==null&&T<_.length;T++){b.index>T?(P=b,b=null):P=b.sibling;var O=d(v,b,_[T],S);if(O===null){b===null&&(b=P);break}t&&b&&O.alternate===null&&e(v,b),w=o(O,w,T),A===null?x=O:A.sibling=O,A=O,b=P}if(T===_.length)return n(v,b),et&&Zo(v,T),x;if(b===null){for(;T<_.length;T++)b=f(v,_[T],S),b!==null&&(w=o(b,w,T),A===null?x=b:A.sibling=b,A=b);return et&&Zo(v,T),x}for(b=r(v,b);T<_.length;T++)P=p(b,v,T,_[T],S),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),w=o(P,w,T),A===null?x=P:A.sibling=P,A=P);return t&&b.forEach(function(k){return e(v,k)}),et&&Zo(v,T),x}function g(v,w,_,S){var x=jl(_);if(typeof x!="function")throw Error(te(150));if(_=x.call(_),_==null)throw Error(te(151));for(var A=x=null,b=w,T=w=0,P=null,O=_.next();b!==null&&!O.done;T++,O=_.next()){b.index>T?(P=b,b=null):P=b.sibling;var k=d(v,b,O.value,S);if(k===null){b===null&&(b=P);break}t&&b&&k.alternate===null&&e(v,b),w=o(k,w,T),A===null?x=k:A.sibling=k,A=k,b=P}if(O.done)return n(v,b),et&&Zo(v,T),x;if(b===null){for(;!O.done;T++,O=_.next())O=f(v,O.value,S),O!==null&&(w=o(O,w,T),A===null?x=O:A.sibling=O,A=O);return et&&Zo(v,T),x}for(b=r(v,b);!O.done;T++,O=_.next())O=p(b,v,T,O.value,S),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?T:O.key),w=o(O,w,T),A===null?x=O:A.sibling=O,A=O);return t&&b.forEach(function(N){return e(v,N)}),et&&Zo(v,T),x}function y(v,w,_,S){if(typeof _=="object"&&_!==null&&_.type===As&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vh:e:{for(var x=_.key,A=w;A!==null;){if(A.key===x){if(x=_.type,x===As){if(A.tag===7){n(v,A.sibling),w=i(A,_.props.children),w.return=v,v=w;break e}}else if(A.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===to&&CT(x)===A.type){n(v,A.sibling),w=i(A,_.props),w.ref=Ul(v,A,_),w.return=v,v=w;break e}n(v,A);break}else e(v,A);A=A.sibling}_.type===As?(w=ya(_.props.children,v.mode,S,_.key),w.return=v,v=w):(S=yp(_.type,_.key,_.props,null,v.mode,S),S.ref=Ul(v,w,_),S.return=v,v=S)}return a(v);case Ts:e:{for(A=_.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=r0(_,v.mode,S),w.return=v,v=w}return a(v);case to:return A=_._init,y(v,w,A(_._payload),S)}if(oc(_))return m(v,w,_,S);if(jl(_))return g(v,w,_,S);Oh(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,_),w.return=v,v=w):(n(v,w),w=n0(_,v.mode,S),w.return=v,v=w),a(v)):n(v,w)}return y}var uu=DR(!0),jR=DR(!1),Wp=Lo(null),Hp=null,Ms=null,CE=null;function kE(){CE=Ms=Hp=null}function NE(t){var e=Wp.current;Ze(Wp),t._currentValue=e}function C_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gs(t,e){Hp=t,CE=Ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(CE!==t)if(t={context:t,memoizedValue:e,next:null},Ms===null){if(Hp===null)throw Error(te(308));Ms=t,Hp.dependencies={lanes:0,firstContext:t}}else Ms=Ms.next=t;return e}var sa=null;function RE(t){sa===null?sa=[t]:sa.push(t)}function LR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,RE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oi(t,r)}function Oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var no=!1;function ME(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oi(t,n)}return i=r.interleaved,i===null?(e.next=e,RE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oi(t,n)}function fp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_E(t,n)}}function kT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qp(t,e,n,r){var i=t.updateQueue;no=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;a=0,c=l=u=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=at({},f,d);break e;case 2:no=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Aa|=a,t.lanes=a,t.memoizedState=f}}function NT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var ld={},qr=Lo(ld),Jc=Lo(ld),Zc=Lo(ld);function ua(t){if(t===ld)throw Error(te(174));return t}function $E(t,e){switch(Ge(Zc,e),Ge(Jc,t),Ge(qr,ld),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=c_(e,t)}Ze(qr),Ge(qr,e)}function lu(){Ze(qr),Ze(Jc),Ze(Zc)}function FR(t){ua(Zc.current);var e=ua(qr.current),n=c_(e,t.type);e!==n&&(Ge(Jc,t),Ge(qr,n))}function DE(t){Jc.current===t&&(Ze(qr),Ze(Jc))}var it=Lo(0);function Gp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yv=[];function jE(){for(var t=0;t<Yv.length;t++)Yv[t]._workInProgressVersionPrimary=null;Yv.length=0}var dp=Fi.ReactCurrentDispatcher,Qv=Fi.ReactCurrentBatchConfig,Ta=0,ot=null,Ot=null,$t=null,Kp=!1,xc=!1,ef=0,pU=0;function Qt(){throw Error(te(321))}function LE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cr(t[n],e[n]))return!1;return!0}function VE(t,e,n,r,i,o){if(Ta=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dp.current=t===null||t.memoizedState===null?vU:_U,t=n(r,i),xc){o=0;do{if(xc=!1,ef=0,25<=o)throw Error(te(301));o+=1,$t=Ot=null,e.updateQueue=null,dp.current=wU,t=n(r,i)}while(xc)}if(dp.current=Xp,e=Ot!==null&&Ot.next!==null,Ta=0,$t=Ot=ot=null,Kp=!1,e)throw Error(te(300));return t}function FE(){var t=ef!==0;return ef=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ot.memoizedState=$t=t:$t=$t.next=t,$t}function or(){if(Ot===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=$t===null?ot.memoizedState:$t.next;if(e!==null)$t=e,Ot=t;else{if(t===null)throw Error(te(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},$t===null?ot.memoizedState=$t=t:$t=$t.next=t}return $t}function tf(t,e){return typeof e=="function"?e(t):e}function Jv(t){var e=or(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((Ta&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,a=r):u=u.next=f,ot.lanes|=c,Aa|=c}l=l.next}while(l!==null&&l!==o);u===null?a=r:u.next=s,Cr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ot.lanes|=o,Aa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zv(t){var e=or(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Cr(o,e.memoizedState)||(wn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function BR(){}function UR(t,e){var n=ot,r=or(),i=e(),o=!Cr(r.memoizedState,i);if(o&&(r.memoizedState=i,wn=!0),r=r.queue,BE(HR.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,nf(9,WR.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(te(349));Ta&30||zR(n,e,i)}return i}function zR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WR(t,e,n,r){e.value=n,e.getSnapshot=r,qR(e)&&GR(t)}function HR(t,e,n){return n(function(){qR(e)&&GR(t)})}function qR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cr(t,n)}catch{return!0}}function GR(t){var e=Oi(t,1);e!==null&&Ir(e,t,1,-1)}function RT(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:t},e.queue=t,t=t.dispatch=yU.bind(null,ot,t),[e.memoizedState,t]}function nf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KR(){return or().memoizedState}function hp(t,e,n,r){var i=Br();ot.flags|=t,i.memoizedState=nf(1|e,n,void 0,r===void 0?null:r)}function jg(t,e,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var a=Ot.memoizedState;if(o=a.destroy,r!==null&&LE(r,a.deps)){i.memoizedState=nf(e,n,o,r);return}}ot.flags|=t,i.memoizedState=nf(1|e,n,o,r)}function MT(t,e){return hp(8390656,8,t,e)}function BE(t,e){return jg(2048,8,t,e)}function XR(t,e){return jg(4,2,t,e)}function YR(t,e){return jg(4,4,t,e)}function QR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JR(t,e,n){return n=n!=null?n.concat([t]):null,jg(4,4,QR.bind(null,e,t),n)}function UE(){}function ZR(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&LE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e2(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&LE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t2(t,e,n){return Ta&21?(Cr(n,e)||(n=aR(),ot.lanes|=n,Aa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function mU(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Qv.transition;Qv.transition={};try{t(!1),e()}finally{Ve=n,Qv.transition=r}}function n2(){return or().memoizedState}function gU(t,e,n){var r=xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r2(t))i2(e,n);else if(n=LR(t,e,n,r),n!==null){var i=hn();Ir(n,t,r,i),o2(n,e,r)}}function yU(t,e,n){var r=xo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r2(t))i2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Cr(s,a)){var u=e.interleaved;u===null?(i.next=i,RE(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=LR(t,e,i,r),n!==null&&(i=hn(),Ir(n,t,r,i),o2(n,e,r))}}function r2(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function i2(t,e){xc=Kp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_E(t,n)}}var Xp={readContext:ir,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},vU={readContext:ir,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:MT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hp(4194308,4,QR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hp(4194308,4,t,e)},useInsertionEffect:function(t,e){return hp(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gU.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:RT,useDebugValue:UE,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=RT(!1),e=t[0];return t=mU.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=Br();if(et){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Dt===null)throw Error(te(349));Ta&30||zR(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,MT(HR.bind(null,r,o,t),[t]),r.flags|=2048,nf(9,WR.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Br(),e=Dt.identifierPrefix;if(et){var n=pi,r=hi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ef++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_U={readContext:ir,useCallback:ZR,useContext:ir,useEffect:BE,useImperativeHandle:JR,useInsertionEffect:XR,useLayoutEffect:YR,useMemo:e2,useReducer:Jv,useRef:KR,useState:function(){return Jv(tf)},useDebugValue:UE,useDeferredValue:function(t){var e=or();return t2(e,Ot.memoizedState,t)},useTransition:function(){var t=Jv(tf)[0],e=or().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:UR,useId:n2,unstable_isNewReconciler:!1},wU={readContext:ir,useCallback:ZR,useContext:ir,useEffect:BE,useImperativeHandle:JR,useInsertionEffect:XR,useLayoutEffect:YR,useMemo:e2,useReducer:Zv,useRef:KR,useState:function(){return Zv(tf)},useDebugValue:UE,useDeferredValue:function(t){var e=or();return Ot===null?e.memoizedState=t:t2(e,Ot.memoizedState,t)},useTransition:function(){var t=Zv(tf)[0],e=or().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:UR,useId:n2,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function k_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lg={isMounted:function(t){return(t=t._reactInternals)?Wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=xo(t),o=Ei(r,i);o.payload=e,n!=null&&(o.callback=n),e=bo(t,o,i),e!==null&&(Ir(e,t,i,r),fp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=xo(t),o=Ei(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bo(t,o,i),e!==null&&(Ir(e,t,i,r),fp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=xo(t),i=Ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=bo(t,i,r),e!==null&&(Ir(e,t,r,n),fp(e,t,r))}};function $T(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Kc(n,r)||!Kc(i,o):!0}function a2(t,e,n){var r=!1,i=Ro,o=e.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=xn(e)?xa:sn.current,r=e.contextTypes,o=(r=r!=null)?au(t,i):Ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function DT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lg.enqueueReplaceState(e,e.state,null)}function N_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ME(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=xn(e)?xa:sn.current,i.context=au(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(k_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lg.enqueueReplaceState(i,i.state,null),qp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cu(t,e){try{var n="",r=e;do n+=K3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function e0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function R_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bU=typeof WeakMap=="function"?WeakMap:Map;function s2(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qp||(Qp=!0,z_=r),R_(t,e)},n}function u2(t,e,n){n=Ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){R_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){R_(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function jT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$U.bind(null,t,e,n),e.then(t,t))}function LT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,bo(n,e,1))),n.lanes|=1),t)}var EU=Fi.ReactCurrentOwner,wn=!1;function fn(t,e,n,r){e.child=t===null?jR(e,null,n,r):uu(e,t.child,n,r)}function FT(t,e,n,r,i){n=n.render;var o=e.ref;return Gs(e,i),r=VE(t,e,n,r,o,i),n=FE(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(et&&n&&PE(e),e.flags|=1,fn(t,e,r,i),e.child)}function BT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!YE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,l2(t,e,o,r,i)):(t=yp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Kc,n(a,r)&&t.ref===e.ref)return Ci(t,e,i)}return e.flags|=1,t=So(o,r),t.ref=e.ref,t.return=e,e.child=t}function l2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Kc(o,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Ci(t,e,i)}return M_(t,e,n,r,i)}function c2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ds,Nn),Nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Ds,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(Ds,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ge(Ds,Nn),Nn|=r;return fn(t,e,i,n),e.child}function f2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function M_(t,e,n,r,i){var o=xn(n)?xa:sn.current;return o=au(e,o),Gs(e,i),n=VE(t,e,n,r,o,i),r=FE(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(et&&r&&PE(e),e.flags|=1,fn(t,e,n,i),e.child)}function UT(t,e,n,r,i){if(xn(n)){var o=!0;Bp(e)}else o=!1;if(Gs(e,i),e.stateNode===null)pp(t,e),a2(e,n,r),N_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=ir(l):(l=xn(n)?xa:sn.current,l=au(e,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&DT(e,a,r,l),no=!1;var d=e.memoizedState;a.state=d,qp(e,r,a,i),u=e.memoizedState,s!==r||d!==u||En.current||no?(typeof c=="function"&&(k_(e,n,c,r),u=e.memoizedState),(s=no||$T(e,n,s,r,d,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,VR(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:mr(e.type,s),a.props=l,f=e.pendingProps,d=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=ir(u):(u=xn(n)?xa:sn.current,u=au(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==u)&&DT(e,a,r,u),no=!1,d=e.memoizedState,a.state=d,qp(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||En.current||no?(typeof p=="function"&&(k_(e,n,p,r),m=e.memoizedState),(l=no||$T(e,n,l,r,d,m,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return $_(t,e,n,r,o,i)}function $_(t,e,n,r,i,o){f2(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&PT(e,n,!1),Ci(t,e,o);r=e.stateNode,EU.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=uu(e,t.child,null,o),e.child=uu(e,null,s,o)):fn(t,e,s,o),e.memoizedState=r.state,i&&PT(e,n,!0),e.child}function d2(t){var e=t.stateNode;e.pendingContext?AT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AT(t,e.context,!1),$E(t,e.containerInfo)}function zT(t,e,n,r,i){return su(),OE(i),e.flags|=256,fn(t,e,n,r),e.child}var D_={dehydrated:null,treeContext:null,retryLane:0};function j_(t){return{baseLanes:t,cachePool:null,transitions:null}}function h2(t,e,n){var r=e.pendingProps,i=it.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(it,i&1),t===null)return O_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Bg(a,r,0,null),t=ya(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=j_(n),e.memoizedState=D_,t):zE(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return xU(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=So(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=So(s,o):(o=ya(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?j_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=D_,r}return o=t.child,t=o.sibling,r=So(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zE(t,e){return e=Bg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ch(t,e,n,r){return r!==null&&OE(r),uu(e,t.child,null,n),t=zE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xU(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=e0(Error(te(422))),Ch(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Bg({mode:"visible",children:r.children},i,0,null),o=ya(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&uu(e,t.child,null,a),e.child.memoizedState=j_(a),e.memoizedState=D_,o);if(!(e.mode&1))return Ch(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(te(419)),r=e0(o,r,void 0),Ch(t,e,a,r)}if(s=(a&t.childLanes)!==0,wn||s){if(r=Dt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oi(t,i),Ir(r,t,i,-1))}return XE(),r=e0(Error(te(421))),Ch(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dn=wo(i.nextSibling),jn=e,et=!0,wr=null,t!==null&&(Kn[Xn++]=hi,Kn[Xn++]=pi,Kn[Xn++]=Sa,hi=t.id,pi=t.overflow,Sa=e),e=zE(e,r.children),e.flags|=4096,e)}function WT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),C_(t.return,e,n)}function t0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function p2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(fn(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WT(t,n,e);else if(t.tag===19)WT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),t0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}t0(e,!0,n,null,o);break;case"together":t0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Aa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=So(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=So(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SU(t,e,n){switch(e.tag){case 3:d2(e),su();break;case 5:FR(e);break;case 1:xn(e.type)&&Bp(e);break;case 4:$E(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Wp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?h2(t,e,n):(Ge(it,it.current&1),t=Ci(t,e,n),t!==null?t.sibling:null);Ge(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return p2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,c2(t,e,n)}return Ci(t,e,n)}var m2,L_,g2,y2;m2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};L_=function(){};g2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ua(qr.current);var o=null;switch(n){case"input":i=a_(t,i),r=a_(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=l_(t,i),r=l_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vp)}f_(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Bc.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Xe("scroll",t),o||s===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};y2=function(t,e,n,r){n!==r&&(e.flags|=4)};function zl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TU(t,e,n){var r=e.pendingProps;switch(IE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return xn(e.type)&&Fp(),Jt(e),null;case 3:return r=e.stateNode,lu(),Ze(En),Ze(sn),jE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wr!==null&&(q_(wr),wr=null))),L_(t,e),Jt(e),null;case 5:DE(e);var i=ua(Zc.current);if(n=e.type,t!==null&&e.stateNode!=null)g2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Jt(e),null}if(t=ua(qr.current),Ih(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zr]=e,r[Qc]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<sc.length;i++)Xe(sc[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":ZS(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":tT(r,o),Xe("invalid",r)}f_(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ph(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ph(r.textContent,s,t),i=["children",""+s]):Bc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":_h(r),eT(r,o,!0);break;case"textarea":_h(r),nT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[zr]=e,t[Qc]=r,m2(t,e,!1,!1),e.stateNode=t;e:{switch(a=d_(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<sc.length;i++)Xe(sc[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":ZS(t,r),i=a_(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":tT(t,r),i=l_(t,r),Xe("invalid",t);break;default:i=r}f_(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?KN(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qN(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Uc(t,u):typeof u=="number"&&Uc(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bc.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Xe("scroll",t):u!=null&&hE(t,o,u,a))}switch(n){case"input":_h(t),eT(t,r,!1);break;case"textarea":_h(t),nT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zs(t,!!r.multiple,o,!1):r.defaultValue!=null&&zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)y2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=ua(Zc.current),ua(qr.current),Ih(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(o=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:Ph(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ph(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return Jt(e),null;case 13:if(Ze(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Dn!==null&&e.mode&1&&!(e.flags&128))$R(),su(),e.flags|=98560,o=!1;else if(o=Ih(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[zr]=e}else su(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),o=!1}else wr!==null&&(q_(wr),wr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Ct===0&&(Ct=3):XE())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return lu(),L_(t,e),t===null&&Xc(e.stateNode.containerInfo),Jt(e),null;case 10:return NE(e.type._context),Jt(e),null;case 17:return xn(e.type)&&Fp(),Jt(e),null;case 19:if(Ze(it),o=e.memoizedState,o===null)return Jt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)zl(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Gp(t),a!==null){for(e.flags|=128,zl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&gt()>fu&&(e.flags|=128,r=!0,zl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Gp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!et)return Jt(e),null}else 2*gt()-o.renderingStartTime>fu&&n!==1073741824&&(e.flags|=128,r=!0,zl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=gt(),e.sibling=null,n=it.current,Ge(it,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return KE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function AU(t,e){switch(IE(e),e.tag){case 1:return xn(e.type)&&Fp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lu(),Ze(En),Ze(sn),jE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DE(e),null;case 13:if(Ze(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));su()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(it),null;case 4:return lu(),null;case 10:return NE(e.type._context),null;case 22:case 23:return KE(),null;case 24:return null;default:return null}}var kh=!1,nn=!1,PU=typeof WeakSet=="function"?WeakSet:Set,ce=null;function $s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function V_(t,e,n){try{n()}catch(r){ct(t,e,r)}}var HT=!1;function IU(t,e){if(E_=Dp,t=ER(),AE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++l===i&&(s=a),d===o&&++c===r&&(u=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(x_={focusedElem:t,selectionRange:n},Dp=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:mr(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){ct(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=HT,HT=!1,m}function Sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&V_(e,n,o)}i=i.next}while(i!==r)}}function Vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function F_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v2(t){var e=t.alternate;e!==null&&(t.alternate=null,v2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[Qc],delete e[A_],delete e[cU],delete e[fU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _2(t){return t.tag===5||t.tag===3||t.tag===4}function qT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vp));else if(r!==4&&(t=t.child,t!==null))for(B_(t,e,n),t=t.sibling;t!==null;)B_(t,e,n),t=t.sibling}function U_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(U_(t,e,n),t=t.sibling;t!==null;)U_(t,e,n),t=t.sibling}var Bt=null,gr=!1;function Qi(t,e,n){for(n=n.child;n!==null;)w2(t,e,n),n=n.sibling}function w2(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(kg,n)}catch{}switch(n.tag){case 5:nn||$s(n,e);case 6:var r=Bt,i=gr;Bt=null,Qi(t,e,n),Bt=r,gr=i,Bt!==null&&(gr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(gr?(t=Bt,n=n.stateNode,t.nodeType===8?Kv(t.parentNode,n):t.nodeType===1&&Kv(t,n),qc(t)):Kv(Bt,n.stateNode));break;case 4:r=Bt,i=gr,Bt=n.stateNode.containerInfo,gr=!0,Qi(t,e,n),Bt=r,gr=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&V_(n,e,a),i=i.next}while(i!==r)}Qi(t,e,n);break;case 1:if(!nn&&($s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ct(n,e,s)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Qi(t,e,n),nn=r):Qi(t,e,n);break;default:Qi(t,e,n)}}function GT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PU),e.forEach(function(r){var i=jU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Bt=s.stateNode,gr=!1;break e;case 3:Bt=s.stateNode.containerInfo,gr=!0;break e;case 4:Bt=s.stateNode.containerInfo,gr=!0;break e}s=s.return}if(Bt===null)throw Error(te(160));w2(o,a,i),Bt=null,gr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ct(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b2(e,t),e=e.sibling}function b2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(e,t),Fr(t),r&4){try{Sc(3,t,t.return),Vg(3,t)}catch(g){ct(t,t.return,g)}try{Sc(5,t,t.return)}catch(g){ct(t,t.return,g)}}break;case 1:dr(e,t),Fr(t),r&512&&n!==null&&$s(n,n.return);break;case 5:if(dr(e,t),Fr(t),r&512&&n!==null&&$s(n,n.return),t.flags&32){var i=t.stateNode;try{Uc(i,"")}catch(g){ct(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&zN(i,o),d_(s,a);var l=d_(s,o);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?KN(i,f):c==="dangerouslySetInnerHTML"?qN(i,f):c==="children"?Uc(i,f):hE(i,c,f,l)}switch(s){case"input":s_(i,o);break;case"textarea":WN(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?zs(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?zs(i,!!o.multiple,o.defaultValue,!0):zs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qc]=o}catch(g){ct(t,t.return,g)}}break;case 6:if(dr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ct(t,t.return,g)}}break;case 3:if(dr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(g){ct(t,t.return,g)}break;case 4:dr(e,t),Fr(t);break;case 13:dr(e,t),Fr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qE=gt())),r&4&&GT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(l=nn)||c,dr(e,t),nn=l):dr(e,t),Fr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(f=ce=c;ce!==null;){switch(d=ce,p=d.child,d.tag){case 0:case 11:case 14:case 15:Sc(4,d,d.return);break;case 1:$s(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:$s(d,d.return);break;case 22:if(d.memoizedState!==null){XT(f);continue}}p!==null?(p.return=d,ce=p):XT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=GN("display",a))}catch(g){ct(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){ct(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dr(e,t),Fr(t),r&4&&GT(t);break;case 21:break;default:dr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_2(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uc(i,""),r.flags&=-33);var o=qT(t);U_(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=qT(t);B_(t,s,a);break;default:throw Error(te(161))}}catch(u){ct(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OU(t,e,n){ce=t,E2(t)}function E2(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||kh;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||nn;s=kh;var l=nn;if(kh=a,(nn=u)&&!l)for(ce=i;ce!==null;)a=ce,u=a.child,a.tag===22&&a.memoizedState!==null?YT(i):u!==null?(u.return=a,ce=u):YT(i);for(;o!==null;)ce=o,E2(o),o=o.sibling;ce=i,kh=s,nn=l}KT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):KT(t)}}function KT(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Vg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&NT(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NT(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}nn||e.flags&512&&F_(e)}catch(d){ct(e,e.return,d)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function XT(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function YT(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vg(4,e)}catch(u){ct(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ct(e,i,u)}}var o=e.return;try{F_(e)}catch(u){ct(e,o,u)}break;case 5:var a=e.return;try{F_(e)}catch(u){ct(e,a,u)}}}catch(u){ct(e,e.return,u)}if(e===t){ce=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ce=s;break}ce=e.return}}var CU=Math.ceil,Yp=Fi.ReactCurrentDispatcher,WE=Fi.ReactCurrentOwner,er=Fi.ReactCurrentBatchConfig,Ne=0,Dt=null,Et=null,Ht=0,Nn=0,Ds=Lo(0),Ct=0,rf=null,Aa=0,Fg=0,HE=0,Tc=null,_n=null,qE=0,fu=1/0,ci=null,Qp=!1,z_=null,Eo=null,Nh=!1,ho=null,Jp=0,Ac=0,W_=null,mp=-1,gp=0;function hn(){return Ne&6?gt():mp!==-1?mp:mp=gt()}function xo(t){return t.mode&1?Ne&2&&Ht!==0?Ht&-Ht:hU.transition!==null?(gp===0&&(gp=aR()),gp):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:hR(t.type)),t):1}function Ir(t,e,n,r){if(50<Ac)throw Ac=0,W_=null,Error(te(185));ad(t,n,r),(!(Ne&2)||t!==Dt)&&(t===Dt&&(!(Ne&2)&&(Fg|=n),Ct===4&&oo(t,Ht)),Sn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(fu=gt()+500,Dg&&Vo()))}function Sn(t,e){var n=t.callbackNode;hB(t,e);var r=$p(t,t===Dt?Ht:0);if(r===0)n!==null&&oT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oT(n),e===1)t.tag===0?dU(QT.bind(null,t)):NR(QT.bind(null,t)),uU(function(){!(Ne&6)&&Vo()}),n=null;else{switch(sR(r)){case 1:n=vE;break;case 4:n=iR;break;case 16:n=Mp;break;case 536870912:n=oR;break;default:n=Mp}n=C2(n,x2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x2(t,e){if(mp=-1,gp=0,Ne&6)throw Error(te(327));var n=t.callbackNode;if(Ks()&&t.callbackNode!==n)return null;var r=$p(t,t===Dt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zp(t,r);else{e=r;var i=Ne;Ne|=2;var o=T2();(Dt!==t||Ht!==e)&&(ci=null,fu=gt()+500,ga(t,e));do try{RU();break}catch(s){S2(t,s)}while(!0);kE(),Yp.current=o,Ne=i,Et!==null?e=0:(Dt=null,Ht=0,e=Ct)}if(e!==0){if(e===2&&(i=y_(t),i!==0&&(r=i,e=H_(t,i))),e===1)throw n=rf,ga(t,0),oo(t,r),Sn(t,gt()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!kU(i)&&(e=Zp(t,r),e===2&&(o=y_(t),o!==0&&(r=o,e=H_(t,o))),e===1))throw n=rf,ga(t,0),oo(t,r),Sn(t,gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:ea(t,_n,ci);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=qE+500-gt(),10<e)){if($p(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=T_(ea.bind(null,t,_n,ci),e);break}ea(t,_n,ci);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Pr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CU(r/1960))-r,10<r){t.timeoutHandle=T_(ea.bind(null,t,_n,ci),r);break}ea(t,_n,ci);break;case 5:ea(t,_n,ci);break;default:throw Error(te(329))}}}return Sn(t,gt()),t.callbackNode===n?x2.bind(null,t):null}function H_(t,e){var n=Tc;return t.current.memoizedState.isDehydrated&&(ga(t,e).flags|=256),t=Zp(t,e),t!==2&&(e=_n,_n=n,e!==null&&q_(e)),t}function q_(t){_n===null?_n=t:_n.push.apply(_n,t)}function kU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~HE,e&=~Fg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function QT(t){if(Ne&6)throw Error(te(327));Ks();var e=$p(t,0);if(!(e&1))return Sn(t,gt()),null;var n=Zp(t,e);if(t.tag!==0&&n===2){var r=y_(t);r!==0&&(e=r,n=H_(t,r))}if(n===1)throw n=rf,ga(t,0),oo(t,e),Sn(t,gt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ea(t,_n,ci),Sn(t,gt()),null}function GE(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(fu=gt()+500,Dg&&Vo())}}function Pa(t){ho!==null&&ho.tag===0&&!(Ne&6)&&Ks();var e=Ne;Ne|=1;var n=er.transition,r=Ve;try{if(er.transition=null,Ve=1,t)return t()}finally{Ve=r,er.transition=n,Ne=e,!(Ne&6)&&Vo()}}function KE(){Nn=Ds.current,Ze(Ds)}function ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sU(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(IE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fp();break;case 3:lu(),Ze(En),Ze(sn),jE();break;case 5:DE(r);break;case 4:lu();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:NE(r.type._context);break;case 22:case 23:KE()}n=n.return}if(Dt=t,Et=t=So(t.current,null),Ht=Nn=e,Ct=0,rf=null,HE=Fg=Aa=0,_n=Tc=null,sa!==null){for(e=0;e<sa.length;e++)if(n=sa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}sa=null}return t}function S2(t,e){do{var n=Et;try{if(kE(),dp.current=Xp,Kp){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kp=!1}if(Ta=0,$t=Ot=ot=null,xc=!1,ef=0,WE.current=null,n===null||n.return===null){Ct=1,rf=e,Et=null;break}e:{var o=t,a=n.return,s=n,u=e;if(e=Ht,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=LT(a);if(p!==null){p.flags&=-257,VT(p,a,s,o,e),p.mode&1&&jT(o,l,e),e=p,u=l;var m=e.updateQueue;if(m===null){var g=new Set;g.add(u),e.updateQueue=g}else m.add(u);break e}else{if(!(e&1)){jT(o,l,e),XE();break e}u=Error(te(426))}}else if(et&&s.mode&1){var y=LT(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),VT(y,a,s,o,e),OE(cu(u,s));break e}}o=u=cu(u,s),Ct!==4&&(Ct=2),Tc===null?Tc=[o]:Tc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=s2(o,u,e);kT(o,v);break e;case 1:s=u;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Eo===null||!Eo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=u2(o,s,e);kT(o,S);break e}}o=o.return}while(o!==null)}P2(n)}catch(x){e=x,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function T2(){var t=Yp.current;return Yp.current=Xp,t===null?Xp:t}function XE(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Dt===null||!(Aa&268435455)&&!(Fg&268435455)||oo(Dt,Ht)}function Zp(t,e){var n=Ne;Ne|=2;var r=T2();(Dt!==t||Ht!==e)&&(ci=null,ga(t,e));do try{NU();break}catch(i){S2(t,i)}while(!0);if(kE(),Ne=n,Yp.current=r,Et!==null)throw Error(te(261));return Dt=null,Ht=0,Ct}function NU(){for(;Et!==null;)A2(Et)}function RU(){for(;Et!==null&&!iB();)A2(Et)}function A2(t){var e=O2(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?P2(t):Et=e,WE.current=null}function P2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AU(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,Et=null;return}}else if(n=TU(n,e,Nn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Ct===0&&(Ct=5)}function ea(t,e,n){var r=Ve,i=er.transition;try{er.transition=null,Ve=1,MU(t,e,n,r)}finally{er.transition=i,Ve=r}return null}function MU(t,e,n,r){do Ks();while(ho!==null);if(Ne&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pB(t,o),t===Dt&&(Et=Dt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nh||(Nh=!0,C2(Mp,function(){return Ks(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=er.transition,er.transition=null;var a=Ve;Ve=1;var s=Ne;Ne|=4,WE.current=null,IU(t,n),b2(n,t),eU(x_),Dp=!!E_,x_=E_=null,t.current=n,OU(n),oB(),Ne=s,Ve=a,er.transition=o}else t.current=n;if(Nh&&(Nh=!1,ho=t,Jp=i),o=t.pendingLanes,o===0&&(Eo=null),uB(n.stateNode),Sn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qp)throw Qp=!1,t=z_,z_=null,t;return Jp&1&&t.tag!==0&&Ks(),o=t.pendingLanes,o&1?t===W_?Ac++:(Ac=0,W_=t):Ac=0,Vo(),null}function Ks(){if(ho!==null){var t=sR(Jp),e=er.transition,n=Ve;try{if(er.transition=null,Ve=16>t?16:t,ho===null)var r=!1;else{if(t=ho,ho=null,Jp=0,Ne&6)throw Error(te(331));var i=Ne;for(Ne|=4,ce=t.current;ce!==null;){var o=ce,a=o.child;if(ce.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(ce=l;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:Sc(8,c,o)}var f=c.child;if(f!==null)f.return=c,ce=f;else for(;ce!==null;){c=ce;var d=c.sibling,p=c.return;if(v2(c),c===l){ce=null;break}if(d!==null){d.return=p,ce=d;break}ce=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ce=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ce=a;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ce=v;break e}ce=o.return}}var w=t.current;for(ce=w;ce!==null;){a=ce;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ce=_;else e:for(a=w;ce!==null;){if(s=ce,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Vg(9,s)}}catch(x){ct(s,s.return,x)}if(s===a){ce=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,ce=S;break e}ce=s.return}}if(Ne=i,Vo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(kg,t)}catch{}r=!0}return r}finally{Ve=n,er.transition=e}}return!1}function JT(t,e,n){e=cu(n,e),e=s2(t,e,1),t=bo(t,e,1),e=hn(),t!==null&&(ad(t,1,e),Sn(t,e))}function ct(t,e,n){if(t.tag===3)JT(t,t,n);else for(;e!==null;){if(e.tag===3){JT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=cu(n,t),t=u2(e,t,1),e=bo(e,t,1),t=hn(),e!==null&&(ad(e,1,t),Sn(e,t));break}}e=e.return}}function $U(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Ht&n)===n&&(Ct===4||Ct===3&&(Ht&130023424)===Ht&&500>gt()-qE?ga(t,0):HE|=n),Sn(t,e)}function I2(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var n=hn();t=Oi(t,e),t!==null&&(ad(t,e,n),Sn(t,n))}function DU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I2(t,n)}function jU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),I2(t,n)}var O2;O2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,SU(t,e,n);wn=!!(t.flags&131072)}else wn=!1,et&&e.flags&1048576&&RR(e,zp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pp(t,e),t=e.pendingProps;var i=au(e,sn.current);Gs(e,n),i=VE(null,e,r,t,i,n);var o=FE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(o=!0,Bp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ME(e),i.updater=Lg,e.stateNode=i,i._reactInternals=e,N_(e,r,t,n),e=$_(null,e,r,!0,o,n)):(e.tag=0,et&&o&&PE(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VU(r),t=mr(r,t),i){case 0:e=M_(null,e,r,t,n);break e;case 1:e=UT(null,e,r,t,n);break e;case 11:e=FT(null,e,r,t,n);break e;case 14:e=BT(null,e,r,mr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),M_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),UT(t,e,r,i,n);case 3:e:{if(d2(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,VR(t,e),qp(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=cu(Error(te(423)),e),e=zT(t,e,r,n,i);break e}else if(r!==i){i=cu(Error(te(424)),e),e=zT(t,e,r,n,i);break e}else for(Dn=wo(e.stateNode.containerInfo.firstChild),jn=e,et=!0,wr=null,n=jR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(su(),r===i){e=Ci(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return FR(e),t===null&&O_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,S_(r,i)?a=null:o!==null&&S_(r,o)&&(e.flags|=32),f2(t,e),fn(t,e,a,n),e.child;case 6:return t===null&&O_(e),null;case 13:return h2(t,e,n);case 4:return $E(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uu(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),FT(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ge(Wp,r._currentValue),r._currentValue=a,o!==null)if(Cr(o.value,a)){if(o.children===i.children&&!En.current){e=Ci(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Ei(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),C_(o.return,n,e),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(te(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),C_(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gs(e,n),i=ir(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=mr(r,e.pendingProps),i=mr(r.type,i),BT(t,e,r,i,n);case 15:return l2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),pp(t,e),e.tag=1,xn(r)?(t=!0,Bp(e)):t=!1,Gs(e,n),a2(e,r,i),N_(e,r,i,n),$_(null,e,r,!0,t,n);case 19:return p2(t,e,n);case 22:return c2(t,e,n)}throw Error(te(156,e.tag))};function C2(t,e){return rR(t,e)}function LU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new LU(t,e,n,r)}function YE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VU(t){if(typeof t=="function")return YE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mE)return 11;if(t===gE)return 14}return 2}function So(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yp(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")YE(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case As:return ya(n.children,i,o,e);case pE:a=8,i|=8;break;case n_:return t=Qn(12,n,e,i|2),t.elementType=n_,t.lanes=o,t;case r_:return t=Qn(13,n,e,i),t.elementType=r_,t.lanes=o,t;case i_:return t=Qn(19,n,e,i),t.elementType=i_,t.lanes=o,t;case FN:return Bg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LN:a=10;break e;case VN:a=9;break e;case mE:a=11;break e;case gE:a=14;break e;case to:a=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Qn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ya(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Bg(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=FN,t.lanes=n,t.stateNode={isHidden:!1},t}function n0(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function r0(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jv(0),this.expirationTimes=jv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QE(t,e,n,r,i,o,a,s,u){return t=new FU(t,e,n,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ME(o),t}function BU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function k2(t){if(!t)return Ro;t=t._reactInternals;e:{if(Wa(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(xn(n))return kR(t,n,e)}return e}function N2(t,e,n,r,i,o,a,s,u){return t=QE(n,r,!0,t,i,o,a,s,u),t.context=k2(null),n=t.current,r=hn(),i=xo(n),o=Ei(r,i),o.callback=e??null,bo(n,o,i),t.current.lanes=i,ad(t,i,r),Sn(t,r),t}function Ug(t,e,n,r){var i=e.current,o=hn(),a=xo(i);return n=k2(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bo(i,e,a),t!==null&&(Ir(t,i,a,o),fp(t,i,a)),a}function em(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function JE(t,e){ZT(t,e),(t=t.alternate)&&ZT(t,e)}function UU(){return null}var R2=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZE(t){this._internalRoot=t}zg.prototype.render=ZE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Ug(t,e,null,null)};zg.prototype.unmount=ZE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pa(function(){Ug(null,t,null,null)}),e[Ii]=null}};function zg(t){this._internalRoot=t}zg.prototype.unstable_scheduleHydration=function(t){if(t){var e=cR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<io.length&&e!==0&&e<io[n].priority;n++);io.splice(n,0,t),n===0&&dR(t)}};function ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eA(){}function zU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=em(a);o.call(l)}}var a=N2(e,r,t,0,null,!1,!1,"",eA);return t._reactRootContainer=a,t[Ii]=a.current,Xc(t.nodeType===8?t.parentNode:t),Pa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=em(u);s.call(l)}}var u=QE(t,0,!1,null,null,!1,!1,"",eA);return t._reactRootContainer=u,t[Ii]=u.current,Xc(t.nodeType===8?t.parentNode:t),Pa(function(){Ug(e,u,n,r)}),u}function Hg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=em(a);s.call(u)}}Ug(e,a,t,i)}else a=zU(n,e,t,i,r);return em(a)}uR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ac(e.pendingLanes);n!==0&&(_E(e,n|1),Sn(e,gt()),!(Ne&6)&&(fu=gt()+500,Vo()))}break;case 13:Pa(function(){var r=Oi(t,1);if(r!==null){var i=hn();Ir(r,t,1,i)}}),JE(t,1)}};wE=function(t){if(t.tag===13){var e=Oi(t,134217728);if(e!==null){var n=hn();Ir(e,t,134217728,n)}JE(t,134217728)}};lR=function(t){if(t.tag===13){var e=xo(t),n=Oi(t,e);if(n!==null){var r=hn();Ir(n,t,e,r)}JE(t,e)}};cR=function(){return Ve};fR=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};p_=function(t,e,n){switch(e){case"input":if(s_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$g(r);if(!i)throw Error(te(90));UN(r),s_(r,i)}}}break;case"textarea":WN(t,n);break;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}};QN=GE;JN=Pa;var WU={usingClientEntryPoint:!1,Events:[ud,Cs,$g,XN,YN,GE]},Wl={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HU={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tR(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||UU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{kg=Rh.inject(HU),Hr=Rh}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WU;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ex(e))throw Error(te(200));return BU(t,e,null,n)};zn.createRoot=function(t,e){if(!ex(t))throw Error(te(299));var n=!1,r="",i=R2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QE(t,1,!1,null,null,n,!1,r,i),t[Ii]=e.current,Xc(t.nodeType===8?t.parentNode:t),new ZE(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=tR(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return Pa(t)};zn.hydrate=function(t,e,n){if(!Wg(e))throw Error(te(200));return Hg(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!ex(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=R2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=N2(e,null,t,1,n??null,i,!1,o,a),t[Ii]=e.current,Xc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zg(e)};zn.render=function(t,e,n){if(!Wg(e))throw Error(te(200));return Hg(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!Wg(t))throw Error(te(40));return t._reactRootContainer?(Pa(function(){Hg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1};zn.unstable_batchedUpdates=GE;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wg(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Hg(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function M2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M2)}catch(t){console.error(t)}}M2(),MN.exports=zn;var qU=MN.exports,$2,tA=qU;$2=tA.createRoot,tA.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}var po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(po||(po={}));const nA="popstate";function GU(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return G_("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tm(i)}return XU(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KU(){return Math.random().toString(36).substr(2,8)}function rA(t,e){return{usr:t.state,key:t.key,idx:e}}function G_(t,e,n,r){return n===void 0&&(n=null),of({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ju(e):e,{state:n,key:e&&e.key||r||KU()})}function tm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=po.Pop,u=null,l=c();l==null&&(l=0,a.replaceState(of({},a.state,{idx:l}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=po.Pop;let y=c(),v=y==null?null:y-l;l=y,u&&u({action:s,location:g.location,delta:v})}function d(y,v){s=po.Push;let w=G_(g.location,y,v);l=c()+1;let _=rA(w,l),S=g.createHref(w);try{a.pushState(_,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(S)}o&&u&&u({action:s,location:g.location,delta:1})}function p(y,v){s=po.Replace;let w=G_(g.location,y,v);l=c();let _=rA(w,l),S=g.createHref(w);a.replaceState(_,"",S),o&&u&&u({action:s,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:tm(y);return w=w.replace(/ $/,"%20"),St(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return s},get location(){return t(i,a)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(nA,f),u=y,()=>{i.removeEventListener(nA,f),u=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(y){return a.go(y)}};return g}var iA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(iA||(iA={}));function YU(t,e,n){return n===void 0&&(n="/"),QU(t,e,n)}function QU(t,e,n,r){let i=typeof e=="string"?Ju(e):e,o=tx(i.pathname||"/",n);if(o==null)return null;let a=j2(t);JU(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let l=c5(o);s=s5(a[u],l)}return s}function j2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(St(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=To([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(St(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),j2(o.children,e,c,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:o5(l,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let u of L2(o.path))i(o,a,u)}),e}function L2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=L2(r.join("/")),s=[];return s.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&s.push(...a),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function JU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZU=/^:[\w-]+$/,e5=3,t5=2,n5=1,r5=10,i5=-2,oA=t=>t==="*";function o5(t,e){let n=t.split("/"),r=n.length;return n.some(oA)&&(r+=i5),e&&(r+=t5),n.filter(i=>!oA(i)).reduce((i,o)=>i+(ZU.test(o)?e5:o===""?n5:r5),r)}function a5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function s5(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let u=r[s],l=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=u5({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),d=u.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:To([o,f.pathname]),pathnameBase:p5(To([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=To([o,f.pathnameBase]))}return a}function u5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?l[d]=void 0:l[d]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:a,pattern:t}}function l5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),D2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return D2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function f5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ju(t):t;return{pathname:n?n.startsWith("/")?n:d5(n,e):e,search:m5(r),hash:g5(i)}}function d5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function i0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V2(t,e){let n=h5(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ju(t):(i=of({},t),St(!i.pathname||!i.pathname.includes("?"),i0("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),i0("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),i0("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let u=f5(i,s),l=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const To=t=>t.join("/").replace(/\/\/+/g,"/"),p5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B2=["post","put","patch","delete"];new Set(B2);const v5=["get",...B2];new Set(v5);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}const nx=L.createContext(null),_5=L.createContext(null),Ha=L.createContext(null),qg=L.createContext(null),qa=L.createContext({outlet:null,matches:[],isDataRoute:!1}),U2=L.createContext(null);function w5(t,e){let{relative:n}=e===void 0?{}:e;cd()||St(!1);let{basename:r,navigator:i}=L.useContext(Ha),{hash:o,pathname:a,search:s}=W2(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:To([r,a])),i.createHref({pathname:u,search:s,hash:o})}function cd(){return L.useContext(qg)!=null}function Gg(){return cd()||St(!1),L.useContext(qg).location}function z2(t){L.useContext(Ha).static||L.useLayoutEffect(t)}function fd(){let{isDataRoute:t}=L.useContext(qa);return t?R5():b5()}function b5(){cd()||St(!1);let t=L.useContext(nx),{basename:e,future:n,navigator:r}=L.useContext(Ha),{matches:i}=L.useContext(qa),{pathname:o}=Gg(),a=JSON.stringify(V2(i,n.v7_relativeSplatPath)),s=L.useRef(!1);return z2(()=>{s.current=!0}),L.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){r.go(l);return}let f=F2(l,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:To([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function W2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(Ha),{matches:i}=L.useContext(qa),{pathname:o}=Gg(),a=JSON.stringify(V2(i,r.v7_relativeSplatPath));return L.useMemo(()=>F2(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function E5(t,e){return x5(t,e)}function x5(t,e,n,r){cd()||St(!1);let{navigator:i,static:o}=L.useContext(Ha),{matches:a}=L.useContext(qa),s=a[a.length-1],u=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Gg(),f;if(e){var d;let v=typeof e=="string"?Ju(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||St(!1),f=v}else f=c;let p=f.pathname||"/",m=p;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=YU(t,{pathname:m}),y=I5(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},u,v.params),pathname:To([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:To([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?L.createElement(qg.Provider,{value:{location:af({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:po.Pop}},y):y}function S5(){let t=N5(),e=y5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const T5=L.createElement(S5,null);class A5 extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(qa.Provider,{value:this.props.routeContext},L.createElement(U2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P5(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(nx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(qa.Provider,{value:e},r)}function I5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||St(!1),a=a.slice(0,Math.min(a.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){u=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,m=!1,g=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||T5,u&&(l<0&&d===0?(M5("route-fallback"),m=!0,y=null):l===d&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,d+1)),w=()=>{let _;return p?_=g:m?_=y:f.route.Component?_=L.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,L.createElement(P5,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?L.createElement(A5,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var H2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(H2||{}),q2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(q2||{});function O5(t){let e=L.useContext(nx);return e||St(!1),e}function C5(t){let e=L.useContext(_5);return e||St(!1),e}function k5(t){let e=L.useContext(qa);return e||St(!1),e}function G2(t){let e=k5(),n=e.matches[e.matches.length-1];return n.route.id||St(!1),n.route.id}function N5(){var t;let e=L.useContext(U2),n=C5(),r=G2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function R5(){let{router:t}=O5(H2.UseNavigateStable),e=G2(q2.UseNavigateStable),n=L.useRef(!1);return z2(()=>{n.current=!0}),L.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,af({fromRouteId:e},o)))},[t,e])}const aA={};function M5(t,e,n){aA[t]||(aA[t]=!0)}function $5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uc(t){St(!1)}function D5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=po.Pop,navigator:o,static:a=!1,future:s}=t;cd()&&St(!1);let u=e.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:u,navigator:o,static:a,future:af({v7_relativeSplatPath:!1},s)}),[u,s,o,a]);typeof r=="string"&&(r=Ju(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:m="default"}=r,g=L.useMemo(()=>{let y=tx(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:p,key:m},navigationType:i}},[u,c,f,d,p,m,i]);return g==null?null:L.createElement(Ha.Provider,{value:l},L.createElement(qg.Provider,{children:n,value:g}))}function j5(t){let{children:e,location:n}=t;return E5(K_(e),n)}new Promise(()=>{});function K_(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let o=[...e,i];if(r.type===L.Fragment){n.push.apply(n,K_(r.props.children,o));return}r.type!==uc&&St(!1),!r.props.index||!r.props.children||St(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=K_(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function L5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function V5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F5(t,e){return t.button===0&&(!e||e==="_self")&&!V5(t)}const B5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U5="6";try{window.__reactRouterVersion=U5}catch{}const z5="startTransition",sA=$3[z5];function W5(t){let{basename:e,children:n,future:r,window:i}=t,o=L.useRef();o.current==null&&(o.current=GU({window:i,v5Compat:!0}));let a=o.current,[s,u]=L.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},c=L.useCallback(f=>{l&&sA?sA(()=>u(f)):u(f)},[u,l]);return L.useLayoutEffect(()=>a.listen(c),[a,c]),L.useEffect(()=>$5(r),[r]),L.createElement(D5,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const H5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uA=L.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:u,to:l,preventScrollReset:c,viewTransition:f}=e,d=L5(e,B5),{basename:p}=L.useContext(Ha),m,g=!1;if(typeof l=="string"&&q5.test(l)&&(m=l,H5))try{let _=new URL(window.location.href),S=l.startsWith("//")?new URL(_.protocol+l):new URL(l),x=tx(S.pathname,p);S.origin===_.origin&&x!=null?l=x+S.search+S.hash:g=!0}catch{}let y=w5(l,{relative:i}),v=G5(l,{replace:a,state:s,target:u,preventScrollReset:c,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||v(_)}return L.createElement("a",X_({},d,{href:m||y,onClick:g||o?r:w,ref:n,target:u}))});var lA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lA||(lA={}));var cA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cA||(cA={}));function G5(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,u=fd(),l=Gg(),c=W2(t,{relative:a});return L.useCallback(f=>{if(F5(f,n)){f.preventDefault();let d=r!==void 0?r:tm(l)===tm(c);u(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[l,u,c,r,i,n,t,o,a,s])}function Pt(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Pt(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var K5={value:()=>{}};function Kg(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new vp(n)}function vp(t){this._=t}function X5(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}vp.prototype=Kg.prototype={constructor:vp,on:function(t,e){var n=this._,r=X5(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Y5(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=fA(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fA(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new vp(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Y5(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fA(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=K5,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Y_="http://www.w3.org/1999/xhtml";const dA={svg:"http://www.w3.org/2000/svg",xhtml:Y_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xg(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),dA.hasOwnProperty(e)?{space:dA[e],local:t}:t}function Q5(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Y_&&e.documentElement.namespaceURI===Y_?e.createElement(t):e.createElementNS(n,t)}}function J5(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function K2(t){var e=Xg(t);return(e.local?J5:Q5)(e)}function Z5(){}function rx(t){return t==null?Z5:function(){return this.querySelector(t)}}function ez(t){typeof t!="function"&&(t=rx(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Bn(r,this._parents)}function tz(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function nz(){return[]}function X2(t){return t==null?nz:function(){return this.querySelectorAll(t)}}function rz(t){return function(){return tz(t.apply(this,arguments))}}function iz(t){typeof t=="function"?t=rz(t):t=X2(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new Bn(r,i)}function Y2(t){return function(){return this.matches(t)}}function Q2(t){return function(e){return e.matches(t)}}var oz=Array.prototype.find;function az(t){return function(){return oz.call(this.children,t)}}function sz(){return this.firstElementChild}function uz(t){return this.select(t==null?sz:az(typeof t=="function"?t:Q2(t)))}var lz=Array.prototype.filter;function cz(){return Array.from(this.children)}function fz(t){return function(){return lz.call(this.children,t)}}function dz(t){return this.selectAll(t==null?cz:fz(typeof t=="function"?t:Q2(t)))}function hz(t){typeof t!="function"&&(t=Y2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new Bn(r,this._parents)}function J2(t){return new Array(t.length)}function pz(){return new Bn(this._enter||this._groups.map(J2),this._parents)}function nm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}nm.prototype={constructor:nm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mz(t){return function(){return t}}function gz(t,e,n,r,i,o){for(var a=0,s,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new nm(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function yz(t,e,n,r,i,o,a){var s,u,l=new Map,c=e.length,f=o.length,d=new Array(c),p;for(s=0;s<c;++s)(u=e[s])&&(d[s]=p=a.call(u,u.__data__,s,e)+"",l.has(p)?i[s]=u:l.set(p,u));for(s=0;s<f;++s)p=a.call(t,o[s],s,o)+"",(u=l.get(p))?(r[s]=u,u.__data__=o[s],l.delete(p)):n[s]=new nm(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(d[s])===u&&(i[s]=u)}function vz(t){return t.__data__}function _z(t,e){if(!arguments.length)return Array.from(this,vz);var n=e?yz:gz,r=this._parents,i=this._groups;typeof t!="function"&&(t=mz(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],d=f.length,p=wz(t.call(c,c&&c.__data__,l,r)),m=p.length,g=s[l]=new Array(m),y=a[l]=new Array(m),v=u[l]=new Array(d);n(c,f,g,y,v,p,e);for(var w=0,_=0,S,x;w<m;++w)if(S=g[w]){for(w>=_&&(_=w+1);!(x=y[_])&&++_<m;);S._next=x||null}}return a=new Bn(a,r),a._enter=s,a._exit=u,a}function wz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bz(){return new Bn(this._exit||this._groups.map(J2),this._parents)}function Ez(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function xz(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],f=l.length,d=s[u]=new Array(f),p,m=0;m<f;++m)(p=l[m]||c[m])&&(d[m]=p);for(;u<i;++u)s[u]=n[u];return new Bn(s,this._parents)}function Sz(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Tz(t){t||(t=Az);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new Bn(i,this._parents).order()}function Az(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pz(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Iz(){return Array.from(this)}function Oz(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Cz(){let t=0;for(const e of this)++t;return t}function kz(){return!this.node()}function Nz(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Rz(t){return function(){this.removeAttribute(t)}}function Mz(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $z(t,e){return function(){this.setAttribute(t,e)}}function Dz(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function jz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Lz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Vz(t,e){var n=Xg(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Mz:Rz:typeof e=="function"?n.local?Lz:jz:n.local?Dz:$z)(n,e))}function Z2(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fz(t){return function(){this.style.removeProperty(t)}}function Bz(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Uz(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function zz(t,e,n){return arguments.length>1?this.each((e==null?Fz:typeof e=="function"?Uz:Bz)(t,e,n??"")):du(this.node(),t)}function du(t,e){return t.style.getPropertyValue(e)||Z2(t).getComputedStyle(t,null).getPropertyValue(e)}function Wz(t){return function(){delete this[t]}}function Hz(t,e){return function(){this[t]=e}}function qz(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Gz(t,e){return arguments.length>1?this.each((e==null?Wz:typeof e=="function"?qz:Hz)(t,e)):this.node()[t]}function eM(t){return t.trim().split(/^|\s+/)}function ix(t){return t.classList||new tM(t)}function tM(t){this._node=t,this._names=eM(t.getAttribute("class")||"")}tM.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function nM(t,e){for(var n=ix(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function rM(t,e){for(var n=ix(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Kz(t){return function(){nM(this,t)}}function Xz(t){return function(){rM(this,t)}}function Yz(t,e){return function(){(e.apply(this,arguments)?nM:rM)(this,t)}}function Qz(t,e){var n=eM(t+"");if(arguments.length<2){for(var r=ix(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Yz:e?Kz:Xz)(n,e))}function Jz(){this.textContent=""}function Zz(t){return function(){this.textContent=t}}function e6(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function t6(t){return arguments.length?this.each(t==null?Jz:(typeof t=="function"?e6:Zz)(t)):this.node().textContent}function n6(){this.innerHTML=""}function r6(t){return function(){this.innerHTML=t}}function i6(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function o6(t){return arguments.length?this.each(t==null?n6:(typeof t=="function"?i6:r6)(t)):this.node().innerHTML}function a6(){this.nextSibling&&this.parentNode.appendChild(this)}function s6(){return this.each(a6)}function u6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function l6(){return this.each(u6)}function c6(t){var e=typeof t=="function"?t:K2(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function f6(){return null}function d6(t,e){var n=typeof t=="function"?t:K2(t),r=e==null?f6:typeof e=="function"?e:rx(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function h6(){var t=this.parentNode;t&&t.removeChild(this)}function p6(){return this.each(h6)}function m6(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g6(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function y6(t){return this.select(t?g6:m6)}function v6(t){return arguments.length?this.property("__data__",t):this.node().__data__}function _6(t){return function(e){t.call(this,e,this.__data__)}}function w6(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function b6(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function E6(t,e,n){return function(){var r=this.__on,i,o=_6(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function x6(t,e,n){var r=w6(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?E6:b6,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function iM(t,e,n){var r=Z2(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function S6(t,e){return function(){return iM(this,t,e)}}function T6(t,e){return function(){return iM(this,t,e.apply(this,arguments))}}function A6(t,e){return this.each((typeof e=="function"?T6:S6)(t,e))}function*P6(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var oM=[null];function Bn(t,e){this._groups=t,this._parents=e}function dd(){return new Bn([[document.documentElement]],oM)}function I6(){return this}Bn.prototype=dd.prototype={constructor:Bn,select:ez,selectAll:iz,selectChild:uz,selectChildren:dz,filter:hz,data:_z,enter:pz,exit:bz,join:Ez,merge:xz,selection:I6,order:Sz,sort:Tz,call:Pz,nodes:Iz,node:Oz,size:Cz,empty:kz,each:Nz,attr:Vz,style:zz,property:Gz,classed:Qz,text:t6,html:o6,raise:s6,lower:l6,append:c6,insert:d6,remove:p6,clone:y6,datum:v6,on:x6,dispatch:A6,[Symbol.iterator]:P6};function Mn(t){return typeof t=="string"?new Bn([[document.querySelector(t)]],[document.documentElement]):new Bn([[t]],oM)}function O6(t){let e;for(;e=t.sourceEvent;)t=e;return t}function yr(t,e){if(t=O6(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const C6={passive:!1},sf={capture:!0,passive:!1};function o0(t){t.stopImmediatePropagation()}function Xs(t){t.preventDefault(),t.stopImmediatePropagation()}function aM(t){var e=t.document.documentElement,n=Mn(t).on("dragstart.drag",Xs,sf);"onselectstart"in e?n.on("selectstart.drag",Xs,sf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function sM(t,e){var n=t.document.documentElement,r=Mn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Xs,sf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Mh=t=>()=>t;function Q_(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Q_.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function k6(t){return!t.ctrlKey&&!t.button}function N6(){return this.parentNode}function R6(t,e){return e??{x:t.x,y:t.y}}function M6(){return navigator.maxTouchPoints||"ontouchstart"in this}function uM(){var t=k6,e=N6,n=R6,r=M6,i={},o=Kg("start","drag","end"),a=0,s,u,l,c,f=0;function d(S){S.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",v,C6).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(S,x){if(!(c||!t.call(this,S,x))){var A=_(this,e.call(this,S,x),S,x,"mouse");A&&(Mn(S.view).on("mousemove.drag",m,sf).on("mouseup.drag",g,sf),aM(S.view),o0(S),l=!1,s=S.clientX,u=S.clientY,A("start",S))}}function m(S){if(Xs(S),!l){var x=S.clientX-s,A=S.clientY-u;l=x*x+A*A>f}i.mouse("drag",S)}function g(S){Mn(S.view).on("mousemove.drag mouseup.drag",null),sM(S.view,l),Xs(S),i.mouse("end",S)}function y(S,x){if(t.call(this,S,x)){var A=S.changedTouches,b=e.call(this,S,x),T=A.length,P,O;for(P=0;P<T;++P)(O=_(this,b,S,x,A[P].identifier,A[P]))&&(o0(S),O("start",S,A[P]))}}function v(S){var x=S.changedTouches,A=x.length,b,T;for(b=0;b<A;++b)(T=i[x[b].identifier])&&(Xs(S),T("drag",S,x[b]))}function w(S){var x=S.changedTouches,A=x.length,b,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),b=0;b<A;++b)(T=i[x[b].identifier])&&(o0(S),T("end",S,x[b]))}function _(S,x,A,b,T,P){var O=o.copy(),k=yr(P||A,x),N,C,R;if((R=n.call(S,new Q_("beforestart",{sourceEvent:A,target:d,identifier:T,active:a,x:k[0],y:k[1],dx:0,dy:0,dispatch:O}),b))!=null)return N=R.x-k[0]||0,C=R.y-k[1]||0,function V($,F,D){var B=k,U;switch($){case"start":i[T]=V,U=a++;break;case"end":delete i[T],--a;case"drag":k=yr(D||F,x),U=a;break}O.call($,S,new Q_($,{sourceEvent:F,subject:R,target:d,identifier:T,active:U,x:k[0]+N,y:k[1]+C,dx:k[0]-B[0],dy:k[1]-B[1],dispatch:O}),b)}}return d.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Mh(!!S),d):t},d.container=function(S){return arguments.length?(e=typeof S=="function"?S:Mh(S),d):e},d.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Mh(S),d):n},d.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Mh(!!S),d):r},d.on=function(){var S=o.on.apply(o,arguments);return S===o?d:S},d.clickDistance=function(S){return arguments.length?(f=(S=+S)*S,d):Math.sqrt(f)},d}function ox(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hd(){}var uf=.7,rm=1/uf,Ys="\\s*([+-]?\\d+)\\s*",lf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$6=/^#([0-9a-f]{3,8})$/,D6=new RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),j6=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),L6=new RegExp(`^rgba\\(${Ys},${Ys},${Ys},${lf}\\)$`),V6=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${lf}\\)$`),F6=new RegExp(`^hsl\\(${lf},${Gr},${Gr}\\)$`),B6=new RegExp(`^hsla\\(${lf},${Gr},${Gr},${lf}\\)$`),hA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ox(hd,Ia,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pA,formatHex:pA,formatHex8:U6,formatHsl:z6,formatRgb:mA,toString:mA});function pA(){return this.rgb().formatHex()}function U6(){return this.rgb().formatHex8()}function z6(){return cM(this).formatHsl()}function mA(){return this.rgb().formatRgb()}function Ia(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$6.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gA(e):n===3?new bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$h(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$h(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=D6.exec(t))?new bn(e[1],e[2],e[3],1):(e=j6.exec(t))?new bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=L6.exec(t))?$h(e[1],e[2],e[3],e[4]):(e=V6.exec(t))?$h(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=F6.exec(t))?_A(e[1],e[2]/100,e[3]/100,1):(e=B6.exec(t))?_A(e[1],e[2]/100,e[3]/100,e[4]):hA.hasOwnProperty(t)?gA(hA[t]):t==="transparent"?new bn(NaN,NaN,NaN,0):null}function gA(t){return new bn(t>>16&255,t>>8&255,t&255,1)}function $h(t,e,n,r){return r<=0&&(t=e=n=NaN),new bn(t,e,n,r)}function W6(t){return t instanceof hd||(t=Ia(t)),t?(t=t.rgb(),new bn(t.r,t.g,t.b,t.opacity)):new bn}function J_(t,e,n,r){return arguments.length===1?W6(t):new bn(t,e,n,r??1)}function bn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ox(bn,J_,lM(hd,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?uf:Math.pow(uf,t),new bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bn(va(this.r),va(this.g),va(this.b),im(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yA,formatHex:yA,formatHex8:H6,formatRgb:vA,toString:vA}));function yA(){return`#${la(this.r)}${la(this.g)}${la(this.b)}`}function H6(){return`#${la(this.r)}${la(this.g)}${la(this.b)}${la((isNaN(this.opacity)?1:this.opacity)*255)}`}function vA(){const t=im(this.opacity);return`${t===1?"rgb(":"rgba("}${va(this.r)}, ${va(this.g)}, ${va(this.b)}${t===1?")":`, ${t})`}`}function im(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function va(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function la(t){return t=va(t),(t<16?"0":"")+t.toString(16)}function _A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xr(t,e,n,r)}function cM(t){if(t instanceof xr)return new xr(t.h,t.s,t.l,t.opacity);if(t instanceof hd||(t=Ia(t)),!t)return new xr;if(t instanceof xr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new xr(a,s,u,t.opacity)}function q6(t,e,n,r){return arguments.length===1?cM(t):new xr(t,e,n,r??1)}function xr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ox(xr,q6,lM(hd,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uf:Math.pow(uf,t),new xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bn(a0(t>=240?t-240:t+120,i,r),a0(t,i,r),a0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xr(wA(this.h),Dh(this.s),Dh(this.l),im(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=im(this.opacity);return`${t===1?"hsl(":"hsla("}${wA(this.h)}, ${Dh(this.s)*100}%, ${Dh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wA(t){return t=(t||0)%360,t<0?t+360:t}function Dh(t){return Math.max(0,Math.min(1,t||0))}function a0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ax=t=>()=>t;function G6(t,e){return function(n){return t+n*e}}function K6(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function X6(t){return(t=+t)==1?fM:function(e,n){return n-e?K6(e,n,t):ax(isNaN(e)?n:e)}}function fM(t,e){var n=e-t;return n?G6(t,n):ax(isNaN(t)?e:t)}const om=function t(e){var n=X6(e);function r(i,o){var a=n((i=J_(i)).r,(o=J_(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=fM(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Y6(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Q6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function J6(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Zu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Z6(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function br(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function e9(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Z_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s0=new RegExp(Z_.source,"g");function t9(t){return function(){return t}}function n9(t){return function(e){return t(e)+""}}function dM(t,e){var n=Z_.lastIndex=s0.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Z_.exec(t))&&(i=s0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:br(r,i)})),n=s0.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?n9(u[0].x):t9(e):(e=u.length,function(l){for(var c=0,f;c<e;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function Zu(t,e){var n=typeof e,r;return e==null||n==="boolean"?ax(e):(n==="number"?br:n==="string"?(r=Ia(e))?(e=r,om):dM:e instanceof Ia?om:e instanceof Date?Z6:Q6(e)?Y6:Array.isArray(e)?J6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?e9:br)(t,e)}function sx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var bA=180/Math.PI,ew={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hM(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*bA,skewX:Math.atan(u)*bA,scaleX:a,scaleY:s}}var jh;function r9(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ew:hM(e.a,e.b,e.c,e.d,e.e,e.f)}function i9(t){return t==null||(jh||(jh=document.createElementNS("http://www.w3.org/2000/svg","g")),jh.setAttribute("transform",t),!(t=jh.transform.baseVal.consolidate()))?ew:(t=t.matrix,hM(t.a,t.b,t.c,t.d,t.e,t.f))}function pM(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,d,p,m){if(l!==f||c!==d){var g=p.push("translate(",null,e,null,n);m.push({i:g-4,x:br(l,f)},{i:g-2,x:br(c,d)})}else(f||d)&&p.push("translate("+f+e+d+n)}function a(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:br(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:br(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,p,m){if(l!==f||c!==d){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:br(l,f)},{i:g-2,x:br(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,d),a(l.rotate,c.rotate,f,d),s(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(p){for(var m=-1,g=d.length,y;++m<g;)f[(y=d[m]).i]=y.x(p);return f.join("")}}}var o9=pM(r9,"px, ","px)","deg)"),a9=pM(i9,", ",")",")"),s9=1e-12;function EA(t){return((t=Math.exp(t))+1/t)/2}function u9(t){return((t=Math.exp(t))-1/t)/2}function l9(t){return((t=Math.exp(2*t))-1)/(t+1)}const c9=function t(e,n,r){function i(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],f=a[1],d=a[2],p=c-s,m=f-u,g=p*p+m*m,y,v;if(g<s9)v=Math.log(d/l)/e,y=function(b){return[s+b*p,u+b*m,l*Math.exp(e*b*v)]};else{var w=Math.sqrt(g),_=(d*d-l*l+r*g)/(2*l*n*w),S=(d*d-l*l-r*g)/(2*d*n*w),x=Math.log(Math.sqrt(_*_+1)-_),A=Math.log(Math.sqrt(S*S+1)-S);v=(A-x)/e,y=function(b){var T=b*v,P=EA(x),O=l/(n*w)*(P*l9(e*T+x)-u9(x));return[s+O*p,u+O*m,l*P/EA(e*T+x)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return t(a,s,u)},i}(Math.SQRT2,2,4);function f9(t,e){e===void 0&&(e=t,t=Zu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}var hu=0,lc=0,Hl=0,mM=1e3,am,cc,sm=0,Oa=0,Yg=0,cf=typeof performance=="object"&&performance.now?performance:Date,gM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ux(){return Oa||(gM(d9),Oa=cf.now()+Yg)}function d9(){Oa=0}function um(){this._call=this._time=this._next=null}um.prototype=yM.prototype={constructor:um,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ux():+n)+(e==null?0:+e),!this._next&&cc!==this&&(cc?cc._next=this:am=this,cc=this),this._call=t,this._time=n,tw()},stop:function(){this._call&&(this._call=null,this._time=1/0,tw())}};function yM(t,e,n){var r=new um;return r.restart(t,e,n),r}function h9(){ux(),++hu;for(var t=am,e;t;)(e=Oa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--hu}function xA(){Oa=(sm=cf.now())+Yg,hu=lc=0;try{h9()}finally{hu=0,m9(),Oa=0}}function p9(){var t=cf.now(),e=t-sm;e>mM&&(Yg-=e,sm=t)}function m9(){for(var t,e=am,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:am=n);cc=t,tw(r)}function tw(t){if(!hu){lc&&(lc=clearTimeout(lc));var e=t-Oa;e>24?(t<1/0&&(lc=setTimeout(xA,t-cf.now()-Yg)),Hl&&(Hl=clearInterval(Hl))):(Hl||(sm=cf.now(),Hl=setInterval(p9,mM)),hu=1,gM(xA))}}function SA(t,e,n){var r=new um;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var g9=Kg("start","end","cancel","interrupt"),y9=[],vM=0,TA=1,nw=2,_p=3,AA=4,rw=5,wp=6;function Qg(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;v9(t,n,{name:e,index:r,group:i,on:g9,tween:y9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vM})}function lx(t,e){var n=Rr(t,e);if(n.state>vM)throw new Error("too late; already scheduled");return n}function ri(t,e){var n=Rr(t,e);if(n.state>_p)throw new Error("too late; already running");return n}function Rr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function v9(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=yM(o,0,n.time);function o(l){n.state=TA,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,f,d,p;if(n.state!==TA)return u();for(c in r)if(p=r[c],p.name===n.name){if(p.state===_p)return SA(a);p.state===AA?(p.state=wp,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=wp,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(SA(function(){n.state===_p&&(n.state=AA,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=nw,n.on.call("start",t,t.__data__,n.index,n.group),n.state===nw){for(n.state=_p,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=rw,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);n.state===rw&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=wp,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function bp(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>nw&&r.state<rw,r.state=wp,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function _9(t){return this.each(function(){bp(this,t)})}function w9(t,e){var n,r;return function(){var i=ri(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function b9(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ri(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function E9(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Rr(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?w9:b9)(n,t,e))}function cx(t,e,n){var r=t._id;return t.each(function(){var i=ri(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Rr(i,r).value[e]}}function _M(t,e){var n;return(typeof e=="number"?br:e instanceof Ia?om:(n=Ia(e))?(e=n,om):dM)(t,e)}function x9(t){return function(){this.removeAttribute(t)}}function S9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T9(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function A9(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function P9(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function I9(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function O9(t,e){var n=Xg(t),r=n==="transform"?a9:_M;return this.attrTween(t,typeof e=="function"?(n.local?I9:P9)(n,r,cx(this,"attr."+t,e)):e==null?(n.local?S9:x9)(n):(n.local?A9:T9)(n,r,e))}function C9(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function k9(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function N9(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&k9(t,o)),n}return i._value=e,i}function R9(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&C9(t,o)),n}return i._value=e,i}function M9(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Xg(t);return this.tween(n,(r.local?N9:R9)(r,e))}function $9(t,e){return function(){lx(this,t).delay=+e.apply(this,arguments)}}function D9(t,e){return e=+e,function(){lx(this,t).delay=e}}function j9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$9:D9)(e,t)):Rr(this.node(),e).delay}function L9(t,e){return function(){ri(this,t).duration=+e.apply(this,arguments)}}function V9(t,e){return e=+e,function(){ri(this,t).duration=e}}function F9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?L9:V9)(e,t)):Rr(this.node(),e).duration}function B9(t,e){if(typeof e!="function")throw new Error;return function(){ri(this,t).ease=e}}function U9(t){var e=this._id;return arguments.length?this.each(B9(e,t)):Rr(this.node(),e).ease}function z9(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ri(this,t).ease=n}}function W9(t){if(typeof t!="function")throw new Error;return this.each(z9(this._id,t))}function H9(t){typeof t!="function"&&(t=Y2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new ki(r,this._parents,this._name,this._id)}function q9(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],l=n[s],c=u.length,f=a[s]=new Array(c),d,p=0;p<c;++p)(d=u[p]||l[p])&&(f[p]=d);for(;s<r;++s)a[s]=e[s];return new ki(a,this._parents,this._name,this._id)}function G9(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function K9(t,e,n){var r,i,o=G9(e)?lx:ri;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function X9(t,e){var n=this._id;return arguments.length<2?Rr(this.node(),n).on.on(t):this.each(K9(n,t,e))}function Y9(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Q9(){return this.on("end.remove",Y9(this._id))}function J9(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rx(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,f,d=0;d<u;++d)(c=s[d])&&(f=t.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,Qg(l[d],e,n,d,l,Rr(c,n)));return new ki(o,this._parents,e,n)}function Z9(t){var e=this._name,n=this._id;typeof t!="function"&&(t=X2(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=t.call(c,c.__data__,f,u),p,m=Rr(c,n),g=0,y=d.length;g<y;++g)(p=d[g])&&Qg(p,e,n,g,d,m);o.push(d),a.push(c)}return new ki(o,a,e,n)}var e8=dd.prototype.constructor;function t8(){return new e8(this._groups,this._parents)}function n8(t,e){var n,r,i;return function(){var o=du(this,t),a=(this.style.removeProperty(t),du(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function wM(t){return function(){this.style.removeProperty(t)}}function r8(t,e,n){var r,i=n+"",o;return function(){var a=du(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function i8(t,e,n){var r,i,o;return function(){var a=du(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),du(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function o8(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var u=ri(this,t),l=u.on,c=u.value[o]==null?s||(s=wM(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function a8(t,e,n){var r=(t+="")=="transform"?o9:_M;return e==null?this.styleTween(t,n8(t,r)).on("end.style."+t,wM(t)):typeof e=="function"?this.styleTween(t,i8(t,r,cx(this,"style."+t,e))).each(o8(this._id,t)):this.styleTween(t,r8(t,r,e),n).on("end.style."+t,null)}function s8(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function u8(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&s8(t,a,n)),r}return o._value=e,o}function l8(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,u8(t,e,n??""))}function c8(t){return function(){this.textContent=t}}function f8(t){return function(){var e=t(this);this.textContent=e??""}}function d8(t){return this.tween("text",typeof t=="function"?f8(cx(this,"text",t)):c8(t==null?"":t+""))}function h8(t){return function(e){this.textContent=t.call(this,e)}}function p8(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&h8(i)),e}return r._value=t,r}function m8(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,p8(t))}function g8(){for(var t=this._name,e=this._id,n=bM(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Rr(u,e);Qg(u,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ki(r,this._parents,t,n)}function y8(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=ri(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&o()})}var v8=0;function ki(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function bM(){return++v8}var ui=dd.prototype;ki.prototype={constructor:ki,select:J9,selectAll:Z9,selectChild:ui.selectChild,selectChildren:ui.selectChildren,filter:H9,merge:q9,selection:t8,transition:g8,call:ui.call,nodes:ui.nodes,node:ui.node,size:ui.size,empty:ui.empty,each:ui.each,on:X9,attr:O9,attrTween:M9,style:a8,styleTween:l8,text:d8,textTween:m8,remove:Q9,tween:E9,delay:j9,duration:F9,ease:U9,easeVarying:W9,end:y8,[Symbol.iterator]:ui[Symbol.iterator]};function _8(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var w8={time:null,delay:0,duration:250,ease:_8};function b8(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function E8(t){var e,n;t instanceof ki?(e=t._id,t=t._name):(e=bM(),(n=w8).time=ux(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Qg(u,t,e,l,a,n||b8(u,e));return new ki(r,this._parents,t,e)}dd.prototype.interrupt=_9;dd.prototype.transition=E8;const Lh=t=>()=>t;function x8(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mi(t,e,n){this.k=t,this.x=e,this.y=n}mi.prototype={constructor:mi,scale:function(t){return t===1?this:new mi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new mi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jg=new mi(1,0,0);EM.prototype=mi.prototype;function EM(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Jg;return t.__zoom}function u0(t){t.stopImmediatePropagation()}function ql(t){t.preventDefault(),t.stopImmediatePropagation()}function S8(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function T8(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function PA(){return this.__zoom||Jg}function A8(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function P8(){return navigator.maxTouchPoints||"ontouchstart"in this}function I8(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function xM(){var t=S8,e=T8,n=I8,r=A8,i=P8,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=c9,l=Kg("start","zoom","end"),c,f,d,p=500,m=150,g=0,y=10;function v(R){R.property("__zoom",PA).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",k).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(R,V,$,F){var D=R.selection?R.selection():R;D.property("__zoom",PA),R!==D?x(R,V,$,F):D.interrupt().each(function(){A(this,arguments).event(F).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},v.scaleBy=function(R,V,$,F){v.scaleTo(R,function(){var D=this.__zoom.k,B=typeof V=="function"?V.apply(this,arguments):V;return D*B},$,F)},v.scaleTo=function(R,V,$,F){v.transform(R,function(){var D=e.apply(this,arguments),B=this.__zoom,U=$==null?S(D):typeof $=="function"?$.apply(this,arguments):$,q=B.invert(U),W=typeof V=="function"?V.apply(this,arguments):V;return n(_(w(B,W),U,q),D,a)},$,F)},v.translateBy=function(R,V,$,F){v.transform(R,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),a)},null,F)},v.translateTo=function(R,V,$,F,D){v.transform(R,function(){var B=e.apply(this,arguments),U=this.__zoom,q=F==null?S(B):typeof F=="function"?F.apply(this,arguments):F;return n(Jg.translate(q[0],q[1]).scale(U.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof $=="function"?-$.apply(this,arguments):-$),B,a)},F,D)};function w(R,V){return V=Math.max(o[0],Math.min(o[1],V)),V===R.k?R:new mi(V,R.x,R.y)}function _(R,V,$){var F=V[0]-$[0]*R.k,D=V[1]-$[1]*R.k;return F===R.x&&D===R.y?R:new mi(R.k,F,D)}function S(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function x(R,V,$,F){R.on("start.zoom",function(){A(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(F).end()}).tween("zoom",function(){var D=this,B=arguments,U=A(D,B).event(F),q=e.apply(D,B),W=$==null?S(q):typeof $=="function"?$.apply(D,B):$,Y=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ee=D.__zoom,ne=typeof V=="function"?V.apply(D,B):V,ue=u(ee.invert(W).concat(Y/ee.k),ne.invert(W).concat(Y/ne.k));return function(re){if(re===1)re=ne;else{var le=ue(re),Q=Y/le[2];re=new mi(Q,W[0]-le[0]*Q,W[1]-le[1]*Q)}U.zoom(null,re)}})}function A(R,V,$){return!$&&R.__zooming||new b(R,V)}function b(R,V){this.that=R,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(R,V),this.taps=0}b.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,V){return this.mouse&&R!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var V=Mn(this.that).datum();l.call(R,this.that,new x8(R,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:l}),V)}};function T(R,...V){if(!t.apply(this,arguments))return;var $=A(this,V).event(R),F=this.__zoom,D=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),B=yr(R);if($.wheel)($.mouse[0][0]!==B[0]||$.mouse[0][1]!==B[1])&&($.mouse[1]=F.invert($.mouse[0]=B)),clearTimeout($.wheel);else{if(F.k===D)return;$.mouse=[B,F.invert(B)],bp(this),$.start()}ql(R),$.wheel=setTimeout(U,m),$.zoom("mouse",n(_(w(F,D),$.mouse[0],$.mouse[1]),$.extent,a));function U(){$.wheel=null,$.end()}}function P(R,...V){if(d||!t.apply(this,arguments))return;var $=R.currentTarget,F=A(this,V,!0).event(R),D=Mn(R.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",Y,!0),B=yr(R,$),U=R.clientX,q=R.clientY;aM(R.view),u0(R),F.mouse=[B,this.__zoom.invert(B)],bp(this),F.start();function W(ee){if(ql(ee),!F.moved){var ne=ee.clientX-U,ue=ee.clientY-q;F.moved=ne*ne+ue*ue>g}F.event(ee).zoom("mouse",n(_(F.that.__zoom,F.mouse[0]=yr(ee,$),F.mouse[1]),F.extent,a))}function Y(ee){D.on("mousemove.zoom mouseup.zoom",null),sM(ee.view,F.moved),ql(ee),F.event(ee).end()}}function O(R,...V){if(t.apply(this,arguments)){var $=this.__zoom,F=yr(R.changedTouches?R.changedTouches[0]:R,this),D=$.invert(F),B=$.k*(R.shiftKey?.5:2),U=n(_(w($,B),F,D),e.apply(this,V),a);ql(R),s>0?Mn(this).transition().duration(s).call(x,U,F,R):Mn(this).call(v.transform,U,F,R)}}function k(R,...V){if(t.apply(this,arguments)){var $=R.touches,F=$.length,D=A(this,V,R.changedTouches.length===F).event(R),B,U,q,W;for(u0(R),U=0;U<F;++U)q=$[U],W=yr(q,this),W=[W,this.__zoom.invert(W),q.identifier],D.touch0?!D.touch1&&D.touch0[2]!==W[2]&&(D.touch1=W,D.taps=0):(D.touch0=W,B=!0,D.taps=1+!!c);c&&(c=clearTimeout(c)),B&&(D.taps<2&&(f=W[0],c=setTimeout(function(){c=null},p)),bp(this),D.start())}}function N(R,...V){if(this.__zooming){var $=A(this,V).event(R),F=R.changedTouches,D=F.length,B,U,q,W;for(ql(R),B=0;B<D;++B)U=F[B],q=yr(U,this),$.touch0&&$.touch0[2]===U.identifier?$.touch0[0]=q:$.touch1&&$.touch1[2]===U.identifier&&($.touch1[0]=q);if(U=$.that.__zoom,$.touch1){var Y=$.touch0[0],ee=$.touch0[1],ne=$.touch1[0],ue=$.touch1[1],re=(re=ne[0]-Y[0])*re+(re=ne[1]-Y[1])*re,le=(le=ue[0]-ee[0])*le+(le=ue[1]-ee[1])*le;U=w(U,Math.sqrt(re/le)),q=[(Y[0]+ne[0])/2,(Y[1]+ne[1])/2],W=[(ee[0]+ue[0])/2,(ee[1]+ue[1])/2]}else if($.touch0)q=$.touch0[0],W=$.touch0[1];else return;$.zoom("touch",n(_(U,q,W),$.extent,a))}}function C(R,...V){if(this.__zooming){var $=A(this,V).event(R),F=R.changedTouches,D=F.length,B,U;for(u0(R),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),B=0;B<D;++B)U=F[B],$.touch0&&$.touch0[2]===U.identifier?delete $.touch0:$.touch1&&$.touch1[2]===U.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(U=yr(U,this),Math.hypot(f[0]-U[0],f[1]-U[1])<y)){var q=Mn(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return v.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:Lh(+R),v):r},v.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Lh(!!R),v):t},v.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:Lh(!!R),v):i},v.extent=function(R){return arguments.length?(e=typeof R=="function"?R:Lh([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),v):e},v.scaleExtent=function(R){return arguments.length?(o[0]=+R[0],o[1]=+R[1],v):[o[0],o[1]]},v.translateExtent=function(R){return arguments.length?(a[0][0]=+R[0][0],a[1][0]=+R[1][0],a[0][1]=+R[0][1],a[1][1]=+R[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(R){return arguments.length?(n=R,v):n},v.duration=function(R){return arguments.length?(s=+R,v):s},v.interpolate=function(R){return arguments.length?(u=R,v):u},v.on=function(){var R=l.on.apply(l,arguments);return R===l?v:R},v.clickDistance=function(R){return arguments.length?(g=(R=+R)*R,v):Math.sqrt(g)},v.tapDistance=function(R){return arguments.length?(y=+R,v):y},v}const Bi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},ff=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],SM=["Enter"," ","Escape"];var pu;(function(t){t.Strict="strict",t.Loose="loose"})(pu||(pu={}));var _a;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(_a||(_a={}));var df;(function(t){t.Partial="partial",t.Full="full"})(df||(df={}));const TM={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ao;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ao||(ao={}));var lm;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(lm||(lm={}));var ge;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ge||(ge={}));const IA={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function AM(t){return t===null?null:t?"valid":"invalid"}const PM=t=>"id"in t&&"source"in t&&"target"in t,O8=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),fx=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),pd=(t,e=[0,0])=>{const{width:n,height:r}=Ui(t),i=t.origin??e,o=n*i[0],a=r*i[1];return{x:t.position.x-o,y:t.position.y-a}},C8=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let a=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(a=o?e.nodeLookup.get(i):fx(i)?i:e.nodeLookup.get(i.id));const s=a?cm(a,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Zg(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ey(n)},md=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=cm(r);n=Zg(n,i)}}),ey(n)},IM=(t,e,[n,r,i]=[0,0,1],o=!1,a=!1)=>{const s={...gd(e,[n,r,i]),width:e.width/i,height:e.height/i},u=[];for(const l of t.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=l;if(a&&!f||d)continue;const p=c.width??l.width??l.initialWidth??null,m=c.height??l.height??l.initialHeight??null,g=hf(s,gu(l)),y=(p??0)*(m??0),v=o&&g>0;(!l.internals.handleBounds||v||g>=y||l.dragging)&&u.push(l)}return u},k8=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function iw(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function ow({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},a){if(t.size===0)return Promise.resolve(!1);const s=md(t),u=dx(s,e,n,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??o,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration}),Promise.resolve(!0)}function OM({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const a=n.get(t),s=a.parentId?n.get(a.parentId):void 0,{x:u,y:l}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r;let f=i;if(a.extent==="parent"&&!a.expandParent)if(!s)o==null||o("005",Bi.error005());else{const p=s.measured.width,m=s.measured.height;p&&m&&(f=[[u,l],[u+p,l+m]])}else s&&yu(a.extent)&&(f=[[a.extent[0][0]+u,a.extent[0][1]+l],[a.extent[1][0]+u,a.extent[1][1]+l]]);const d=yu(f)?Ca(e,f,a.measured):e;return{position:{x:d.x-u+a.measured.width*c[0],y:d.y-l+a.measured.height*c[1]},positionAbsolute:d}}async function N8({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(d=>d.id)),a=[];for(const d of n){if(d.deletable===!1)continue;const p=o.has(d.id),m=!p&&d.parentId&&a.find(g=>g.id===d.parentId);(p||m)&&a.push(d)}const s=new Set(e.map(d=>d.id)),u=r.filter(d=>d.deletable!==!1),c=k8(a,u);for(const d of u)s.has(d.id)&&!c.find(m=>m.id===d.id)&&c.push(d);if(!i)return{edges:c,nodes:a};const f=await i({nodes:a,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:a}:{edges:[],nodes:[]}:f}const mu=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ca=(t={x:0,y:0},e,n)=>({x:mu(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:mu(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function CM(t,e,n){const{width:r,height:i}=Ui(n),{x:o,y:a}=n.internals.positionAbsolute;return Ca(t,[[o,a],[o+r,a+i]],e)}const OA=(t,e,n)=>t<e?mu(Math.abs(t-e),1,e)/e:t>n?-mu(Math.abs(t-n),1,e)/e:0,kM=(t,e,n=15,r=40)=>{const i=OA(t.x,r,e.width-r)*n,o=OA(t.y,r,e.height-r)*n;return[i,o]},Zg=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),aw=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),ey=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),gu=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=fx(t)?t.internals.positionAbsolute:pd(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0}},cm=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=fx(t)?t.internals.positionAbsolute:pd(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0)}},NM=(t,e)=>ey(Zg(aw(t),aw(e))),hf=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},CA=t=>Sr(t.width)&&Sr(t.height)&&Sr(t.x)&&Sr(t.y),Sr=t=>!isNaN(t)&&isFinite(t),R8=(t,e)=>{},ty=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),gd=({x:t,y:e},[n,r,i],o=!1,a=[1,1])=>{const s={x:(t-n)/i,y:(e-r)/i};return o?ty(s,a):s},RM=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),dx=(t,e,n,r,i,o)=>{const a=e/(t.width*(1+o)),s=n/(t.height*(1+o)),u=Math.min(a,s),l=mu(u,r,i),c=t.x+t.width/2,f=t.y+t.height/2,d=e/2-c*l,p=n/2-f*l;return{x:d,y:p,zoom:l}},fm=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function yu(t){return t!==void 0&&t!=="parent"}function Ui(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function MM(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function $M(t,e={width:0,height:0},n,r,i){const o={...t},a=r.get(n);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(e.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(e.height??0)*s[1]}return o}function kA(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Pc(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:a}=xi(t),s=gd({x:o-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:u,y:l}=n?ty(s,e):s;return{xSnapped:u,ySnapped:l,...s}}const ny=t=>({width:t.offsetWidth,height:t.offsetHeight}),DM=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},M8=["INPUT","SELECT","TEXTAREA"];function sw(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:M8.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const jM=t=>"clientX"in t,xi=(t,e)=>{var o,a;const n=jM(t),r=n?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,i=n?t.clientY:(a=t.touches)==null?void 0:a[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},NA=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:t,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...ny(a)}})};function LM({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const u=t*.125+i*.375+a*.375+n*.125,l=e*.125+o*.375+s*.375+r*.125,c=Math.abs(u-t),f=Math.abs(l-e);return[u,l,c,f]}function Vh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function RA({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case ge.Left:return[e-Vh(e-r,o),n];case ge.Right:return[e+Vh(r-e,o),n];case ge.Top:return[e,n-Vh(n-i,o)];case ge.Bottom:return[e,n+Vh(i-n,o)]}}function VM({sourceX:t,sourceY:e,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:o=ge.Top,curvature:a=.25}){const[s,u]=RA({pos:n,x1:t,y1:e,x2:r,y2:i,c:a}),[l,c]=RA({pos:o,x1:r,y1:i,x2:t,y2:e,c:a}),[f,d,p,m]=LM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${t},${e} C${s},${u} ${l},${c} ${r},${i}`,f,d,p,m]}function FM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,a=Math.abs(r-e)/2,s=r<e?r+a:r-a;return[o,s,i,a]}function $8({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||e.selected||t.selected,a=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(o?a:0)}function D8({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=Zg(cm(t),cm(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return hf(a,ey(o))>0}const j8=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,L8=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),V8=(t,e)=>{if(!t.source||!t.target)return e;let n;return PM(t)?n={...t}:n={...t,id:j8(t)},L8(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function BM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,a,s]=FM({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,a,s]}const MA={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},F8=({source:t,sourcePosition:e=ge.Bottom,target:n})=>e===ge.Left||e===ge.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},$A=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function B8({source:t,sourcePosition:e=ge.Bottom,target:n,targetPosition:r=ge.Top,center:i,offset:o}){const a=MA[e],s=MA[r],u={x:t.x+a.x*o,y:t.y+a.y*o},l={x:n.x+s.x*o,y:n.y+s.y*o},c=F8({source:u,sourcePosition:e,target:l}),f=c.x!==0?"x":"y",d=c[f];let p=[],m,g;const y={x:0,y:0},v={x:0,y:0},[w,_,S,x]=FM({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[f]*s[f]===-1){m=i.x??w,g=i.y??_;const b=[{x:m,y:u.y},{x:m,y:l.y}],T=[{x:u.x,y:g},{x:l.x,y:g}];a[f]===d?p=f==="x"?b:T:p=f==="x"?T:b}else{const b=[{x:u.x,y:l.y}],T=[{x:l.x,y:u.y}];if(f==="x"?p=a.x===d?T:b:p=a.y===d?b:T,e===r){const C=Math.abs(t[f]-n[f]);if(C<=o){const R=Math.min(o-1,o-C);a[f]===d?y[f]=(u[f]>t[f]?-1:1)*R:v[f]=(l[f]>n[f]?-1:1)*R}}if(e!==r){const C=f==="x"?"y":"x",R=a[f]===s[C],V=u[C]>l[C],$=u[C]<l[C];(a[f]===1&&(!R&&V||R&&$)||a[f]!==1&&(!R&&$||R&&V))&&(p=f==="x"?b:T)}const P={x:u.x+y.x,y:u.y+y.y},O={x:l.x+v.x,y:l.y+v.y},k=Math.max(Math.abs(P.x-p[0].x),Math.abs(O.x-p[0].x)),N=Math.max(Math.abs(P.y-p[0].y),Math.abs(O.y-p[0].y));k>=N?(m=(P.x+O.x)/2,g=p[0].y):(m=p[0].x,g=(P.y+O.y)/2)}return[[t,{x:u.x+y.x,y:u.y+y.y},...p,{x:l.x+v.x,y:l.y+v.y},n],m,g,S,x]}function U8(t,e,n,r){const i=Math.min($A(t,e)/2,$A(e,n)/2,r),{x:o,y:a}=e;if(t.x===o&&o===n.x||t.y===a&&a===n.y)return`L${o} ${a}`;if(t.y===a){const l=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${o+i*l},${a}Q ${o},${a} ${o},${a+i*c}`}const s=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${o},${a+i*u}Q ${o},${a} ${o+i*s},${a}`}function uw({sourceX:t,sourceY:e,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:o=ge.Top,borderRadius:a=5,centerX:s,centerY:u,offset:l=20}){const[c,f,d,p,m]=B8({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:u},offset:l});return[c.reduce((y,v,w)=>{let _="";return w>0&&w<c.length-1?_=U8(c[w-1],v,c[w+1],a):_=`${w===0?"M":"L"}${v.x} ${v.y}`,y+=_,y},""),f,d,p,m]}function DA(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function z8(t){var f;const{sourceNode:e,targetNode:n}=t;if(!DA(e)||!DA(n))return null;const r=e.internals.handleBounds||jA(e.handles),i=n.internals.handleBounds||jA(n.handles),o=LA((r==null?void 0:r.source)??[],t.sourceHandle),a=LA(t.connectionMode===pu.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!o||!a)return(f=t.onError)==null||f.call(t,"008",Bi.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const s=(o==null?void 0:o.position)||ge.Bottom,u=(a==null?void 0:a.position)||ge.Top,l=pf(e,o,s),c=pf(n,a,u);return{sourceX:l.x,sourceY:l.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:u}}function jA(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function pf(t,e,n=ge.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,o=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:a,height:s}=e??Ui(t);if(r)return{x:i+a/2,y:o+s/2};switch((e==null?void 0:e.position)??n){case ge.Top:return{x:i+a/2,y:o};case ge.Right:return{x:i+a,y:o+s/2};case ge.Bottom:return{x:i+a/2,y:o+s};case ge.Left:return{x:i,y:o+s/2}}}function LA(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function lw(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function W8(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((a,s)=>([s.markerStart||r,s.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const l=lw(u,e);o.has(l)||(a.push({id:l,color:u.color||n,...u}),o.add(l))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const hx={nodeOrigin:[0,0],nodeExtent:ff,elevateNodesOnSelect:!0,defaults:{}},H8={...hx,checkEquality:!0};function px(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function q8(t,e,n){const r=px(hx,n);for(const i of t.values())if(i.parentId)mx(i,t,e,r);else{const o=pd(i,r.nodeOrigin),a=yu(i.extent)?i.extent:r.nodeExtent,s=Ca(o,a,Ui(i));i.internals.positionAbsolute=s}}function cw(t,e,n,r){var s,u;const i=px(H8,r),o=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let c=o.get(l.id);if(i.checkEquality&&l===(c==null?void 0:c.internals.userNode))e.set(l.id,c);else{const f=pd(l,i.nodeOrigin),d=yu(l.extent)?l.extent:i.nodeExtent,p=Ca(f,d,Ui(l));c={...i.defaults,...l,measured:{width:(s=l.measured)==null?void 0:s.width,height:(u=l.measured)==null?void 0:u.height},internals:{positionAbsolute:p,handleBounds:l.measured?c==null?void 0:c.internals.handleBounds:void 0,z:UM(l,a),userNode:l}},e.set(l.id,c)}l.parentId&&mx(c,e,n,r)}}function G8(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function mx(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a}=px(hx,r),s=t.parentId,u=e.get(s);if(!u){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}G8(t,n);const l=i?1e3:0,{x:c,y:f,z:d}=K8(t,u,o,a,l),{positionAbsolute:p}=t.internals,m=c!==p.x||f!==p.y;(m||d!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:f}:p,z:d}})}function UM(t,e){return(Sr(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function K8(t,e,n,r,i){const{x:o,y:a}=e.internals.positionAbsolute,s=Ui(t),u=pd(t,n),l=yu(t.extent)?Ca(u,t.extent,s):u;let c=Ca({x:o+l.x,y:a+l.y},r,s);t.extent==="parent"&&(c=CM(c,s,e));const f=UM(t,i),d=e.internals.z??0;return{x:c.x,y:c.y,z:d>f?d:f}}function gx(t,e,n,r=[0,0]){var a;const i=[],o=new Map;for(const s of t){const u=e.get(s.parentId);if(!u)continue;const l=((a=o.get(s.parentId))==null?void 0:a.expandedRect)??gu(u),c=NM(l,s.rect);o.set(s.parentId,{expandedRect:c,parent:u})}return o.size>0&&o.forEach(({expandedRect:s,parent:u},l)=>{var _;const c=u.internals.positionAbsolute,f=Ui(u),d=u.origin??r,p=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,m=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,g=Math.max(f.width,Math.round(s.width)),y=Math.max(f.height,Math.round(s.height)),v=(g-f.width)*d[0],w=(y-f.height)*d[1];(p>0||m>0||v||w)&&(i.push({id:l,type:"position",position:{x:u.position.x-p+v,y:u.position.y-m+w}}),(_=n.get(l))==null||_.forEach(S=>{t.some(x=>x.id===S.id)||i.push({id:S.id,type:"position",position:{x:S.position.x+p,y:S.position.y+m}})})),(f.width<s.width||f.height<s.height||p||m)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(p?d[0]*p-v:0),height:y+(m?d[1]*m-w:0)}})}),i}function X8(t,e,n,r,i,o){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const u=[],l=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(l.transform),f=[];for(const d of t.values()){const p=e.get(d.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),s=!0;continue}const m=ny(d.nodeElement),g=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(g||!p.internals.handleBounds||d.force))){const v=d.nodeElement.getBoundingClientRect(),w=yu(p.extent)?p.extent:o;let{positionAbsolute:_}=p.internals;p.parentId&&p.extent==="parent"?_=CM(_,m,e.get(p.parentId)):w&&(_=Ca(_,w,m));const S={...p,measured:m,internals:{...p.internals,positionAbsolute:_,handleBounds:{source:NA("source",d.nodeElement,v,c,p.id),target:NA("target",d.nodeElement,v,c,p.id)}}};e.set(p.id,S),p.parentId&&mx(S,e,n,{nodeOrigin:i}),s=!0,g&&(u.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&f.push({id:p.id,parentId:p.parentId,rect:gu(S,i)}))}}if(f.length>0){const d=gx(f,e,n,i);u.push(...d)}return{changes:u,updatedInternals:s}}async function Y8({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const a=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function VA(t,e,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,e)),a=`${i}-${t}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,e)),o){a=`${i}-${t}-${o}`;const l=r.get(a)||new Map;r.set(a,l.set(n,e))}}function zM(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},l=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;VA("source",u,c,t,i,a),VA("target",u,l,t,o,s),e.set(r.id,r)}}function WM(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:WM(n,e):!1}function FA(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Q8(t,e,n,r){const i=new Map;for(const[o,a]of t)if((a.selected||a.id===r)&&(!a.parentId||!WM(a,t))&&(a.draggable||e&&typeof a.draggable>"u")){const s=t.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function l0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var a,s,u;const i=[];for(const[l,c]of e){const f=(a=n.get(l))==null?void 0:a.internals.userNode;f&&i.push({...f,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=(s=n.get(t))==null?void 0:s.internals.userNode;return[o?{...o,position:((u=e.get(t))==null?void 0:u.position)||o.position,dragging:r}:i[0],i]}function J8({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,u=!1,l={x:0,y:0},c=null,f=!1,d=null,p=!1;function m({noDragClassName:y,handleSelector:v,domNode:w,isSelectable:_,nodeId:S,nodeClickDistance:x=0}){d=Mn(w);function A({x:O,y:k},N){const{nodeLookup:C,nodeExtent:R,snapGrid:V,snapToGrid:$,nodeOrigin:F,onNodeDrag:D,onSelectionDrag:B,onError:U,updateNodePositions:q}=e();o={x:O,y:k};let W=!1,Y={x:0,y:0,x2:0,y2:0};if(s.size>1&&R){const ee=md(s);Y=aw(ee)}for(const[ee,ne]of s){if(!C.has(ee))continue;let ue={x:O-ne.distance.x,y:k-ne.distance.y};$&&(ue=ty(ue,V));let re=[[R[0][0],R[0][1]],[R[1][0],R[1][1]]];if(s.size>1&&R&&!ne.extent){const{positionAbsolute:se}=ne.internals,ie=se.x-Y.x+R[0][0],G=se.x+ne.measured.width-Y.x2+R[1][0],me=se.y-Y.y+R[0][1],he=se.y+ne.measured.height-Y.y2+R[1][1];re=[[ie,me],[G,he]]}const{position:le,positionAbsolute:Q}=OM({nodeId:ee,nextPosition:ue,nodeLookup:C,nodeExtent:re,nodeOrigin:F,onError:U});W=W||ne.position.x!==le.x||ne.position.y!==le.y,ne.position=le,ne.internals.positionAbsolute=Q}if(W&&(q(s,!0),N&&(r||D||!S&&B))){const[ee,ne]=l0({nodeId:S,dragItems:s,nodeLookup:C});r==null||r(N,s,ee,ne),D==null||D(N,ee,ne),S||B==null||B(N,ne)}}async function b(){if(!c)return;const{transform:O,panBy:k,autoPanSpeed:N,autoPanOnNodeDrag:C}=e();if(!C){u=!1,cancelAnimationFrame(a);return}const[R,V]=kM(l,c,N);(R!==0||V!==0)&&(o.x=(o.x??0)-R/O[2],o.y=(o.y??0)-V/O[2],await k({x:R,y:V})&&A(o,null)),a=requestAnimationFrame(b)}function T(O){var W;const{nodeLookup:k,multiSelectionActive:N,nodesDraggable:C,transform:R,snapGrid:V,snapToGrid:$,selectNodesOnDrag:F,onNodeDragStart:D,onSelectionDragStart:B,unselectNodesAndEdges:U}=e();f=!0,(!F||!_)&&!N&&S&&((W=k.get(S))!=null&&W.selected||U()),_&&F&&S&&(t==null||t(S));const q=Pc(O.sourceEvent,{transform:R,snapGrid:V,snapToGrid:$,containerBounds:c});if(o=q,s=Q8(k,C,q,S),s.size>0&&(n||D||!S&&B)){const[Y,ee]=l0({nodeId:S,dragItems:s,nodeLookup:k});n==null||n(O.sourceEvent,s,Y,ee),D==null||D(O.sourceEvent,Y,ee),S||B==null||B(O.sourceEvent,ee)}}const P=uM().clickDistance(x).on("start",O=>{const{domNode:k,nodeDragThreshold:N,transform:C,snapGrid:R,snapToGrid:V}=e();c=(k==null?void 0:k.getBoundingClientRect())||null,p=!1,N===0&&T(O),o=Pc(O.sourceEvent,{transform:C,snapGrid:R,snapToGrid:V,containerBounds:c}),l=xi(O.sourceEvent,c)}).on("drag",O=>{const{autoPanOnNodeDrag:k,transform:N,snapGrid:C,snapToGrid:R,nodeDragThreshold:V,nodeLookup:$}=e(),F=Pc(O.sourceEvent,{transform:N,snapGrid:C,snapToGrid:R,containerBounds:c});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||S&&!$.has(S))&&(p=!0),!p){if(!u&&k&&f&&(u=!0,b()),!f){const D=F.xSnapped-(o.x??0),B=F.ySnapped-(o.y??0);Math.sqrt(D*D+B*B)>V&&T(O)}(o.x!==F.xSnapped||o.y!==F.ySnapped)&&s&&f&&(l=xi(O.sourceEvent,c),A(F,O.sourceEvent))}}).on("end",O=>{if(!(!f||p)&&(u=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:k,updateNodePositions:N,onNodeDragStop:C,onSelectionDragStop:R}=e();if(N(s,!1),i||C||!S&&R){const[V,$]=l0({nodeId:S,dragItems:s,nodeLookup:k,dragging:!1});i==null||i(O.sourceEvent,s,V,$),C==null||C(O.sourceEvent,V,$),S||R==null||R(O.sourceEvent,$)}}}).filter(O=>{const k=O.target;return!O.button&&(!y||!FA(k,`.${y}`,w))&&(!v||FA(k,v,w))});d.call(P)}function g(){d==null||d.on(".drag",null)}return{update:m,destroy:g}}function Z8(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())hf(i,gu(o))>0&&r.push(o);return r}const eW=250;function tW(t,e,n,r){var s,u;let i=[],o=1/0;const a=Z8(t,n,e+eW);for(const l of a){const c=[...((s=l.internals.handleBounds)==null?void 0:s.source)??[],...((u=l.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:p}=pf(l,f,f.position,!0),m=Math.sqrt(Math.pow(d-t.x,2)+Math.pow(p-t.y,2));m>e||(m<o?(i=[{...f,x:d,y:p}],o=m):m===o&&i.push({...f,x:d,y:p}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(c=>c.type===l)??i[0]}return i[0]}function HM(t,e,n,r,i,o=!1){var l,c,f;const a=r.get(t);if(!a)return null;const s=i==="strict"?(l=a.internals.handleBounds)==null?void 0:l[e]:[...((c=a.internals.handleBounds)==null?void 0:c.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],u=(n?s==null?void 0:s.find(d=>d.id===n):s==null?void 0:s[0])??null;return u&&o?{...u,...pf(a,u,u.position,!0)}:u}function qM(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function nW(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const GM=()=>!0;function rW(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:u,lib:l,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:p,onConnectStart:m,onConnect:g,onConnectEnd:y,isValidConnection:v=GM,onReconnectEnd:w,updateConnection:_,getTransform:S,getFromHandle:x,autoPanSpeed:A}){const b=DM(t.target);let T=0,P;const{x:O,y:k}=xi(t),N=b==null?void 0:b.elementFromPoint(O,k),C=qM(o,N),R=s==null?void 0:s.getBoundingClientRect();if(!R||!C)return;const V=HM(i,C,r,u,e);if(!V)return;let $=xi(t,R),F=!1,D=null,B=!1,U=null;function q(){if(!c||!R)return;const[Q,se]=kM($,R,A);d({x:Q,y:se}),T=requestAnimationFrame(q)}const W={...V,nodeId:i,type:C,position:V.position},Y=u.get(i),ne={inProgress:!0,isValid:null,from:pf(Y,W,ge.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:Y,to:$,toHandle:null,toPosition:IA[W.position],toNode:null};_(ne);let ue=ne;m==null||m(t,{nodeId:i,handleId:r,handleType:C});function re(Q){if(!x()||!W){le(Q);return}const se=S();$=xi(Q,R),P=tW(gd($,se,!1,[1,1]),n,u,W),F||(q(),F=!0);const ie=KM(Q,{handle:P,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:v,doc:b,lib:l,flowId:f,nodeLookup:u});U=ie.handleDomNode,D=ie.connection,B=nW(!!P,ie.isValid);const G={...ue,isValid:B,to:P&&B?RM({x:P.x,y:P.y},se):$,toHandle:ie.toHandle,toPosition:B&&ie.toHandle?ie.toHandle.position:IA[W.position],toNode:ie.toHandle?u.get(ie.toHandle.nodeId):null};B&&P&&ue.toHandle&&G.toHandle&&ue.toHandle.type===G.toHandle.type&&ue.toHandle.nodeId===G.toHandle.nodeId&&ue.toHandle.id===G.toHandle.id&&ue.to.x===G.to.x&&ue.to.y===G.to.y||(_(G),ue=G)}function le(Q){(P||U)&&D&&B&&(g==null||g(D));const{inProgress:se,...ie}=ue,G={...ie,toPosition:ue.toHandle?ue.toPosition:null};y==null||y(Q,G),o&&(w==null||w(Q,G)),p(),cancelAnimationFrame(T),F=!1,B=!1,D=null,U=null,b.removeEventListener("mousemove",re),b.removeEventListener("mouseup",le),b.removeEventListener("touchmove",re),b.removeEventListener("touchend",le)}b.addEventListener("mousemove",re),b.addEventListener("mouseup",le),b.addEventListener("touchmove",re),b.addEventListener("touchend",le)}function KM(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:u,isValidConnection:l=GM,nodeLookup:c}){const f=o==="target",d=e?a.querySelector(`.${s}-flow__handle[data-id="${u}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:p,y:m}=xi(t),g=a.elementFromPoint(p,m),y=g!=null&&g.classList.contains(`${s}-flow__handle`)?g:d,v={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const w=qM(void 0,y),_=y.getAttribute("data-nodeid"),S=y.getAttribute("data-handleid"),x=y.classList.contains("connectable"),A=y.classList.contains("connectableend");if(!_||!w)return v;const b={source:f?_:r,sourceHandle:f?S:i,target:f?r:_,targetHandle:f?i:S};v.connection=b;const P=x&&A&&(n===pu.Strict?f&&w==="source"||!f&&w==="target":_!==r||S!==i);v.isValid=P&&l(b),v.toHandle=HM(_,w,S,c,n,!1)}return v}const fw={onPointerDown:rW,isValid:KM};function iW({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Mn(t);function o({translateExtent:s,width:u,height:l,zoomStep:c=10,pannable:f=!0,zoomable:d=!0,inversePan:p=!1}){const m=_=>{const S=n();if(_.sourceEvent.type!=="wheel"||!e)return;const x=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*c,A=S[2]*Math.pow(2,x);e.scaleTo(A)};let g=[0,0];const y=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(g=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},v=_=>{const S=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const x=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],A=[x[0]-g[0],x[1]-g[1]];g=x;const b=r()*Math.max(S[2],Math.log(S[2]))*(p?-1:1),T={x:S[0]-A[0]*b,y:S[1]-A[1]*b},P=[[0,0],[u,l]];e.setViewportConstrained({x:T.x,y:T.y,zoom:S[2]},P,s)},w=xM().on("start",y).on("zoom",f?v:null).on("zoom.wheel",d?m:null);i.call(w,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:yr}}const oW=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ry=t=>({x:t.x,y:t.y,zoom:t.k}),c0=({x:t,y:e,zoom:n})=>Jg.translate(t,e).scale(n),js=(t,e)=>t.target.closest(`.${e}`),XM=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),f0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},YM=t=>{const e=t.ctrlKey&&fm()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function aW({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:l}){return c=>{if(js(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&a){const y=yr(c),v=YM(c),w=f*Math.pow(2,v);r.scaleTo(n,w,y,c);return}const d=c.deltaMode===1?20:1;let p=i===_a.Vertical?0:c.deltaX*d,m=i===_a.Horizontal?0:c.deltaY*d;!fm()&&c.shiftKey&&i!==_a.Vertical&&(p=c.deltaY*d,m=0),r.translateBy(n,-(p/f)*o,-(m/f)*o,{internal:!0});const g=ry(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,s==null||s(c,g)),t.isPanScrolling&&(u==null||u(c,g),t.panScrollTimeout=setTimeout(()=>{l==null||l(c,g),t.isPanScrolling=!1},150))}}function sW({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||js(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function uW({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var o,a,s;if((o=r.sourceEvent)!=null&&o.internal)return;const i=ry(r.transform);t.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function lW({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var a,s;t.usedRightMouseButton=!!(n&&XM(e,t.mouseButton??0)),(a=o.sourceEvent)!=null&&a.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,ry(o.transform)))}}function cW({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(t.isZoomingOrPanning=!1,o&&XM(e,t.mouseButton??0)&&!t.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&oW(t.prevViewport,a.transform))){const u=ry(a.transform);t.prevViewport=u,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,u)},n?150:0)}}}function fW({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:u,lib:l}){return c=>{var m;const f=t||e,d=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(js(c,`${l}-flow__node`)||js(c,`${l}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||a||js(c,s)&&c.type==="wheel"||js(c,u)&&(c.type!=="wheel"||i&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!f&&!i&&!d&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&p}}function dW({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:u,onDraggingChange:l}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=t.getBoundingClientRect(),d=xM().clickDistance(!Sr(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),p=Mn(t).call(d);_({x:o.x,y:o.y,zoom:mu(o.zoom,e,n)},[[0,0],[f.width,f.height]],i);const m=p.on("wheel.zoom"),g=p.on("dblclick.zoom");d.wheelDelta(YM);function y(N,C){return p?new Promise(R=>{d==null||d.transform(f0(p,C==null?void 0:C.duration,()=>R(!0)),N)}):Promise.resolve(!1)}function v({noWheelClassName:N,noPanClassName:C,onPaneContextMenu:R,userSelectionActive:V,panOnScroll:$,panOnDrag:F,panOnScrollMode:D,panOnScrollSpeed:B,preventScrolling:U,zoomOnPinch:q,zoomOnScroll:W,zoomOnDoubleClick:Y,zoomActivationKeyPressed:ee,lib:ne,onTransformChange:ue}){V&&!c.isZoomingOrPanning&&w();const le=$&&!ee&&!V?aW({zoomPanValues:c,noWheelClassName:N,d3Selection:p,d3Zoom:d,panOnScrollMode:D,panOnScrollSpeed:B,zoomOnPinch:q,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:u}):sW({noWheelClassName:N,preventScrolling:U,d3ZoomHandler:m});if(p.on("wheel.zoom",le,{passive:!1}),!V){const se=uW({zoomPanValues:c,onDraggingChange:l,onPanZoomStart:s});d.on("start",se);const ie=lW({zoomPanValues:c,panOnDrag:F,onPaneContextMenu:!!R,onPanZoom:a,onTransformChange:ue});d.on("zoom",ie);const G=cW({zoomPanValues:c,panOnDrag:F,panOnScroll:$,onPaneContextMenu:R,onPanZoomEnd:u,onDraggingChange:l});d.on("end",G)}const Q=fW({zoomActivationKeyPressed:ee,panOnDrag:F,zoomOnScroll:W,panOnScroll:$,zoomOnDoubleClick:Y,zoomOnPinch:q,userSelectionActive:V,noPanClassName:C,noWheelClassName:N,lib:ne});d.filter(Q),Y?p.on("dblclick.zoom",g):p.on("dblclick.zoom",null)}function w(){d.on("zoom",null)}async function _(N,C,R){const V=c0(N),$=d==null?void 0:d.constrain()(V,C,R);return $&&await y($),new Promise(F=>F($))}async function S(N,C){const R=c0(N);return await y(R,C),new Promise(V=>V(R))}function x(N){if(p){const C=c0(N),R=p.property("__zoom");(R.k!==N.zoom||R.x!==N.x||R.y!==N.y)&&(d==null||d.transform(p,C,null,{sync:!0}))}}function A(){const N=p?EM(p.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function b(N,C){return p?new Promise(R=>{d==null||d.scaleTo(f0(p,C==null?void 0:C.duration,()=>R(!0)),N)}):Promise.resolve(!1)}function T(N,C){return p?new Promise(R=>{d==null||d.scaleBy(f0(p,C==null?void 0:C.duration,()=>R(!0)),N)}):Promise.resolve(!1)}function P(N){d==null||d.scaleExtent(N)}function O(N){d==null||d.translateExtent(N)}function k(N){const C=!Sr(N)||N<0?0:N;d==null||d.clickDistance(C)}return{update:v,destroy:w,setViewport:S,setViewportConstrained:_,getViewport:A,scaleTo:b,scaleBy:T,setScaleExtent:P,setTranslateExtent:O,syncViewport:x,setClickDistance:k}}var Ic;(function(t){t.Line="line",t.Handle="handle"})(Ic||(Ic={}));function hW({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const a=t-e,s=n-r,u=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(u[0]=u[0]*-1),s&&o&&(u[1]=u[1]*-1),u}function pW(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ji(t,e){return Math.max(0,e-t)}function Zi(t,e){return Math.max(0,t-e)}function Fh(t,e,n){return Math.max(0,e-t,t-n)}function BA(t,e){return t?!e:e}function mW(t,e,n,r,i,o,a,s){let{affectsX:u,affectsY:l}=e;const{isHorizontal:c,isVertical:f}=e,d=c&&f,{xSnapped:p,ySnapped:m}=n,{minWidth:g,maxWidth:y,minHeight:v,maxHeight:w}=r,{x:_,y:S,width:x,height:A,aspectRatio:b}=t;let T=Math.floor(c?p-t.pointerX:0),P=Math.floor(f?m-t.pointerY:0);const O=x+(u?-T:T),k=A+(l?-P:P),N=-o[0]*x,C=-o[1]*A;let R=Fh(O,g,y),V=Fh(k,v,w);if(a){let D=0,B=0;u&&T<0?D=Ji(_+T+N,a[0][0]):!u&&T>0&&(D=Zi(_+O+N,a[1][0])),l&&P<0?B=Ji(S+P+C,a[0][1]):!l&&P>0&&(B=Zi(S+k+C,a[1][1])),R=Math.max(R,D),V=Math.max(V,B)}if(s){let D=0,B=0;u&&T>0?D=Zi(_+T,s[0][0]):!u&&T<0&&(D=Ji(_+O,s[1][0])),l&&P>0?B=Zi(S+P,s[0][1]):!l&&P<0&&(B=Ji(S+k,s[1][1])),R=Math.max(R,D),V=Math.max(V,B)}if(i){if(c){const D=Fh(O/b,v,w)*b;if(R=Math.max(R,D),a){let B=0;!u&&!l||u&&!l&&d?B=Zi(S+C+O/b,a[1][1])*b:B=Ji(S+C+(u?T:-T)/b,a[0][1])*b,R=Math.max(R,B)}if(s){let B=0;!u&&!l||u&&!l&&d?B=Ji(S+O/b,s[1][1])*b:B=Zi(S+(u?T:-T)/b,s[0][1])*b,R=Math.max(R,B)}}if(f){const D=Fh(k*b,g,y)/b;if(V=Math.max(V,D),a){let B=0;!u&&!l||l&&!u&&d?B=Zi(_+k*b+N,a[1][0])/b:B=Ji(_+(l?P:-P)*b+N,a[0][0])/b,V=Math.max(V,B)}if(s){let B=0;!u&&!l||l&&!u&&d?B=Ji(_+k*b,s[1][0])/b:B=Zi(_+(l?P:-P)*b,s[0][0])/b,V=Math.max(V,B)}}}P=P+(P<0?V:-V),T=T+(T<0?R:-R),i&&(d?O>k*b?P=(BA(u,l)?-T:T)/b:T=(BA(u,l)?-P:P)*b:c?(P=T/b,l=u):(T=P*b,u=l));const $=u?_+T:_,F=l?S+P:S;return{width:x+(u?-T:T),height:A+(l?-P:P),x:o[0]*T*(u?-1:1)+$,y:o[1]*P*(l?-1:1)+F}}const QM={width:0,height:0,x:0,y:0},gW={...QM,pointerX:0,pointerY:0,aspectRatio:1};function yW(t){return[[0,0],[t.measured.width,t.measured.height]]}function vW(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,a=t.measured.height??0,s=n[0]*o,u=n[1]*a;return[[r-s,i-u],[r+o-s,i+a-u]]}function _W({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Mn(t);function a({controlPosition:u,boundaries:l,keepAspectRatio:c,onResizeStart:f,onResize:d,onResizeEnd:p,shouldResize:m}){let g={...QM},y={...gW};const v=pW(u);let w,_=null,S=[],x,A,b;const T=uM().on("start",P=>{const{nodeLookup:O,transform:k,snapGrid:N,snapToGrid:C,nodeOrigin:R,paneDomNode:V}=n();if(w=O.get(e),!w)return;_=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:$,ySnapped:F}=Pc(P.sourceEvent,{transform:k,snapGrid:N,snapToGrid:C,containerBounds:_});g={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},y={...g,pointerX:$,pointerY:F,aspectRatio:g.width/g.height},x=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(x=O.get(w.parentId),A=x&&w.extent==="parent"?yW(x):void 0),S=[],b=void 0;for(const[D,B]of O)if(B.parentId===e&&(S.push({id:D,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const U=vW(B,w,B.origin??R);b?b=[[Math.min(U[0][0],b[0][0]),Math.min(U[0][1],b[0][1])],[Math.max(U[1][0],b[1][0]),Math.max(U[1][1],b[1][1])]]:b=U}f==null||f(P,{...g})}).on("drag",P=>{const{transform:O,snapGrid:k,snapToGrid:N,nodeOrigin:C}=n(),R=Pc(P.sourceEvent,{transform:O,snapGrid:k,snapToGrid:N,containerBounds:_}),V=[];if(!w)return;const{x:$,y:F,width:D,height:B}=g,U={},q=w.origin??C,{width:W,height:Y,x:ee,y:ne}=mW(y,v,R,l,c,q,A,b),ue=W!==D,re=Y!==B,le=ee!==$&&ue,Q=ne!==F&&re;if(!le&&!Q&&!ue&&!re)return;if((le||Q||q[0]===1||q[1]===1)&&(U.x=le?ee:g.x,U.y=Q?ne:g.y,g.x=U.x,g.y=U.y,S.length>0)){const me=ee-$,he=ne-F;for(const xe of S)xe.position={x:xe.position.x-me+q[0]*(W-D),y:xe.position.y-he+q[1]*(Y-B)},V.push(xe)}if((ue||re)&&(U.width=ue?W:g.width,U.height=re?Y:g.height,g.width=U.width,g.height=U.height),x&&w.expandParent){const me=q[0]*(U.width??0);U.x&&U.x<me&&(g.x=me,y.x=y.x-(U.x-me));const he=q[1]*(U.height??0);U.y&&U.y<he&&(g.y=he,y.y=y.y-(U.y-he))}const se=hW({width:g.width,prevWidth:D,height:g.height,prevHeight:B,affectsX:v.affectsX,affectsY:v.affectsY}),ie={...g,direction:se};(m==null?void 0:m(P,ie))!==!1&&(d==null||d(P,ie),r(U,V))}).on("end",P=>{p==null||p(P,{...g}),i==null||i()});o.call(T)}function s(){o.on(".drag",null)}return{update:a,destroy:s}}var JM={exports:{}},ZM={},e$={exports:{}},t$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=L;function wW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bW=typeof Object.is=="function"?Object.is:wW,EW=vu.useState,xW=vu.useEffect,SW=vu.useLayoutEffect,TW=vu.useDebugValue;function AW(t,e){var n=e(),r=EW({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return SW(function(){i.value=n,i.getSnapshot=e,d0(i)&&o({inst:i})},[t,n,e]),xW(function(){return d0(i)&&o({inst:i}),t(function(){d0(i)&&o({inst:i})})},[t]),TW(n),n}function d0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bW(t,n)}catch{return!0}}function PW(t,e){return e()}var IW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PW:AW;t$.useSyncExternalStore=vu.useSyncExternalStore!==void 0?vu.useSyncExternalStore:IW;e$.exports=t$;var OW=e$.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=L,CW=OW;function kW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NW=typeof Object.is=="function"?Object.is:kW,RW=CW.useSyncExternalStore,MW=iy.useRef,$W=iy.useEffect,DW=iy.useMemo,jW=iy.useDebugValue;ZM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=MW(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=DW(function(){function u(p){if(!l){if(l=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return f=m}return f=p}if(m=f,NW(c,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(c=p,m):(c=p,f=g)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(e())},d===null?void 0:function(){return u(d())}]},[e,n,r,i]);var s=RW(t,o[0],o[1]);return $W(function(){a.hasValue=!0,a.value=s},[s]),jW(s),s};JM.exports=ZM;var LW=JM.exports;const VW=ze(LW),FW={},UA=t=>{let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const p=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(FW?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=e=t(r,i,u);return u},BW=t=>t?UA(t):UA,{useDebugValue:UW}=z,{useSyncExternalStoreWithSelector:zW}=VW,WW=t=>t;function n$(t,e=WW,n){const r=zW(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return UW(r),r}const zA=(t,e)=>{const n=BW(t),r=(i,o=e)=>n$(n,i,o);return Object.assign(r,n),r},HW=(t,e)=>t?zA(t,e):zA;function pt(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const oy=L.createContext(null),qW=oy.Provider,r$=Bi.error001();function Re(t,e){const n=L.useContext(oy);if(n===null)throw new Error(r$);return n$(n,t,e)}function rt(){const t=L.useContext(oy);if(t===null)throw new Error(r$);return L.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const WA={display:"none"},GW={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},i$="react-flow__node-desc",o$="react-flow__edge-desc",KW="react-flow__aria-live",XW=t=>t.ariaLiveMessage;function YW({rfId:t}){const e=Re(XW);return M.jsx("div",{id:`${KW}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:GW,children:e})}function QW({rfId:t,disableKeyboardA11y:e}){return M.jsxs(M.Fragment,{children:[M.jsxs("div",{id:`${i$}-${t}`,style:WA,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),M.jsx("div",{id:`${o$}-${t}`,style:WA,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&M.jsx(YW,{rfId:t})]})}const JW=t=>t.userSelectionActive?"none":"all",_u=L.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const a=Re(JW),s=`${t}`.split("-");return M.jsx("div",{className:Pt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:a},ref:o,...i,children:e})});_u.displayName="Panel";function ZW({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:M.jsx(_u,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:M.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const eH=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Bh=t=>t.id;function tH(t,e){return pt(t.selectedNodes.map(Bh),e.selectedNodes.map(Bh))&&pt(t.selectedEdges.map(Bh),e.selectedEdges.map(Bh))}function nH({onSelectionChange:t}){const e=rt(),{selectedNodes:n,selectedEdges:r}=Re(eH,tH);return L.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const rH=t=>!!t.onSelectionChangeHandlers;function iH({onSelectionChange:t}){const e=Re(rH);return t||e?M.jsx(nH,{onSelectionChange:t}):null}const a$=[0,0],oH={x:0,y:0,zoom:1},aH=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],HA=[...aH,"rfId"],sH=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),qA={translateExtent:ff,nodeOrigin:a$,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function uH(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:u,setPaneClickDistance:l}=Re(sH,pt),c=rt();L.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{f.current=qA,s()}),[]);const f=L.useRef(qA);return L.useEffect(()=>{for(const d of HA){const p=t[d],m=f.current[d];p!==m&&(typeof t[d]>"u"||(d==="nodes"?e(p):d==="edges"?n(p):d==="minZoom"?r(p):d==="maxZoom"?i(p):d==="translateExtent"?o(p):d==="nodeExtent"?a(p):d==="paneClickDistance"?l(p):d==="fitView"?c.setState({fitViewOnInit:p}):d==="fitViewOptions"?c.setState({fitViewOnInitOptions:p}):c.setState({[d]:p})))}f.current=t},HA.map(d=>t[d])),null}function GA(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function lH(t){var r;const[e,n]=L.useState(t==="system"?null:t);return L.useEffect(()=>{if(t!=="system"){n(t);return}const i=GA(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[t]),e!==null?e:(r=GA())!=null&&r.matches?"dark":"light"}const KA=typeof document<"u"?document:null;function mf(t=null,e={target:KA,actInsideInputWithModifier:!0}){const[n,r]=L.useState(!1),i=L.useRef(!1),o=L.useRef(new Set([])),[a,s]=L.useMemo(()=>{if(t!==null){const l=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=l.reduce((f,d)=>f.concat(...d),[]);return[l,c]}return[[],[]]},[t]);return L.useEffect(()=>{const u=(e==null?void 0:e.target)||KA;if(t!==null){const l=d=>{if(i.current=d.ctrlKey||d.metaKey||d.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&sw(d))return!1;const m=YA(d.code,s);o.current.add(d[m]),XA(a,o.current,!1)&&(d.preventDefault(),r(!0))},c=d=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&sw(d))return!1;const m=YA(d.code,s);XA(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(d[m]),d.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",l),u==null||u.addEventListener("keyup",c),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{u==null||u.removeEventListener("keydown",l),u==null||u.removeEventListener("keyup",c),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function XA(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function YA(t,e){return e.includes(t)?"code":"key"}const cH=()=>{const t=rt();return L.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:a}=t.getState();return a?(await a.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:o,domNode:a}=t.getState();if(!o||!a)return Promise.resolve(!1);const s=iw(n,e),{width:u,height:l}=ny(a);return ow({nodes:s,width:u,height:l,minZoom:r,maxZoom:i,panZoom:o},e)},setCenter:async(e,n,r)=>{const{width:i,height:o,maxZoom:a,panZoom:s}=t.getState(),u=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:a,l=i/2-e*u,c=o/2-n*u;return s?(await s.setViewport({x:l,y:c,zoom:u},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=t.getState(),u=dx(e,r,i,o,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(u,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=t.getState();if(!a)return e;const{x:s,y:u}=a.getBoundingClientRect(),l={x:e.x-s,y:e.y-u},c=n.snapGrid??i,f=n.snapToGrid??o;return gd(l,r,f,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),a=RM(e,n);return{x:a.x+i,y:a.y+o}}}),[])};function s$(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const a=r.get(o.id);a?a.push(o):r.set(o.id,[o])}for(const o of e){const a=r.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...o};for(const u of a)fH(u,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function fH(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function u$(t,e){return s$(t,e)}function l$(t,e){return s$(t,e)}function ta(t,e){return{id:t,type:"select",selected:e}}function Ls(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const a=e.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(ta(o.id,a)))}return r}function QA({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(o=>[o.id,o]));for(const[o,a]of t.entries()){const s=e.get(a.id),u=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;u!==void 0&&u!==a&&n.push({id:a.id,item:a,type:"replace"}),u===void 0&&n.push({item:a,type:"add",index:o})}for(const[o]of e)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function JA(t){return{id:t.id,type:"remove"}}const ZA=t=>O8(t),dH=t=>PM(t);function c$(t){return L.forwardRef(t)}const hH=typeof window<"u"?L.useLayoutEffect:L.useEffect;function eP(t){const[e,n]=L.useState(BigInt(0)),[r]=L.useState(()=>pH(()=>n(i=>i+BigInt(1))));return hH(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function pH(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const f$=L.createContext(null);function mH({children:t}){const e=rt(),n=L.useCallback(s=>{const{nodes:u=[],setNodes:l,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d}=e.getState();let p=u;for(const m of s)p=typeof m=="function"?m(p):m;c?l(p):f&&f(QA({items:p,lookup:d}))},[]),r=eP(n),i=L.useCallback(s=>{const{edges:u=[],setEdges:l,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=e.getState();let p=u;for(const m of s)p=typeof m=="function"?m(p):m;c?l(p):f&&f(QA({items:p,lookup:d}))},[]),o=eP(i),a=L.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return M.jsx(f$.Provider,{value:a,children:t})}function gH(){const t=L.useContext(f$);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const yH=t=>!!t.panZoom;function yx(){const t=cH(),e=rt(),n=gH(),r=Re(yH),i=L.useMemo(()=>{const o=f=>e.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},u=f=>{var v,w;const{nodeLookup:d,nodeOrigin:p}=e.getState(),m=ZA(f)?f:d.get(f.id),g=m.parentId?$M(m.position,m.measured,m.parentId,d,p):m.position,y={...m,position:g,width:((v=m.measured)==null?void 0:v.width)??m.width,height:((w=m.measured)==null?void 0:w.height)??m.height};return gu(y)},l=(f,d,p={replace:!1})=>{a(m=>m.map(g=>{if(g.id===f){const y=typeof d=="function"?d(g):d;return p.replace&&ZA(y)?y:{...g,...y}}return g}))},c=(f,d,p={replace:!1})=>{s(m=>m.map(g=>{if(g.id===f){const y=typeof d=="function"?d(g):d;return p.replace&&dH(y)?y:{...g,...y}}return g}))};return{getNodes:()=>e.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=o(f))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=e.getState();return f.map(d=>({...d}))},getEdge:f=>e.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(p=>[...p,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(p=>[...p,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:p}=e.getState(),[m,g,y]=p;return{nodes:f.map(v=>({...v})),edges:d.map(v=>({...v})),viewport:{x:m,y:g,zoom:y}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:p,edges:m,onNodesDelete:g,onEdgesDelete:y,triggerNodeChanges:v,triggerEdgeChanges:w,onDelete:_,onBeforeDelete:S}=e.getState(),{nodes:x,edges:A}=await N8({nodesToRemove:f,edgesToRemove:d,nodes:p,edges:m,onBeforeDelete:S}),b=A.length>0,T=x.length>0;if(b){const P=A.map(JA);y==null||y(A),w(P)}if(T){const P=x.map(JA);g==null||g(x),v(P)}return(T||b)&&(_==null||_({nodes:x,edges:A})),{deletedNodes:x,deletedEdges:A}},getIntersectingNodes:(f,d=!0,p)=>{const m=CA(f),g=m?f:u(f),y=p!==void 0;return g?(p||e.getState().nodes).filter(v=>{const w=e.getState().nodeLookup.get(v.id);if(w&&!m&&(v.id===f.id||!w.internals.positionAbsolute))return!1;const _=gu(y?v:w),S=hf(_,g);return d&&S>0||S>=g.width*g.height}):[]},isNodeIntersecting:(f,d,p=!0)=>{const g=CA(f)?f:u(f);if(!g)return!1;const y=hf(g,d);return p&&y>0||y>=g.width*g.height},updateNode:l,updateNodeData:(f,d,p={replace:!1})=>{l(f,m=>{const g=typeof d=="function"?d(m):d;return p.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},p)},updateEdge:c,updateEdgeData:(f,d,p={replace:!1})=>{c(f,m=>{const g=typeof d=="function"?d(m):d;return p.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},p)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:p}=e.getState();return C8(f,{nodeLookup:d,nodeOrigin:p})},getHandleConnections:({type:f,id:d,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}-${f}${d?`-${d}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:m.values())??[])}}},[]);return L.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const tP=t=>t.selected,vH={actInsideInputWithModifier:!1},_H=typeof window<"u"?window:void 0;function wH({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=rt(),{deleteElements:r}=yx(),i=mf(t,vH),o=mf(e,{target:_H});L.useEffect(()=>{if(i){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(tP),edges:a.filter(tP)}),n.setState({nodesSelectionActive:!1})}},[i]),L.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function bH(t){const e=rt();L.useEffect(()=>{const n=()=>{var i,o;if(!t.current)return!1;const r=ny(t.current);(r.height===0||r.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",Bi.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const ay={position:"absolute",width:"100%",height:"100%",top:0,left:0},EH=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function xH({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=_a.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:u,translateExtent:l,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:p=!0,children:m,noWheelClassName:g,noPanClassName:y,onViewportChange:v,isControlledViewport:w,paneClickDistance:_}){const S=rt(),x=L.useRef(null),{userSelectionActive:A,lib:b}=Re(EH,pt),T=mf(d),P=L.useRef();bH(x);const O=L.useCallback(k=>{v==null||v({x:k[0],y:k[1],zoom:k[2]}),w||S.setState({transform:k})},[v,w]);return L.useEffect(()=>{if(x.current){P.current=dW({domNode:x.current,minZoom:c,maxZoom:f,translateExtent:l,viewport:u,paneClickDistance:_,onDraggingChange:R=>S.setState({paneDragging:R}),onPanZoomStart:(R,V)=>{const{onViewportChangeStart:$,onMoveStart:F}=S.getState();F==null||F(R,V),$==null||$(V)},onPanZoom:(R,V)=>{const{onViewportChange:$,onMove:F}=S.getState();F==null||F(R,V),$==null||$(V)},onPanZoomEnd:(R,V)=>{const{onViewportChangeEnd:$,onMoveEnd:F}=S.getState();F==null||F(R,V),$==null||$(V)}});const{x:k,y:N,zoom:C}=P.current.getViewport();return S.setState({panZoom:P.current,transform:[k,N,C],domNode:x.current.closest(".react-flow")}),()=>{var R;(R=P.current)==null||R.destroy()}}},[]),L.useEffect(()=>{var k;(k=P.current)==null||k.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:T,preventScrolling:p,noPanClassName:y,userSelectionActive:A,noWheelClassName:g,lib:b,onTransformChange:O})},[t,e,n,r,i,o,a,s,T,p,y,A,g,b,O]),M.jsx("div",{className:"react-flow__renderer",ref:x,style:ay,children:m})}const SH=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function TH(){const{userSelectionActive:t,userSelectionRect:e}=Re(SH,pt);return t&&e?M.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const h0=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},AH=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function PH({isSelecting:t,selectionKeyPressed:e,selectionMode:n=df.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:u,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:d,children:p}){const m=rt(),{userSelectionActive:g,elementsSelectable:y,dragging:v}=Re(AH,pt),w=y&&(t||g),_=L.useRef(null),S=L.useRef(),x=L.useRef(new Set),A=L.useRef(new Set),b=L.useRef(!1),T=L.useRef(!1),P=$=>{if(b.current){b.current=!1;return}s==null||s($),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},O=$=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){$.preventDefault();return}u==null||u($)},k=l?$=>l($):void 0,N=$=>{var q,W;const{resetSelectedElements:F,domNode:D}=m.getState();if(S.current=D==null?void 0:D.getBoundingClientRect(),!y||!t||$.button!==0||$.target!==_.current||!S.current)return;(W=(q=$.target)==null?void 0:q.setPointerCapture)==null||W.call(q,$.pointerId),T.current=!0,b.current=!1;const{x:B,y:U}=xi($.nativeEvent,S.current);F(),m.setState({userSelectionRect:{width:0,height:0,startX:B,startY:U,x:B,y:U}}),o==null||o($)},C=$=>{const{userSelectionRect:F,transform:D,nodeLookup:B,edgeLookup:U,connectionLookup:q,triggerNodeChanges:W,triggerEdgeChanges:Y,defaultEdgeOptions:ee}=m.getState();if(!S.current||!F)return;b.current=!0;const{x:ne,y:ue}=xi($.nativeEvent,S.current),{startX:re,startY:le}=F,Q={startX:re,startY:le,x:ne<re?ne:re,y:ue<le?ue:le,width:Math.abs(ne-re),height:Math.abs(ue-le)},se=x.current,ie=A.current;x.current=new Set(IM(B,Q,D,n===df.Partial,!0).map(me=>me.id)),A.current=new Set;const G=(ee==null?void 0:ee.selectable)??!0;for(const me of x.current){const he=q.get(me);if(he)for(const{edgeId:xe}of he.values()){const Ce=U.get(xe);Ce&&(Ce.selectable??G)&&A.current.add(xe)}}if(!kA(se,x.current)){const me=Ls(B,x.current,!0);W(me)}if(!kA(ie,A.current)){const me=Ls(U,A.current);Y(me)}m.setState({userSelectionRect:Q,userSelectionActive:!0,nodesSelectionActive:!1})},R=$=>{var D,B;if($.button!==0||!T.current)return;(B=(D=$.target)==null?void 0:D.releasePointerCapture)==null||B.call(D,$.pointerId);const{userSelectionRect:F}=m.getState();!g&&F&&$.target===_.current&&(P==null||P($)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:x.current.size>0}),a==null||a($),(e||i)&&(b.current=!1),T.current=!1},V=r===!0||Array.isArray(r)&&r.includes(0);return M.jsxs("div",{className:Pt(["react-flow__pane",{draggable:V,dragging:v,selection:t}]),onClick:w?void 0:h0(P,_),onContextMenu:h0(O,_),onWheel:h0(k,_),onPointerEnter:w?void 0:c,onPointerDown:w?N:f,onPointerMove:w?C:f,onPointerUp:w?R:void 0,onPointerLeave:d,ref:_,style:ay,children:[p,M.jsx(TH,{})]})}function dw({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:u}=e.getState(),l=s.get(t);if(!l){u==null||u("012",Bi.error012(t));return}e.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&a)&&(o({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([t])}function d$({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=rt(),[u,l]=L.useState(!1),c=L.useRef();return L.useEffect(()=>{c.current=J8({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{dw({id:f,store:s,nodeRef:t})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),L.useEffect(()=>{var f,d;if(e)(f=c.current)==null||f.destroy();else if(t.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,e,o,t,i]),u}const IH=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function h$(){const t=rt();return L.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:u,nodeLookup:l,nodeOrigin:c}=t.getState(),f=new Map,d=IH(a),p=i?o[0]:5,m=i?o[1]:5,g=n.direction.x*p*n.factor,y=n.direction.y*m*n.factor;for(const[,v]of l){if(!d(v))continue;let w={x:v.internals.positionAbsolute.x+g,y:v.internals.positionAbsolute.y+y};i&&(w=ty(w,o));const{position:_,positionAbsolute:S}=OM({nodeId:v.id,nextPosition:w,nodeLookup:l,nodeExtent:r,nodeOrigin:c,onError:s});v.position=_,v.internals.positionAbsolute=S,f.set(v.id,v)}u(f)},[])}const vx=L.createContext(null),OH=vx.Provider;vx.Consumer;const p$=()=>L.useContext(vx),CH=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),kH=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=r,{fromHandle:s,toHandle:u,isValid:l}=a,c=(u==null?void 0:u.nodeId)===t&&(u==null?void 0:u.id)===e&&(u==null?void 0:u.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.id)===e&&(s==null?void 0:s.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===pu.Strict?(s==null?void 0:s.type)!==n:t!==(s==null?void 0:s.nodeId)||e!==(s==null?void 0:s.id),connectionInProcess:!!s,valid:c&&l}};function NH({type:t="source",position:e=ge.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:u,className:l,onMouseDown:c,onTouchStart:f,...d},p){var R,V;const m=a||null,g=t==="target",y=rt(),v=p$(),{connectOnClick:w,noPanClassName:_,rfId:S}=Re(CH,pt),{connectingFrom:x,connectingTo:A,clickConnecting:b,isPossibleEndHandle:T,connectionInProcess:P,valid:O}=Re(kH(v,m,t),pt);v||(V=(R=y.getState()).onError)==null||V.call(R,"010",Bi.error010());const k=$=>{const{defaultEdgeOptions:F,onConnect:D,hasDefaultEdges:B}=y.getState(),U={...F,...$};if(B){const{edges:q,setEdges:W}=y.getState();W(V8(U,q))}D==null||D(U),s==null||s(U)},N=$=>{if(!v)return;const F=jM($.nativeEvent);if(i&&(F&&$.button===0||!F)){const D=y.getState();fw.onPointerDown($.nativeEvent,{autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:g,handleId:m,nodeId:v,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:k,isValidConnection:n||D.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed})}F?c==null||c($):f==null||f($)},C=$=>{const{onClickConnectStart:F,onClickConnectEnd:D,connectionClickStartHandle:B,connectionMode:U,isValidConnection:q,lib:W,rfId:Y,nodeLookup:ee,connection:ne}=y.getState();if(!v||!B&&!i)return;if(!B){F==null||F($.nativeEvent,{nodeId:v,handleId:m,handleType:t}),y.setState({connectionClickStartHandle:{nodeId:v,type:t,id:m}});return}const ue=DM($.target),re=n||q,{connection:le,isValid:Q}=fw.isValid($.nativeEvent,{handle:{nodeId:v,id:m,type:t},connectionMode:U,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:re,flowId:Y,doc:ue,lib:W,nodeLookup:ee});Q&&le&&k(le);const se=structuredClone(ne);delete se.inProgress,se.toPosition=se.toHandle?se.toHandle.position:null,D==null||D($,se),y.setState({connectionClickStartHandle:null})};return M.jsx("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":e,"data-id":`${S}-${v}-${m}-${t}`,className:Pt(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,l,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,clickconnecting:b,connectingfrom:x,connectingto:A,valid:O,connectionindicator:r&&(!P||T)&&(P?o:i)}]),onMouseDown:N,onTouchStart:N,onClick:w?C:void 0,ref:p,...d,children:u})}const dm=L.memo(c$(NH));function RH({data:t,isConnectable:e,sourcePosition:n=ge.Bottom}){return M.jsxs(M.Fragment,{children:[t==null?void 0:t.label,M.jsx(dm,{type:"source",position:n,isConnectable:e})]})}function MH({data:t,isConnectable:e,targetPosition:n=ge.Top,sourcePosition:r=ge.Bottom}){return M.jsxs(M.Fragment,{children:[M.jsx(dm,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,M.jsx(dm,{type:"source",position:r,isConnectable:e})]})}function $H(){return null}function DH({data:t,isConnectable:e,targetPosition:n=ge.Top}){return M.jsxs(M.Fragment,{children:[M.jsx(dm,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const hm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},nP={input:RH,default:MH,output:DH,group:$H};function jH(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const LH=t=>{const{width:e,height:n,x:r,y:i}=md(t.nodeLookup,{filter:o=>!!o.selected});return{width:Sr(e)?e:null,height:Sr(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function VH({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=rt(),{width:i,height:o,transformString:a,userSelectionActive:s}=Re(LH,pt),u=h$(),l=L.useRef(null);if(L.useEffect(()=>{var d;n||(d=l.current)==null||d.focus({preventScroll:!0})},[n]),d$({nodeRef:l}),s||!i||!o)return null;const c=t?d=>{const p=r.getState().nodes.filter(m=>m.selected);t(d,p)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(hm,d.key)&&(d.preventDefault(),u({direction:hm[d.key],factor:d.shiftKey?4:1}))};return M.jsx("div",{className:Pt(["react-flow__nodesselection","react-flow__container",e]),style:{transform:a},children:M.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const rP=typeof window<"u"?window:void 0,FH=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function m$({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:u,selectionKeyCode:l,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:g,zoomActivationKeyCode:y,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:_,panOnScroll:S,panOnScrollSpeed:x,panOnScrollMode:A,zoomOnDoubleClick:b,panOnDrag:T,defaultViewport:P,translateExtent:O,minZoom:k,maxZoom:N,preventScrolling:C,onSelectionContextMenu:R,noWheelClassName:V,noPanClassName:$,disableKeyboardA11y:F,onViewportChange:D,isControlledViewport:B}){const{nodesSelectionActive:U,userSelectionActive:q}=Re(FH),W=mf(l,{target:rP}),Y=mf(g,{target:rP}),ee=Y||T,ne=Y||S,ue=c&&ee!==!0,re=W||q||ue;return wH({deleteKeyCode:u,multiSelectionKeyCode:m}),M.jsx(xH,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:_,panOnScroll:ne,panOnScrollSpeed:x,panOnScrollMode:A,zoomOnDoubleClick:b,panOnDrag:!W&&ee,defaultViewport:P,translateExtent:O,minZoom:k,maxZoom:N,zoomActivationKeyCode:y,preventScrolling:C,noWheelClassName:V,noPanClassName:$,onViewportChange:D,isControlledViewport:B,paneClickDistance:s,children:M.jsxs(PH,{onSelectionStart:d,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:ee,isSelecting:!!re,selectionMode:f,selectionKeyPressed:W,selectionOnDrag:ue,children:[t,U&&M.jsx(VH,{onSelectionContextMenu:R,noPanClassName:$,disableKeyboardA11y:F})]})})}m$.displayName="FlowRenderer";const BH=L.memo(m$),UH=t=>e=>t?IM(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function zH(t){return Re(L.useCallback(UH(t),[t]),pt)}const WH=t=>t.updateNodeInternals;function HH(){const t=Re(WH),[e]=L.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return L.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function qH({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=rt(),o=L.useRef(null),a=L.useRef(null),s=L.useRef(t.sourcePosition),u=L.useRef(t.targetPosition),l=L.useRef(e),c=n&&!!t.internals.handleBounds;return L.useEffect(()=>{o.current&&!t.hidden&&(!c||a.current!==o.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(o.current),a.current=o.current)},[c,t.hidden]),L.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),L.useEffect(()=>{if(o.current){const f=l.current!==e,d=s.current!==t.sourcePosition,p=u.current!==t.targetPosition;(f||d||p)&&(l.current=e,s.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function GH({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:u,nodesConnectable:l,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:p,disableKeyboardA11y:m,rfId:g,nodeTypes:y,nodeClickDistance:v,onError:w}){const{node:_,internals:S,isParent:x}=Re(re=>{const le=re.nodeLookup.get(t),Q=re.parentLookup.has(t);return{node:le,internals:le.internals,isParent:Q}},pt);let A=_.type||"default",b=(y==null?void 0:y[A])||nP[A];b===void 0&&(w==null||w("003",Bi.error003(A)),A="default",b=nP.default);const T=!!(_.draggable||s&&typeof _.draggable>"u"),P=!!(_.selectable||u&&typeof _.selectable>"u"),O=!!(_.connectable||l&&typeof _.connectable>"u"),k=!!(_.focusable||c&&typeof _.focusable>"u"),N=rt(),C=MM(_),R=qH({node:_,nodeType:A,hasDimensions:C,resizeObserver:f}),V=d$({nodeRef:R,disabled:_.hidden||!T,noDragClassName:d,handleSelector:_.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:v}),$=h$();if(_.hidden)return null;const F=Ui(_),D=jH(_),B=P||T||e||n||r||i,U=n?re=>n(re,{...S.userNode}):void 0,q=r?re=>r(re,{...S.userNode}):void 0,W=i?re=>i(re,{...S.userNode}):void 0,Y=o?re=>o(re,{...S.userNode}):void 0,ee=a?re=>a(re,{...S.userNode}):void 0,ne=re=>{const{selectNodesOnDrag:le,nodeDragThreshold:Q}=N.getState();P&&(!le||!T||Q>0)&&dw({id:t,store:N,nodeRef:R}),e&&e(re,{...S.userNode})},ue=re=>{if(!(sw(re.nativeEvent)||m))if(SM.includes(re.key)&&P){const le=re.key==="Escape";dw({id:t,store:N,unselect:le,nodeRef:R})}else T&&_.selected&&Object.prototype.hasOwnProperty.call(hm,re.key)&&(re.preventDefault(),N.setState({ariaLiveMessage:`Moved selected node ${re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~S.positionAbsolute.x}, y: ${~~S.positionAbsolute.y}`}),$({direction:hm[re.key],factor:re.shiftKey?4:1}))};return M.jsx("div",{className:Pt(["react-flow__node",`react-flow__node-${A}`,{[p]:T},_.className,{selected:_.selected,selectable:P,parent:x,draggable:T,dragging:V}]),ref:R,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:B?"all":"none",visibility:C?"visible":"hidden",..._.style,...D},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:U,onMouseMove:q,onMouseLeave:W,onContextMenu:Y,onClick:ne,onDoubleClick:ee,onKeyDown:k?ue:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":m?void 0:`${i$}-${g}`,"aria-label":_.ariaLabel,children:M.jsx(OH,{value:t,children:M.jsx(b,{id:t,data:_.data,type:A,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:_.selected??!1,selectable:P,draggable:T,deletable:_.deletable??!0,isConnectable:O,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:V,dragHandle:_.dragHandle,zIndex:S.z,parentId:_.parentId,...F})})})}const KH=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function g$(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=Re(KH,pt),a=zH(t.onlyRenderVisibleElements),s=HH();return M.jsx("div",{className:"react-flow__nodes",style:ay,children:a.map(u=>M.jsx(GH,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:s,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},u))})}g$.displayName="NodeRenderer";const XH=L.memo(g$);function YH(t){return Re(L.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);o&&a&&D8({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),pt)}const QH=({color:t="none",strokeWidth:e=1})=>M.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),JH=({color:t="none",strokeWidth:e=1})=>M.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),iP={[lm.Arrow]:QH,[lm.ArrowClosed]:JH};function ZH(t){const e=rt();return L.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(iP,t)?iP[t]:((o=(i=e.getState()).onError)==null||o.call(i,"009",Bi.error009(t)),null)},[t])}const e7=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const u=ZH(e);return u?M.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:M.jsx(u,{color:n,strokeWidth:a})}):null},y$=({defaultColor:t,rfId:e})=>{const n=Re(o=>o.edges),r=Re(o=>o.defaultEdgeOptions),i=L.useMemo(()=>W8(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?M.jsx("svg",{className:"react-flow__marker",children:M.jsx("defs",{children:i.map(o=>M.jsx(e7,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};y$.displayName="MarkerDefinitions";var t7=L.memo(y$);function v$({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:u,className:l,...c}){const[f,d]=L.useState({x:1,y:0,width:0,height:0}),p=Pt(["react-flow__edge-textwrapper",l]),m=L.useRef(null);return L.useEffect(()=>{if(m.current){const g=m.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:M.jsxs("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:p,visibility:f.width?"visible":"hidden",...c,children:[i&&M.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),M.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:m,style:r,children:n}),u]})}v$.displayName="EdgeText";const n7=L.memo(v$);function sy({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u,interactionWidth:l=20,...c}){return M.jsxs(M.Fragment,{children:[M.jsx("path",{...c,d:t,fill:"none",className:Pt(["react-flow__edge-path",c.className])}),l&&M.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}),r&&Sr(e)&&Sr(n)?M.jsx(n7,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u}):null]})}function oP({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===ge.Left||t===ge.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function _$({sourceX:t,sourceY:e,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:o=ge.Top}){const[a,s]=oP({pos:n,x1:t,y1:e,x2:r,y2:i}),[u,l]=oP({pos:o,x1:r,y1:i,x2:t,y2:e}),[c,f,d,p]=LM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:u,targetControlY:l});return[`M${t},${e} C${a},${s} ${u},${l} ${r},${i}`,c,f,d,p]}function w$(t){return L.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=ge.Bottom,targetPosition:s=ge.Top,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:v})=>{const[w,_,S]=_$({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),x=t.isInternal?void 0:e;return M.jsx(sy,{id:x,path:w,labelX:_,labelY:S,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:v})})}const r7=w$({isInternal:!1}),b$=w$({isInternal:!0});r7.displayName="SimpleBezierEdge";b$.displayName="SimpleBezierEdgeInternal";function E$(t){return L.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:p=ge.Bottom,targetPosition:m=ge.Top,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[_,S,x]=uw({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset}),A=t.isInternal?void 0:e;return M.jsx(sy,{id:A,path:_,labelX:S,labelY:x,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:y,interactionWidth:w})})}const x$=E$({isInternal:!1}),S$=E$({isInternal:!0});x$.displayName="SmoothStepEdge";S$.displayName="SmoothStepEdgeInternal";function T$(t){return L.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return M.jsx(x$,{...n,id:r,pathOptions:L.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const i7=T$({isInternal:!1}),A$=T$({isInternal:!0});i7.displayName="StepEdge";A$.displayName="StepEdgeInternal";function P$(t){return L.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,interactionWidth:g})=>{const[y,v,w]=BM({sourceX:n,sourceY:r,targetX:i,targetY:o}),_=t.isInternal?void 0:e;return M.jsx(sy,{id:_,path:y,labelX:v,labelY:w,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,interactionWidth:g})})}const o7=P$({isInternal:!1}),I$=P$({isInternal:!0});o7.displayName="StraightEdge";I$.displayName="StraightEdgeInternal";function O$(t){return L.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=ge.Bottom,targetPosition:s=ge.Top,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[_,S,x]=VM({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:v==null?void 0:v.curvature}),A=t.isInternal?void 0:e;return M.jsx(sy,{id:A,path:_,labelX:S,labelY:x,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:w})})}const a7=O$({isInternal:!1}),C$=O$({isInternal:!0});a7.displayName="BezierEdge";C$.displayName="BezierEdgeInternal";const aP={default:C$,straight:I$,step:A$,smoothstep:S$,simplebezier:b$},sP={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},s7=(t,e,n)=>n===ge.Left?t-e:n===ge.Right?t+e:t,u7=(t,e,n)=>n===ge.Top?t-e:n===ge.Bottom?t+e:t,uP="react-flow__edgeupdater";function lP({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return M.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Pt([uP,`${uP}-${s}`]),cx:s7(e,r,t),cy:u7(n,r,t),r,stroke:"transparent",fill:"transparent"})}function l7({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:u,onReconnect:l,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:p}){const m=rt(),g=(S,x)=>{if(S.button!==0)return;const{autoPanOnConnect:A,domNode:b,isValidConnection:T,connectionMode:P,connectionRadius:O,lib:k,onConnectStart:N,onConnectEnd:C,cancelConnection:R,nodeLookup:V,rfId:$,panBy:F,updateConnection:D}=m.getState(),B=x.type==="target";d(!0),c==null||c(S,n,x.type);const U=(W,Y)=>{d(!1),f==null||f(W,n,x.type,Y)},q=W=>l==null?void 0:l(n,W);fw.onPointerDown(S.nativeEvent,{autoPanOnConnect:A,connectionMode:P,connectionRadius:O,domNode:b,handleId:x.id,nodeId:x.nodeId,nodeLookup:V,isTarget:B,edgeUpdaterType:x.type,lib:k,flowId:$,cancelConnection:R,panBy:F,isValidConnection:T,onConnect:q,onConnectStart:N,onConnectEnd:C,onReconnectEnd:U,updateConnection:D,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},y=S=>g(S,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),v=S=>g(S,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),w=()=>p(!0),_=()=>p(!1);return M.jsxs(M.Fragment,{children:[(t===!0||t==="source")&&M.jsx(lP,{position:s,centerX:r,centerY:i,radius:e,onMouseDown:y,onMouseEnter:w,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&M.jsx(lP,{position:u,centerX:o,centerY:a,radius:e,onMouseDown:v,onMouseEnter:w,onMouseOut:_,type:"target"})]})}function c7({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:u,onMouseLeave:l,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:p,rfId:m,edgeTypes:g,noPanClassName:y,onError:v,disableKeyboardA11y:w}){let _=Re(G=>G.edgeLookup.get(t));const S=Re(G=>G.defaultEdgeOptions);_=S?{...S,..._}:_;let x=_.type||"default",A=(g==null?void 0:g[x])||aP[x];A===void 0&&(v==null||v("011",Bi.error011(x)),x="default",A=aP.default);const b=!!(_.focusable||e&&typeof _.focusable>"u"),T=typeof f<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),P=!!(_.selectable||r&&typeof _.selectable>"u"),O=L.useRef(null),[k,N]=L.useState(!1),[C,R]=L.useState(!1),V=rt(),{zIndex:$,sourceX:F,sourceY:D,targetX:B,targetY:U,sourcePosition:q,targetPosition:W}=Re(L.useCallback(G=>{const me=G.nodeLookup.get(_.source),he=G.nodeLookup.get(_.target);if(!me||!he)return{zIndex:_.zIndex,...sP};const xe=z8({id:t,sourceNode:me,targetNode:he,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:G.connectionMode,onError:v});return{zIndex:$8({selected:_.selected,zIndex:_.zIndex,sourceNode:me,targetNode:he,elevateOnSelect:G.elevateEdgesOnSelect}),...xe||sP}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),pt),Y=L.useMemo(()=>_.markerStart?`url('#${lw(_.markerStart,m)}')`:void 0,[_.markerStart,m]),ee=L.useMemo(()=>_.markerEnd?`url('#${lw(_.markerEnd,m)}')`:void 0,[_.markerEnd,m]);if(_.hidden||F===null||D===null||B===null||U===null)return null;const ne=G=>{var Ce;const{addSelectedEdges:me,unselectNodesAndEdges:he,multiSelectionActive:xe}=V.getState();P&&(V.setState({nodesSelectionActive:!1}),_.selected&&xe?(he({nodes:[],edges:[_]}),(Ce=O.current)==null||Ce.blur()):me([t])),i&&i(G,_)},ue=o?G=>{o(G,{..._})}:void 0,re=a?G=>{a(G,{..._})}:void 0,le=s?G=>{s(G,{..._})}:void 0,Q=u?G=>{u(G,{..._})}:void 0,se=l?G=>{l(G,{..._})}:void 0,ie=G=>{var me;if(!w&&SM.includes(G.key)&&P){const{unselectNodesAndEdges:he,addSelectedEdges:xe}=V.getState();G.key==="Escape"?((me=O.current)==null||me.blur(),he({edges:[_]})):xe([t])}};return M.jsx("svg",{style:{zIndex:$},children:M.jsxs("g",{className:Pt(["react-flow__edge",`react-flow__edge-${x}`,_.className,y,{selected:_.selected,animated:_.animated,inactive:!P&&!i,updating:k,selectable:P}]),onClick:ne,onDoubleClick:ue,onContextMenu:re,onMouseEnter:le,onMouseMove:Q,onMouseLeave:se,onKeyDown:b?ie:void 0,tabIndex:b?0:void 0,role:b?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":b?`${o$}-${m}`:void 0,ref:O,children:[!C&&M.jsx(A,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:P,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:F,sourceY:D,targetX:B,targetY:U,sourcePosition:q,targetPosition:W,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:Y,markerEnd:ee,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),T&&M.jsx(l7,{edge:_,isReconnectable:T,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:p,sourceX:F,sourceY:D,targetX:B,targetY:U,sourcePosition:q,targetPosition:W,setUpdateHover:N,setReconnecting:R})]})})}const f7=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function k$({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:g}){const{edgesFocusable:y,edgesReconnectable:v,elementsSelectable:w,onError:_}=Re(f7,pt),S=YH(e);return M.jsxs("div",{className:"react-flow__edges",children:[M.jsx(t7,{defaultColor:t,rfId:n}),S.map(x=>M.jsx(c7,{id:x,edgesFocusable:y,edgesReconnectable:v,elementsSelectable:w,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:u,onMouseLeave:l,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:g},x))]})}k$.displayName="EdgeRenderer";const d7=L.memo(k$),h7=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function p7({children:t}){const e=Re(h7);return M.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function m7(t){const e=yx(),n=L.useRef(!1);L.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const g7=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function y7(t){const e=Re(g7),n=rt();return L.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function v7(t){return t.connection.inProgress?{...t.connection,to:gd(t.connection.to,t.transform)}:{...t.connection}}function _7(t){return v7}function w7(t){const e=_7();return Re(e,pt)}const b7=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function E7({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:u}=Re(b7,pt);return!(o&&i&&u)?null:M.jsx("svg",{style:t,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:M.jsx("g",{className:Pt(["react-flow__connection",AM(s)]),children:M.jsx(N$,{style:e,type:n,CustomComponent:r,isValid:s})})})}const N$=({style:t,type:e=ao.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:u,to:l,toNode:c,toHandle:f,toPosition:d}=w7();if(!i)return;if(n)return M.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:l.x,toY:l.y,fromPosition:u,toPosition:d,connectionStatus:AM(r),toNode:c,toHandle:f});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:u,targetX:l.x,targetY:l.y,targetPosition:d};switch(e){case ao.Bezier:[p]=VM(m);break;case ao.SimpleBezier:[p]=_$(m);break;case ao.Step:[p]=uw({...m,borderRadius:0});break;case ao.SmoothStep:[p]=uw(m);break;default:[p]=BM(m)}return M.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:t})};N$.displayName="ConnectionLine";const x7={};function cP(t=x7){L.useRef(t),rt(),L.useEffect(()=>{},[t])}function S7(){rt(),L.useRef(!1),L.useEffect(()=>{},[])}function R$({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:v,selectionKeyCode:w,selectionOnDrag:_,selectionMode:S,multiSelectionKeyCode:x,panActivationKeyCode:A,zoomActivationKeyCode:b,deleteKeyCode:T,onlyRenderVisibleElements:P,elementsSelectable:O,defaultViewport:k,translateExtent:N,minZoom:C,maxZoom:R,preventScrolling:V,defaultMarkerColor:$,zoomOnScroll:F,zoomOnPinch:D,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:W,panOnDrag:Y,onPaneClick:ee,onPaneMouseEnter:ne,onPaneMouseMove:ue,onPaneMouseLeave:re,onPaneScroll:le,onPaneContextMenu:Q,paneClickDistance:se,nodeClickDistance:ie,onEdgeContextMenu:G,onEdgeMouseEnter:me,onEdgeMouseMove:he,onEdgeMouseLeave:xe,reconnectRadius:Ce,onReconnect:vt,onReconnectStart:gn,onReconnectEnd:Pn,noDragClassName:yn,noWheelClassName:vn,noPanClassName:ln,disableKeyboardA11y:In,nodeExtent:jr,rfId:cr,viewport:ut,onViewportChange:_t}){return cP(t),cP(e),S7(),m7(n),y7(ut),M.jsx(BH,{onPaneClick:ee,onPaneMouseEnter:ne,onPaneMouseMove:ue,onPaneMouseLeave:re,onPaneContextMenu:Q,onPaneScroll:le,paneClickDistance:se,deleteKeyCode:T,selectionKeyCode:w,selectionOnDrag:_,selectionMode:S,onSelectionStart:d,onSelectionEnd:p,multiSelectionKeyCode:x,panActivationKeyCode:A,zoomActivationKeyCode:b,elementsSelectable:O,zoomOnScroll:F,zoomOnPinch:D,zoomOnDoubleClick:W,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:q,panOnDrag:Y,defaultViewport:k,translateExtent:N,minZoom:C,maxZoom:R,onSelectionContextMenu:f,preventScrolling:V,noDragClassName:yn,noWheelClassName:vn,noPanClassName:ln,disableKeyboardA11y:In,onViewportChange:_t,isControlledViewport:!!ut,children:M.jsxs(p7,{children:[M.jsx(d7,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:vt,onReconnectStart:gn,onReconnectEnd:Pn,onlyRenderVisibleElements:P,onEdgeContextMenu:G,onEdgeMouseEnter:me,onEdgeMouseMove:he,onEdgeMouseLeave:xe,reconnectRadius:Ce,defaultMarkerColor:$,noPanClassName:ln,disableKeyboardA11y:In,rfId:cr}),M.jsx(E7,{style:g,type:m,component:y,containerStyle:v}),M.jsx("div",{className:"react-flow__edgelabel-renderer"}),M.jsx(XH,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:c,nodeClickDistance:ie,onlyRenderVisibleElements:P,noPanClassName:ln,noDragClassName:yn,disableKeyboardA11y:In,nodeExtent:jr,rfId:cr}),M.jsx("div",{className:"react-flow__viewport-portal"})]})})}R$.displayName="GraphView";const T7=L.memo(R$),fP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:u}={})=>{const l=new Map,c=new Map,f=new Map,d=new Map,p=r??e??[],m=n??t??[],g=s??[0,0],y=u??ff;zM(f,d,p),cw(m,l,c,{nodeOrigin:g,nodeExtent:y,elevateNodesOnSelect:!1});let v=[0,0,1];if(a&&i&&o){const w=md(l,{filter:A=>!!((A.width||A.initialWidth)&&(A.height||A.initialHeight))}),{x:_,y:S,zoom:x}=dx(w,i,o,.5,2,.1);v=[_,S,x]}return{rfId:"1",width:0,height:0,transform:v,nodes:m,nodeLookup:l,parentLookup:c,edges:p,edgeLookup:d,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:ff,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:pu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...TM},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:R8,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},A7=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:u})=>HW((l,c)=>({...fP({nodes:t,edges:e,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:u,defaultNodes:n,defaultEdges:r}),setNodes:f=>{const{nodeLookup:d,parentLookup:p,nodeOrigin:m,elevateNodesOnSelect:g}=c();cw(f,d,p,{nodeOrigin:m,nodeExtent:u,elevateNodesOnSelect:g,checkEquality:!0}),l({nodes:f})},setEdges:f=>{const{connectionLookup:d,edgeLookup:p}=c();zM(d,p,f),l({edges:f})},setDefaultNodesAndEdges:(f,d)=>{if(f){const{setNodes:p}=c();p(f),l({hasDefaultNodes:!0})}if(d){const{setEdges:p}=c();p(d),l({hasDefaultEdges:!0})}},updateNodeInternals:(f,d={triggerFitView:!0})=>{const{triggerNodeChanges:p,nodeLookup:m,parentLookup:g,fitViewOnInit:y,fitViewDone:v,fitViewOnInitOptions:w,domNode:_,nodeOrigin:S,nodeExtent:x,debug:A,fitViewSync:b}=c(),{changes:T,updatedInternals:P}=X8(f,m,g,_,S,x);if(P){if(q8(m,g,{nodeOrigin:S,nodeExtent:x}),d.triggerFitView){let O=v;!v&&y&&(O=b({...w,nodes:w==null?void 0:w.nodes})),l({fitViewDone:O})}else l({});(T==null?void 0:T.length)>0&&(A&&console.log("React Flow: trigger node changes",T),p==null||p(T))}},updateNodePositions:(f,d=!1)=>{const p=[],m=[];for(const[g,y]of f){const v=!!(y!=null&&y.expandParent&&(y!=null&&y.parentId)&&(y!=null&&y.position)),w={id:g,type:"position",position:v?{x:Math.max(0,y.position.x),y:Math.max(0,y.position.y)}:y.position,dragging:d};v&&p.push({id:g,parentId:y.parentId,rect:{...y.internals.positionAbsolute,width:y.measured.width,height:y.measured.height}}),m.push(w)}if(p.length>0){const{nodeLookup:g,parentLookup:y,nodeOrigin:v}=c(),w=gx(p,g,y,v);m.push(...w)}c().triggerNodeChanges(m)},triggerNodeChanges:f=>{const{onNodesChange:d,setNodes:p,nodes:m,hasDefaultNodes:g,debug:y}=c();if(f!=null&&f.length){if(g){const v=u$(f,m);p(v)}y&&console.log("React Flow: trigger node changes",f),d==null||d(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:d,setEdges:p,edges:m,hasDefaultEdges:g,debug:y}=c();if(f!=null&&f.length){if(g){const v=l$(f,m);p(v)}y&&console.log("React Flow: trigger edge changes",f),d==null||d(f)}},addSelectedNodes:f=>{const{multiSelectionActive:d,edgeLookup:p,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=c();if(d){const v=f.map(w=>ta(w,!0));g(v);return}g(Ls(m,new Set([...f]),!0)),y(Ls(p))},addSelectedEdges:f=>{const{multiSelectionActive:d,edgeLookup:p,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=c();if(d){const v=f.map(w=>ta(w,!0));y(v);return}y(Ls(p,new Set([...f]))),g(Ls(m,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:d}={})=>{const{edges:p,nodes:m,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:v}=c(),w=f||m,_=d||p,S=w.map(A=>{const b=g.get(A.id);return b&&(b.selected=!1),ta(A.id,!1)}),x=_.map(A=>ta(A.id,!1));y(S),v(x)},setMinZoom:f=>{const{panZoom:d,maxZoom:p}=c();d==null||d.setScaleExtent([f,p]),l({minZoom:f})},setMaxZoom:f=>{const{panZoom:d,minZoom:p}=c();d==null||d.setScaleExtent([p,f]),l({maxZoom:f})},setTranslateExtent:f=>{var d;(d=c().panZoom)==null||d.setTranslateExtent(f),l({translateExtent:f})},setPaneClickDistance:f=>{var d;(d=c().panZoom)==null||d.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:d,triggerNodeChanges:p,triggerEdgeChanges:m}=c(),g=d.reduce((v,w)=>w.selected?[...v,ta(w.id,!1)]:v,[]),y=f.reduce((v,w)=>w.selected?[...v,ta(w.id,!1)]:v,[]);p(g),m(y)},setNodeExtent:f=>{const{nodes:d,nodeLookup:p,parentLookup:m,nodeOrigin:g,elevateNodesOnSelect:y,nodeExtent:v}=c();f[0][0]===v[0][0]&&f[0][1]===v[0][1]&&f[1][0]===v[1][0]&&f[1][1]===v[1][1]||(cw(d,p,m,{nodeOrigin:g,nodeExtent:f,elevateNodesOnSelect:y,checkEquality:!1}),l({nodeExtent:f}))},panBy:f=>{const{transform:d,width:p,height:m,panZoom:g,translateExtent:y}=c();return Y8({delta:f,panZoom:g,transform:d,translateExtent:y,width:p,height:m})},fitView:f=>{const{panZoom:d,width:p,height:m,minZoom:g,maxZoom:y,nodeLookup:v}=c();if(!d)return Promise.resolve(!1);const w=iw(v,f);return ow({nodes:w,width:p,height:m,panZoom:d,minZoom:g,maxZoom:y},f)},fitViewSync:f=>{const{panZoom:d,width:p,height:m,minZoom:g,maxZoom:y,nodeLookup:v}=c();if(!d)return!1;const w=iw(v,f);return ow({nodes:w,width:p,height:m,panZoom:d,minZoom:g,maxZoom:y},f),w.size>0},cancelConnection:()=>{l({connection:{...TM}})},updateConnection:f=>{l({connection:f})},reset:()=>l({...fP()})}),Object.is);function M$({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,fitView:a,nodeOrigin:s,nodeExtent:u,children:l}){const[c]=L.useState(()=>A7({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:u}));return M.jsx(qW,{value:c,children:M.jsx(mH,{children:l})})}function P7({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:a,fitView:s,nodeOrigin:u,nodeExtent:l}){return L.useContext(oy)?M.jsx(M.Fragment,{children:t}):M.jsx(M$,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,nodeOrigin:u,nodeExtent:l,children:t})}const I7={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function O7({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:u,onInit:l,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:x,onNodeDoubleClick:A,onNodeDragStart:b,onNodeDrag:T,onNodeDragStop:P,onNodesDelete:O,onEdgesDelete:k,onDelete:N,onSelectionChange:C,onSelectionDragStart:R,onSelectionDrag:V,onSelectionDragStop:$,onSelectionContextMenu:F,onSelectionStart:D,onSelectionEnd:B,onBeforeDelete:U,connectionMode:q,connectionLineType:W=ao.Bezier,connectionLineStyle:Y,connectionLineComponent:ee,connectionLineContainerStyle:ne,deleteKeyCode:ue="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:le=!1,selectionMode:Q=df.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:ie=fm()?"Meta":"Control",zoomActivationKeyCode:G=fm()?"Meta":"Control",snapToGrid:me,snapGrid:he,onlyRenderVisibleElements:xe=!1,selectNodesOnDrag:Ce,nodesDraggable:vt,nodesConnectable:gn,nodesFocusable:Pn,nodeOrigin:yn=a$,edgesFocusable:vn,edgesReconnectable:ln,elementsSelectable:In=!0,defaultViewport:jr=oH,minZoom:cr=.5,maxZoom:ut=2,translateExtent:_t=ff,preventScrolling:is=!0,nodeExtent:os,defaultMarkerColor:Vd="#b1b1b7",zoomOnScroll:yv=!0,zoomOnPinch:Ho=!0,panOnScroll:Fd=!1,panOnScrollSpeed:Bd=.5,panOnScrollMode:vl=_a.Free,zoomOnDoubleClick:vv=!0,panOnDrag:_v=!0,onPaneClick:_l,onPaneMouseEnter:Ud,onPaneMouseMove:zd,onPaneMouseLeave:qo,onPaneScroll:wl,onPaneContextMenu:bl,paneClickDistance:Lr=0,nodeClickDistance:Wd=0,children:as,onReconnect:Hd,onReconnectStart:Go,onReconnectEnd:qd,onEdgeContextMenu:Lt,onEdgeDoubleClick:Gd,onEdgeMouseEnter:Ko,onEdgeMouseMove:Xo,onEdgeMouseLeave:wv,reconnectRadius:bv=10,onNodesChange:Ki,onEdgesChange:Ev,noDragClassName:xv="nodrag",noWheelClassName:ss="nowheel",noPanClassName:El="nopan",fitView:us,fitViewOptions:ls,connectOnClick:Vr,attributionPosition:Kd,proOptions:Xd,defaultEdgeOptions:xl,elevateNodesOnSelect:Sl,elevateEdgesOnSelect:Yd,disableKeyboardA11y:Tl=!1,autoPanOnConnect:Sv,autoPanOnNodeDrag:cs,autoPanSpeed:Qd,connectionRadius:Al,isValidConnection:Yo,onError:oi,style:Pl,id:Jd,nodeDragThreshold:Zd,viewport:eh,onViewportChange:th,width:Il,height:Ol,colorMode:nh="light",debug:rh,onScroll:fs,...Tv},ih){const ds=Jd||"1",Av=lH(nh),ai=L.useCallback(Hn=>{Hn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),fs==null||fs(Hn)},[fs]);return M.jsx("div",{"data-testid":"rf__wrapper",...Tv,onScroll:ai,style:{...Pl,...I7},ref:ih,className:Pt(["react-flow",i,Av]),id:Jd,children:M.jsxs(P7,{nodes:t,edges:e,width:Il,height:Ol,fitView:us,nodeOrigin:yn,nodeExtent:os,children:[M.jsx(T7,{onInit:l,onNodeClick:s,onEdgeClick:u,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:x,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:a,connectionLineType:W,connectionLineStyle:Y,connectionLineComponent:ee,connectionLineContainerStyle:ne,selectionKeyCode:re,selectionOnDrag:le,selectionMode:Q,deleteKeyCode:ue,multiSelectionKeyCode:ie,panActivationKeyCode:se,zoomActivationKeyCode:G,onlyRenderVisibleElements:xe,defaultViewport:jr,translateExtent:_t,minZoom:cr,maxZoom:ut,preventScrolling:is,zoomOnScroll:yv,zoomOnPinch:Ho,zoomOnDoubleClick:vv,panOnScroll:Fd,panOnScrollSpeed:Bd,panOnScrollMode:vl,panOnDrag:_v,onPaneClick:_l,onPaneMouseEnter:Ud,onPaneMouseMove:zd,onPaneMouseLeave:qo,onPaneScroll:wl,onPaneContextMenu:bl,paneClickDistance:Lr,nodeClickDistance:Wd,onSelectionContextMenu:F,onSelectionStart:D,onSelectionEnd:B,onReconnect:Hd,onReconnectStart:Go,onReconnectEnd:qd,onEdgeContextMenu:Lt,onEdgeDoubleClick:Gd,onEdgeMouseEnter:Ko,onEdgeMouseMove:Xo,onEdgeMouseLeave:wv,reconnectRadius:bv,defaultMarkerColor:Vd,noDragClassName:xv,noWheelClassName:ss,noPanClassName:El,rfId:ds,disableKeyboardA11y:Tl,nodeExtent:os,viewport:eh,onViewportChange:th}),M.jsx(uH,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,nodesDraggable:vt,nodesConnectable:gn,nodesFocusable:Pn,edgesFocusable:vn,edgesReconnectable:ln,elementsSelectable:In,elevateNodesOnSelect:Sl,elevateEdgesOnSelect:Yd,minZoom:cr,maxZoom:ut,nodeExtent:os,onNodesChange:Ki,onEdgesChange:Ev,snapToGrid:me,snapGrid:he,connectionMode:q,translateExtent:_t,connectOnClick:Vr,defaultEdgeOptions:xl,fitView:us,fitViewOptions:ls,onNodesDelete:O,onEdgesDelete:k,onDelete:N,onNodeDragStart:b,onNodeDrag:T,onNodeDragStop:P,onSelectionDrag:V,onSelectionDragStart:R,onSelectionDragStop:$,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:El,nodeOrigin:yn,rfId:ds,autoPanOnConnect:Sv,autoPanOnNodeDrag:cs,autoPanSpeed:Qd,onError:oi,connectionRadius:Al,isValidConnection:Yo,selectNodesOnDrag:Ce,nodeDragThreshold:Zd,onBeforeDelete:U,paneClickDistance:Lr,debug:rh}),M.jsx(iH,{onSelectionChange:C}),as,M.jsx(ZW,{proOptions:Xd,position:Kd}),M.jsx(QW,{rfId:ds,disableKeyboardA11y:Tl})]})})}var C7=c$(O7);function k7({dimensions:t,lineWidth:e,variant:n,className:r}){return M.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Pt(["react-flow__background-pattern",n,r])})}function N7({radius:t,className:e}){return M.jsx("circle",{cx:t,cy:t,r:t,className:Pt(["react-flow__background-pattern","dots",e])})}var Ao;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Ao||(Ao={}));const R7={[Ao.Dots]:1,[Ao.Lines]:1,[Ao.Cross]:6},M7=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function $$({id:t,variant:e=Ao.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:u,className:l,patternClassName:c}){const f=L.useRef(null),{transform:d,patternId:p}=Re(M7,pt),m=r||R7[e],g=e===Ao.Dots,y=e===Ao.Cross,v=Array.isArray(n)?n:[n,n],w=[v[0]*d[2]||1,v[1]*d[2]||1],_=m*d[2],S=Array.isArray(o)?o:[o,o],x=y?[_,_]:w,A=[S[0]*d[2]||1+x[0]/2,S[1]*d[2]||1+x[1]/2],b=`${p}${t||""}`;return M.jsxs("svg",{className:Pt(["react-flow__background",l]),style:{...u,...ay,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[M.jsx("pattern",{id:b,x:d[0]%w[0],y:d[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:g?M.jsx(N7,{radius:_/2,className:c}):M.jsx(k7,{dimensions:x,lineWidth:i,variant:e,className:c})}),M.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})}$$.displayName="Background";const $7=L.memo($$);function D7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:M.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function j7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:M.jsx("path",{d:"M0 0h32v4.2H0z"})})}function L7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:M.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function V7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function F7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Uh({children:t,className:e,...n}){return M.jsx("button",{type:"button",className:Pt(["react-flow__controls-button",e]),...n,children:t})}const B7=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function D$({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:u,className:l,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":p="React Flow controls"}){const m=rt(),{isInteractive:g,minZoomReached:y,maxZoomReached:v}=Re(B7,pt),{zoomIn:w,zoomOut:_,fitView:S}=yx(),x=()=>{w(),o==null||o()},A=()=>{_(),a==null||a()},b=()=>{S(i),s==null||s()},T=()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),u==null||u(!g)},P=d==="horizontal"?"horizontal":"vertical";return M.jsxs(_u,{className:Pt(["react-flow__controls",P,l]),position:f,style:t,"data-testid":"rf__controls","aria-label":p,children:[e&&M.jsxs(M.Fragment,{children:[M.jsx(Uh,{onClick:x,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v,children:M.jsx(D7,{})}),M.jsx(Uh,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y,children:M.jsx(j7,{})})]}),n&&M.jsx(Uh,{className:"react-flow__controls-fitview",onClick:b,title:"fit view","aria-label":"fit view",children:M.jsx(L7,{})}),r&&M.jsx(Uh,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?M.jsx(F7,{}):M.jsx(V7,{})}),c]})}D$.displayName="Controls";const U7=L.memo(D$);function z7({id:t,x:e,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:u,className:l,borderRadius:c,shapeRendering:f,selected:d,onClick:p}){const{background:m,backgroundColor:g}=o||{},y=a||m||g;return M.jsx("rect",{className:Pt(["react-flow__minimap-node",{selected:d},l]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:y,stroke:s,strokeWidth:u},shapeRendering:f,onClick:p?v=>p(v,t):void 0})}const W7=L.memo(z7),H7=t=>t.nodes.map(e=>e.id),p0=t=>t instanceof Function?t:()=>t;function q7({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=W7,onClick:a}){const s=Re(H7,pt),u=p0(e),l=p0(t),c=p0(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return M.jsx(M.Fragment,{children:s.map(d=>M.jsx(K7,{id:d,nodeColorFunc:u,nodeStrokeColorFunc:l,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:f},d))})}function G7({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:u}){const{node:l,x:c,y:f,width:d,height:p}=Re(m=>{const g=m.nodeLookup.get(t),{x:y,y:v}=g.internals.positionAbsolute,{width:w,height:_}=Ui(g);return{node:g,x:y,y:v,width:w,height:_}},pt);return!l||l.hidden||!MM(l)?null:M.jsx(s,{x:c,y:f,width:d,height:p,style:l.style,selected:!!l.selected,className:r(l),color:e(l),borderRadius:i,strokeColor:n(l),strokeWidth:o,shapeRendering:a,onClick:u,id:l.id})}const K7=L.memo(G7);var X7=L.memo(q7);const Y7=200,Q7=150,J7=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?NM(md(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},Z7="react-flow__minimap-desc";function j$({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:u,maskColor:l,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:p,onNodeClick:m,pannable:g=!1,zoomable:y=!1,ariaLabel:v="React Flow mini map",inversePan:w,zoomStep:_=10,offsetScale:S=5}){const x=rt(),A=L.useRef(null),{boundingRect:b,viewBB:T,rfId:P,panZoom:O,translateExtent:k,flowWidth:N,flowHeight:C}=Re(J7,pt),R=(t==null?void 0:t.width)??Y7,V=(t==null?void 0:t.height)??Q7,$=b.width/R,F=b.height/V,D=Math.max($,F),B=D*R,U=D*V,q=S*D,W=b.x-(B-b.width)/2-q,Y=b.y-(U-b.height)/2-q,ee=B+q*2,ne=U+q*2,ue=`${Z7}-${P}`,re=L.useRef(0),le=L.useRef();re.current=D,L.useEffect(()=>{if(A.current&&O)return le.current=iW({domNode:A.current,panZoom:O,getTransform:()=>x.getState().transform,getViewScale:()=>re.current}),()=>{var ie;(ie=le.current)==null||ie.destroy()}},[O]),L.useEffect(()=>{var ie;(ie=le.current)==null||ie.update({translateExtent:k,width:N,height:C,inversePan:w,pannable:g,zoomStep:_,zoomable:y})},[g,y,w,_,k,N,C]);const Q=p?ie=>{var he;const[G,me]=((he=le.current)==null?void 0:he.pointer(ie))||[0,0];p(ie,{x:G,y:me})}:void 0,se=m?L.useCallback((ie,G)=>{const me=x.getState().nodeLookup.get(G);m(ie,me)},[]):void 0;return M.jsx(_u,{position:d,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*D:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="string"?a:void 0},className:Pt(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:M.jsxs("svg",{width:R,height:V,viewBox:`${W} ${Y} ${ee} ${ne}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ue,ref:A,onClick:Q,children:[v&&M.jsx("title",{id:ue,children:v}),M.jsx(X7,{onClick:se,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),M.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-q},${Y-q}h${ee+q*2}v${ne+q*2}h${-ee-q*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}j$.displayName="MiniMap";L.memo(j$);function eq({nodeId:t,position:e,variant:n=Ic.Handle,className:r,style:i={},children:o,color:a,minWidth:s=10,minHeight:u=10,maxWidth:l=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:d,onResizeStart:p,onResize:m,onResizeEnd:g}){const y=p$(),v=typeof t=="string"?t:y,w=rt(),_=L.useRef(null),S=n===Ic.Line?"right":"bottom-right",x=e??S,A=L.useRef(null);L.useEffect(()=>{if(!(!_.current||!v))return A.current||(A.current=_W({domNode:_.current,nodeId:v,getStoreItems:()=>{const{nodeLookup:O,transform:k,snapGrid:N,snapToGrid:C,nodeOrigin:R,domNode:V}=w.getState();return{nodeLookup:O,transform:k,snapGrid:N,snapToGrid:C,nodeOrigin:R,paneDomNode:V}},onChange:(O,k)=>{const{triggerNodeChanges:N,nodeLookup:C,parentLookup:R,nodeOrigin:V}=w.getState(),$=[],F={x:O.x,y:O.y},D=C.get(v);if(D&&D.expandParent&&D.parentId){const B=D.origin??V,U=O.width??D.measured.width,q=O.height??D.measured.height,W={id:D.id,parentId:D.parentId,rect:{width:U,height:q,...$M({x:O.x??D.position.x,y:O.y??D.position.y},{width:U,height:q},D.parentId,C,B)}},Y=gx([W],C,R,V);$.push(...Y),F.x=O.x?Math.max(B[0]*U,O.x):void 0,F.y=O.y?Math.max(B[1]*q,O.y):void 0}if(F.x!==void 0&&F.y!==void 0){const B={id:v,type:"position",position:{...F}};$.push(B)}if(O.width!==void 0&&O.height!==void 0){const B={id:v,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:O.width,height:O.height}};$.push(B)}for(const B of k){const U={...B,type:"position"};$.push(U)}N($)},onEnd:()=>{const O={id:v,type:"dimensions",resizing:!1};w.getState().triggerNodeChanges([O])}})),A.current.update({controlPosition:x,boundaries:{minWidth:s,minHeight:u,maxWidth:l,maxHeight:c},keepAspectRatio:f,onResizeStart:p,onResize:m,onResizeEnd:g,shouldResize:d}),()=>{var O;(O=A.current)==null||O.destroy()}},[x,s,u,l,c,f,p,m,g,d]);const b=x.split("-"),T=n===Ic.Line?"borderColor":"backgroundColor",P=a?{...i,[T]:a}:i;return M.jsx("div",{className:Pt(["react-flow__resize-control","nodrag",...b,n,r]),ref:_,style:P,children:o})}L.memo(eq);var dP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},V$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|l>>6,p=l&63;u||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||l==null||f==null)throw new nq;const d=o<<2|s>>4;if(r.push(d),l!==64){const p=s<<4&240|l>>2;if(r.push(p),f!==64){const m=l<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rq=function(t){const e=L$(t);return V$.encodeByteArray(e,!0)},pm=function(t){return rq(t).replace(/\./g,"")},F$=function(t){try{return V$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=()=>iq().__FIREBASE_DEFAULTS__,aq=()=>{if(typeof process>"u"||typeof dP>"u")return;const t=dP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F$(t[1]);return e&&JSON.parse(e)},uy=()=>{try{return oq()||aq()||sq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B$=t=>{var e,n;return(n=(e=uy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uq=t=>{const e=B$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U$=()=>{var t;return(t=uy())===null||t===void 0?void 0:t.config},z$=t=>{var e;return(e=uy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pm(JSON.stringify(n)),pm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function dq(){var t;const e=(t=uy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mq(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gq(){return!dq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H$(){try{return typeof indexedDB=="object"}catch{return!1}}function q$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function yq(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vq,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?_q(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Mr(i,s,r)}}function _q(t,e){return t.replace(wq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wq=/\{\$([^}]+)}/g;function bq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(hP(o)&&hP(a)){if(!gf(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function dc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Eq(t,e){const n=new xq(t,e);return n.subscribe.bind(n)}class xq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Sq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m0),i.error===void 0&&(i.error=m0),i.complete===void 0&&(i.complete=m0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=1e3,Aq=2,Pq=4*60*60*1e3,Iq=.5;function pP(t,e=Tq,n=Aq){const r=e*Math.pow(n,t),i=Math.round(Iq*r*(Math.random()-.5)*2);return Math.min(Pq,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kq(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cq(t){return t===na?void 0:t}function kq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Oq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const Rq={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Mq=Ie.INFO,$q={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Dq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$q[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=Mq,this._logHandler=Dq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const jq=(t,e)=>e.some(n=>t instanceof n);let mP,gP;function Lq(){return mP||(mP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vq(){return gP||(gP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G$=new WeakMap,hw=new WeakMap,K$=new WeakMap,g0=new WeakMap,_x=new WeakMap;function Fq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Po(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&G$.set(n,t)}).catch(()=>{}),_x.set(e,t),e}function Bq(t){if(hw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});hw.set(t,e)}let pw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uq(t){pw=t(pw)}function zq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y0(this),e,...n);return K$.set(r,e.sort?e.sort():[e]),Po(r)}:Vq().includes(t)?function(...e){return t.apply(y0(this),e),Po(G$.get(this))}:function(...e){return Po(t.apply(y0(this),e))}}function Wq(t){return typeof t=="function"?zq(t):(t instanceof IDBTransaction&&Bq(t),jq(t,Lq())?new Proxy(t,pw):t)}function Po(t){if(t instanceof IDBRequest)return Fq(t);if(g0.has(t))return g0.get(t);const e=Wq(t);return e!==t&&(g0.set(t,e),_x.set(e,t)),e}const y0=t=>_x.get(t);function X$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Po(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Po(a.result),u.oldVersion,u.newVersion,Po(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),s.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),s}const Hq=["get","getKey","getAll","getAllKeys","count"],qq=["put","add","delete","clear"],v0=new Map;function yP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v0.get(e))return v0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Hq.includes(n)))return;const o=async function(a,...s){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(s.shift())),(await Promise.all([l[n](...s),i&&u.done]))[0]};return v0.set(e,o),o}Uq(t=>({...t,get:(e,n,r)=>yP(e,n)||t.get(e,n,r),has:(e,n)=>!!yP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mw="@firebase/app",vP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new ly("@firebase/app"),Xq="@firebase/app-compat",Yq="@firebase/analytics-compat",Qq="@firebase/analytics",Jq="@firebase/app-check-compat",Zq="@firebase/app-check",eG="@firebase/auth",tG="@firebase/auth-compat",nG="@firebase/database",rG="@firebase/data-connect",iG="@firebase/database-compat",oG="@firebase/functions",aG="@firebase/functions-compat",sG="@firebase/installations",uG="@firebase/installations-compat",lG="@firebase/messaging",cG="@firebase/messaging-compat",fG="@firebase/performance",dG="@firebase/performance-compat",hG="@firebase/remote-config",pG="@firebase/remote-config-compat",mG="@firebase/storage",gG="@firebase/storage-compat",yG="@firebase/firestore",vG="@firebase/vertexai-preview",_G="@firebase/firestore-compat",wG="firebase",bG="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="[DEFAULT]",EG={[mw]:"fire-core",[Xq]:"fire-core-compat",[Qq]:"fire-analytics",[Yq]:"fire-analytics-compat",[Zq]:"fire-app-check",[Jq]:"fire-app-check-compat",[eG]:"fire-auth",[tG]:"fire-auth-compat",[nG]:"fire-rtdb",[rG]:"fire-data-connect",[iG]:"fire-rtdb-compat",[oG]:"fire-fn",[aG]:"fire-fn-compat",[sG]:"fire-iid",[uG]:"fire-iid-compat",[lG]:"fire-fcm",[cG]:"fire-fcm-compat",[fG]:"fire-perf",[dG]:"fire-perf-compat",[hG]:"fire-rc",[pG]:"fire-rc-compat",[mG]:"fire-gcs",[gG]:"fire-gcs-compat",[yG]:"fire-fst",[_G]:"fire-fst-compat",[vG]:"fire-vertex","fire-js":"fire-js",[wG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Map,xG=new Map,yw=new Map;function _P(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ei(t){const e=t.name;if(yw.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;yw.set(e,t);for(const n of mm.values())_P(n,t);for(const n of xG.values())_P(n,t);return!0}function Ka(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new Ga("app","Firebase",SG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=bG;function Y$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Io.create("bad-app-name",{appName:String(i)});if(n||(n=U$()),!n)throw Io.create("no-options");const o=mm.get(i);if(o){if(gf(n,o.options)&&gf(r,o.config))return o;throw Io.create("duplicate-app",{appName:i})}const a=new Nq(i);for(const u of yw.values())a.addComponent(u);const s=new TG(n,r,a);return mm.set(i,s),s}function wx(t=gw){const e=mm.get(t);if(!e&&t===gw&&U$())return Y$();if(!e)throw Io.create("no-app",{appName:t});return e}function tr(t,e,n){var r;let i=(r=EG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(s.join(" "));return}ei(new kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG="firebase-heartbeat-database",PG=1,yf="firebase-heartbeat-store";let _0=null;function Q$(){return _0||(_0=X$(AG,PG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Io.create("idb-open",{originalErrorMessage:t.message})})),_0}async function IG(t){try{const n=(await Q$()).transaction(yf),r=await n.objectStore(yf).get(J$(t));return await n.done,r}catch(e){if(e instanceof Mr)Ni.warn(e.message);else{const n=Io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function wP(t,e){try{const r=(await Q$()).transaction(yf,"readwrite");await r.objectStore(yf).put(e,J$(t)),await r.done}catch(n){if(n instanceof Mr)Ni.warn(n.message);else{const r=Io.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function J$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=1024,CG=30*24*60*60*1e3;class kG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=CG}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bP(),{heartbeatsToSend:r,unsentEntries:i}=NG(this._heartbeatsCache.heartbeats),o=pm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ni.warn(n),""}}}function bP(){return new Date().toISOString().substring(0,10)}function NG(t,e=OG){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),EP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H$()?q$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function EP(t){return pm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){ei(new kr("platform-logger",e=>new Gq(e),"PRIVATE")),ei(new kr("heartbeat",e=>new kG(e),"PRIVATE")),tr(mw,vP,t),tr(mw,vP,"esm2017"),tr("fire-js","")}MG("");var $G="firebase",DG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr($G,DG,"app");const Z$="@firebase/installations",bx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=1e4,tD=`w:${bx}`,nD="FIS_v2",jG="https://firebaseinstallations.googleapis.com/v1",LG=60*60*1e3,VG="installations",FG="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ka=new Ga(VG,FG,BG);function rD(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD({projectId:t}){return`${jG}/projects/${t}/installations`}function oD(t){return{token:t.token,requestStatus:2,expiresIn:zG(t.expiresIn),creationTime:Date.now()}}async function aD(t,e){const r=(await e.json()).error;return ka.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function UG(t,{refreshToken:e}){const n=sD(t);return n.append("Authorization",WG(e)),n}async function uD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zG(t){return Number(t.replace("s","000"))}function WG(t){return`${nD} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HG({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=iD(t),i=sD(t),o=e.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={fid:n,authVersion:nD,appId:t.appId,sdkVersion:tD},s={method:"POST",headers:i,body:JSON.stringify(a)},u=await uD(()=>fetch(r,s));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:oD(l.authToken)}}else throw await aD("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=/^[cdef][\w-]{21}$/,vw="";function KG(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=XG(t);return GG.test(n)?n:vw}catch{return vw}}function XG(t){return qG(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Map;function fD(t,e){const n=cy(t);dD(n,e),YG(n,e)}function dD(t,e){const n=cD.get(t);if(n)for(const r of n)r(e)}function YG(t,e){const n=QG();n&&n.postMessage({key:t,fid:e}),JG()}let ca=null;function QG(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=t=>{dD(t.data.key,t.data.fid)}),ca}function JG(){cD.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="firebase-installations-database",eK=1,Na="firebase-installations-store";let w0=null;function Ex(){return w0||(w0=X$(ZG,eK,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Na)}}})),w0}async function gm(t,e){const n=cy(t),i=(await Ex()).transaction(Na,"readwrite"),o=i.objectStore(Na),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&fD(t,e.fid),e}async function hD(t){const e=cy(t),r=(await Ex()).transaction(Na,"readwrite");await r.objectStore(Na).delete(e),await r.done}async function fy(t,e){const n=cy(t),i=(await Ex()).transaction(Na,"readwrite"),o=i.objectStore(Na),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&fD(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(t){let e;const n=await fy(t.appConfig,r=>{const i=tK(r),o=nK(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===vw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function tK(t){const e=t||{fid:KG(),registrationStatus:0};return pD(e)}function nK(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ka.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=rK(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iK(t)}:{installationEntry:e}}async function rK(t,e){try{const n=await HG(t,e);return gm(t.appConfig,n)}catch(n){throw rD(n)&&n.customData.serverCode===409?await hD(t.appConfig):await gm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iK(t){let e=await xP(t.appConfig);for(;e.registrationStatus===1;)await lD(100),e=await xP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xx(t);return r||n}return e}function xP(t){return fy(t,e=>{if(!e)throw ka.create("installation-not-found");return pD(e)})}function pD(t){return oK(t)?{fid:t.fid,registrationStatus:0}:t}function oK(t){return t.registrationStatus===1&&t.registrationTime+eD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aK({appConfig:t,heartbeatServiceProvider:e},n){const r=sK(t,n),i=UG(t,n),o=e.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={installation:{sdkVersion:tD,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},u=await uD(()=>fetch(r,s));if(u.ok){const l=await u.json();return oD(l)}else throw await aD("Generate Auth Token",u)}function sK(t,{fid:e}){return`${iD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e=!1){let n;const r=await fy(t.appConfig,o=>{if(!mD(o))throw ka.create("not-registered");const a=o.authToken;if(!e&&cK(a))return o;if(a.requestStatus===1)return n=uK(t,e),o;{if(!navigator.onLine)throw ka.create("app-offline");const s=dK(o);return n=lK(t,s),s}});return n?await n:r.authToken}async function uK(t,e){let n=await SP(t.appConfig);for(;n.authToken.requestStatus===1;)await lD(100),n=await SP(t.appConfig);const r=n.authToken;return r.requestStatus===0?Sx(t,e):r}function SP(t){return fy(t,e=>{if(!mD(e))throw ka.create("not-registered");const n=e.authToken;return hK(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lK(t,e){try{const n=await aK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await gm(t.appConfig,r),n}catch(n){if(rD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hD(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gm(t.appConfig,r)}throw n}}function mD(t){return t!==void 0&&t.registrationStatus===2}function cK(t){return t.requestStatus===2&&!fK(t)}function fK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+LG}function dK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hK(t){return t.requestStatus===1&&t.requestTime+eD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pK(t){const e=t,{installationEntry:n,registrationPromise:r}=await xx(e);return r?r.catch(console.error):Sx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mK(t,e=!1){const n=t;return await gK(n),(await Sx(n,e)).token}async function gK(t){const{registrationPromise:e}=await xx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t){if(!t||!t.options)throw b0("App Configuration");if(!t.name)throw b0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw b0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function b0(t){return ka.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="installations",vK="installations-internal",_K=t=>{const e=t.getProvider("app").getImmediate(),n=yK(e),r=Ka(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wK=t=>{const e=t.getProvider("app").getImmediate(),n=Ka(e,gD).getImmediate();return{getId:()=>pK(n),getToken:i=>mK(n,i)}};function bK(){ei(new kr(gD,_K,"PUBLIC")),ei(new kr(vK,wK,"PRIVATE"))}bK();tr(Z$,bx);tr(Z$,bx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="analytics",EK="firebase_id",xK="origin",SK=60*1e3,TK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new ly("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new Ga("analytics","Analytics",AK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){if(!t.startsWith(Tx)){const e=Ln.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function yD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function IK(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function OK(t,e){const n=IK("firebase-js-sdk-policy",{createScriptURL:PK}),r=document.createElement("script"),i=`${Tx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function CK(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kK(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const u=(await yD(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(s){Tn.error(s)}t("config",i,o)}async function NK(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await yD(n);for(const u of a){const l=s.find(f=>f.measurementId===u),c=l&&e[l.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Tn.error(o)}}function RK(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,u]=a;await NK(t,e,n,s,u)}else if(o==="config"){const[s,u]=a;await kK(t,e,n,r,s,u)}else if(o==="consent"){const[s,u]=a;t("consent",s,u)}else if(o==="get"){const[s,u,l]=a;t("get",s,u,l)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){Tn.error(s)}}return i}function MK(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=RK(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function $K(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Tx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=30,jK=1e3;class LK{constructor(e={},n=jK){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vD=new LK;function VK(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FK(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:VK(r)},o=TK.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const u=await a.json();!((e=u.error)===null||e===void 0)&&e.message&&(s=u.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function BK(t,e=vD,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Ln.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ln.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new WK;return setTimeout(async()=>{s.abort()},SK),_D({appId:r,apiKey:i,measurementId:o},a,s,e)}async function _D(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=vD){var o;const{appId:a,measurementId:s}=t;try{await UK(r,e)}catch(u){if(s)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw u}try{const u=await FK(t);return i.deleteThrottleMetadata(a),u}catch(u){const l=u;if(!zK(l)){if(i.deleteThrottleMetadata(a),s)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw u}const c=Number((o=l==null?void 0:l.customData)===null||o===void 0?void 0:o.httpStatus)===503?pP(n,i.intervalMillis,DK):pP(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),Tn.debug(`Calling attemptFetch again in ${c} millis`),_D(t,f,r,i)}}function UK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zK(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function HK(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qK(){if(H$())try{await q$()}catch(t){return Tn.warn(Ln.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GK(t,e,n,r,i,o,a){var s;const u=BK(t);u.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Tn.error(p)),e.push(u);const l=qK().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([u,l]);$K(o)||OK(o,c.measurementId),i("js",new Date);const d=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return d[xK]="firebase",d.update=!0,f!=null&&(d[EK]=f),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e){this.app=e}_delete(){return delete Oc[this.app.options.appId],Promise.resolve()}}let Oc={},TP=[];const AP={};let E0="dataLayer",XK="gtag",PP,wD,IP=!1;function YK(){const t=[];if(W$()&&t.push("This is a browser extension environment."),yq()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function QK(t,e,n){YK();const r=t.options.appId;if(!r)throw Ln.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Oc[r]!=null)throw Ln.create("already-exists",{id:r});if(!IP){CK(E0);const{wrappedGtag:o,gtagCore:a}=MK(Oc,TP,AP,E0,XK);wD=o,PP=a,IP=!0}return Oc[r]=GK(t,TP,AP,e,PP,E0,n),new KK(t)}function JK(t=wx()){t=nt(t);const e=Ka(t,ym);return e.isInitialized()?e.getImmediate():ZK(t)}function ZK(t,e={}){const n=Ka(t,ym);if(n.isInitialized()){const i=n.getImmediate();if(gf(e,n.getOptions()))return i;throw Ln.create("already-initialized")}return n.initialize({options:e})}function eX(t,e,n,r){t=nt(t),HK(wD,Oc[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}const OP="@firebase/analytics",CP="0.10.8";function tX(){ei(new kr(ym,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return QK(r,i,n)},"PUBLIC")),ei(new kr("analytics-internal",t,"PRIVATE")),tr(OP,CP),tr(OP,CP,"esm2017");function t(e){try{const n=e.getProvider(ym).getImmediate();return{logEvent:(r,i,o)=>eX(n,r,i,o)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}}}tX();var kP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,bD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function P(){}P.prototype=T.prototype,b.D=T.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(O,k,N){for(var C=Array(arguments.length-2),R=2;R<arguments.length;R++)C[R-2]=arguments[R];return T.prototype[k].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,T,P){P||(P=0);var O=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)O[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;16>k;++k)O[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=b.g[0],P=b.g[1],k=b.g[2];var N=b.g[3],C=T+(N^P&(k^N))+O[0]+3614090360&4294967295;T=P+(C<<7&4294967295|C>>>25),C=N+(k^T&(P^k))+O[1]+3905402710&4294967295,N=T+(C<<12&4294967295|C>>>20),C=k+(P^N&(T^P))+O[2]+606105819&4294967295,k=N+(C<<17&4294967295|C>>>15),C=P+(T^k&(N^T))+O[3]+3250441966&4294967295,P=k+(C<<22&4294967295|C>>>10),C=T+(N^P&(k^N))+O[4]+4118548399&4294967295,T=P+(C<<7&4294967295|C>>>25),C=N+(k^T&(P^k))+O[5]+1200080426&4294967295,N=T+(C<<12&4294967295|C>>>20),C=k+(P^N&(T^P))+O[6]+2821735955&4294967295,k=N+(C<<17&4294967295|C>>>15),C=P+(T^k&(N^T))+O[7]+4249261313&4294967295,P=k+(C<<22&4294967295|C>>>10),C=T+(N^P&(k^N))+O[8]+1770035416&4294967295,T=P+(C<<7&4294967295|C>>>25),C=N+(k^T&(P^k))+O[9]+2336552879&4294967295,N=T+(C<<12&4294967295|C>>>20),C=k+(P^N&(T^P))+O[10]+4294925233&4294967295,k=N+(C<<17&4294967295|C>>>15),C=P+(T^k&(N^T))+O[11]+2304563134&4294967295,P=k+(C<<22&4294967295|C>>>10),C=T+(N^P&(k^N))+O[12]+1804603682&4294967295,T=P+(C<<7&4294967295|C>>>25),C=N+(k^T&(P^k))+O[13]+4254626195&4294967295,N=T+(C<<12&4294967295|C>>>20),C=k+(P^N&(T^P))+O[14]+2792965006&4294967295,k=N+(C<<17&4294967295|C>>>15),C=P+(T^k&(N^T))+O[15]+1236535329&4294967295,P=k+(C<<22&4294967295|C>>>10),C=T+(k^N&(P^k))+O[1]+4129170786&4294967295,T=P+(C<<5&4294967295|C>>>27),C=N+(P^k&(T^P))+O[6]+3225465664&4294967295,N=T+(C<<9&4294967295|C>>>23),C=k+(T^P&(N^T))+O[11]+643717713&4294967295,k=N+(C<<14&4294967295|C>>>18),C=P+(N^T&(k^N))+O[0]+3921069994&4294967295,P=k+(C<<20&4294967295|C>>>12),C=T+(k^N&(P^k))+O[5]+3593408605&4294967295,T=P+(C<<5&4294967295|C>>>27),C=N+(P^k&(T^P))+O[10]+38016083&4294967295,N=T+(C<<9&4294967295|C>>>23),C=k+(T^P&(N^T))+O[15]+3634488961&4294967295,k=N+(C<<14&4294967295|C>>>18),C=P+(N^T&(k^N))+O[4]+3889429448&4294967295,P=k+(C<<20&4294967295|C>>>12),C=T+(k^N&(P^k))+O[9]+568446438&4294967295,T=P+(C<<5&4294967295|C>>>27),C=N+(P^k&(T^P))+O[14]+3275163606&4294967295,N=T+(C<<9&4294967295|C>>>23),C=k+(T^P&(N^T))+O[3]+4107603335&4294967295,k=N+(C<<14&4294967295|C>>>18),C=P+(N^T&(k^N))+O[8]+1163531501&4294967295,P=k+(C<<20&4294967295|C>>>12),C=T+(k^N&(P^k))+O[13]+2850285829&4294967295,T=P+(C<<5&4294967295|C>>>27),C=N+(P^k&(T^P))+O[2]+4243563512&4294967295,N=T+(C<<9&4294967295|C>>>23),C=k+(T^P&(N^T))+O[7]+1735328473&4294967295,k=N+(C<<14&4294967295|C>>>18),C=P+(N^T&(k^N))+O[12]+2368359562&4294967295,P=k+(C<<20&4294967295|C>>>12),C=T+(P^k^N)+O[5]+4294588738&4294967295,T=P+(C<<4&4294967295|C>>>28),C=N+(T^P^k)+O[8]+2272392833&4294967295,N=T+(C<<11&4294967295|C>>>21),C=k+(N^T^P)+O[11]+1839030562&4294967295,k=N+(C<<16&4294967295|C>>>16),C=P+(k^N^T)+O[14]+4259657740&4294967295,P=k+(C<<23&4294967295|C>>>9),C=T+(P^k^N)+O[1]+2763975236&4294967295,T=P+(C<<4&4294967295|C>>>28),C=N+(T^P^k)+O[4]+1272893353&4294967295,N=T+(C<<11&4294967295|C>>>21),C=k+(N^T^P)+O[7]+4139469664&4294967295,k=N+(C<<16&4294967295|C>>>16),C=P+(k^N^T)+O[10]+3200236656&4294967295,P=k+(C<<23&4294967295|C>>>9),C=T+(P^k^N)+O[13]+681279174&4294967295,T=P+(C<<4&4294967295|C>>>28),C=N+(T^P^k)+O[0]+3936430074&4294967295,N=T+(C<<11&4294967295|C>>>21),C=k+(N^T^P)+O[3]+3572445317&4294967295,k=N+(C<<16&4294967295|C>>>16),C=P+(k^N^T)+O[6]+76029189&4294967295,P=k+(C<<23&4294967295|C>>>9),C=T+(P^k^N)+O[9]+3654602809&4294967295,T=P+(C<<4&4294967295|C>>>28),C=N+(T^P^k)+O[12]+3873151461&4294967295,N=T+(C<<11&4294967295|C>>>21),C=k+(N^T^P)+O[15]+530742520&4294967295,k=N+(C<<16&4294967295|C>>>16),C=P+(k^N^T)+O[2]+3299628645&4294967295,P=k+(C<<23&4294967295|C>>>9),C=T+(k^(P|~N))+O[0]+4096336452&4294967295,T=P+(C<<6&4294967295|C>>>26),C=N+(P^(T|~k))+O[7]+1126891415&4294967295,N=T+(C<<10&4294967295|C>>>22),C=k+(T^(N|~P))+O[14]+2878612391&4294967295,k=N+(C<<15&4294967295|C>>>17),C=P+(N^(k|~T))+O[5]+4237533241&4294967295,P=k+(C<<21&4294967295|C>>>11),C=T+(k^(P|~N))+O[12]+1700485571&4294967295,T=P+(C<<6&4294967295|C>>>26),C=N+(P^(T|~k))+O[3]+2399980690&4294967295,N=T+(C<<10&4294967295|C>>>22),C=k+(T^(N|~P))+O[10]+4293915773&4294967295,k=N+(C<<15&4294967295|C>>>17),C=P+(N^(k|~T))+O[1]+2240044497&4294967295,P=k+(C<<21&4294967295|C>>>11),C=T+(k^(P|~N))+O[8]+1873313359&4294967295,T=P+(C<<6&4294967295|C>>>26),C=N+(P^(T|~k))+O[15]+4264355552&4294967295,N=T+(C<<10&4294967295|C>>>22),C=k+(T^(N|~P))+O[6]+2734768916&4294967295,k=N+(C<<15&4294967295|C>>>17),C=P+(N^(k|~T))+O[13]+1309151649&4294967295,P=k+(C<<21&4294967295|C>>>11),C=T+(k^(P|~N))+O[4]+4149444226&4294967295,T=P+(C<<6&4294967295|C>>>26),C=N+(P^(T|~k))+O[11]+3174756917&4294967295,N=T+(C<<10&4294967295|C>>>22),C=k+(T^(N|~P))+O[2]+718787259&4294967295,k=N+(C<<15&4294967295|C>>>17),C=P+(N^(k|~T))+O[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var P=T-this.blockSize,O=this.B,k=this.h,N=0;N<T;){if(k==0)for(;N<=P;)i(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<T;)if(O[k++]=b.charCodeAt(N++),k==this.blockSize){i(this,O),k=0;break}}else for(;N<T;)if(O[k++]=b[N++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var P=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=P&255,P/=256;for(this.u(b),b=Array(16),T=P=0;4>T;++T)for(var O=0;32>O;O+=8)b[P++]=this.g[T]>>>O&255;return b};function o(b,T){var P=s;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=T(b)}function a(b,T){this.h=T;for(var P=[],O=!0,k=b.length-1;0<=k;k--){var N=b[k]|0;O&&N==T||(P[k]=N,O=!1)}this.g=P}var s={};function u(b){return-128<=b&&128>b?o(b,function(T){return new a([T|0],0>T?-1:0)}):new a([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return y(l(-b));for(var T=[],P=1,O=0;b>=P;O++)T[O]=b/P|0,P*=4294967296;return new a(T,0)}function c(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return y(c(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=l(Math.pow(T,8)),O=f,k=0;k<b.length;k+=8){var N=Math.min(8,b.length-k),C=parseInt(b.substring(k,k+N),T);8>N?(N=l(Math.pow(T,N)),O=O.j(N).add(l(C))):(O=O.j(P),O=O.add(l(C)))}return O}var f=u(0),d=u(1),p=u(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var b=0,T=1,P=0;P<this.g.length;P++){var O=this.i(P);b+=(0<=O?O:4294967296+O)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(m(this))return"0";if(g(this))return"-"+y(this).toString(b);for(var T=l(Math.pow(b,6)),P=this,O="";;){var k=S(P,T).g;P=v(P,k.j(T));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=k,m(P))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function m(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function g(b){return b.h==-1}t.l=function(b){return b=v(this,b),g(b)?-1:m(b)?0:1};function y(b){for(var T=b.g.length,P=[],O=0;O<T;O++)P[O]=~b.g[O];return new a(P,~b.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0,k=0;k<=T;k++){var N=O+(this.i(k)&65535)+(b.i(k)&65535),C=(N>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);O=C>>>16,N&=65535,C&=65535,P[k]=C<<16|N}return new a(P,P[P.length-1]&-2147483648?-1:0)};function v(b,T){return b.add(y(T))}t.j=function(b){if(m(this)||m(b))return f;if(g(this))return g(b)?y(this).j(y(b)):y(y(this).j(b));if(g(b))return y(this.j(y(b)));if(0>this.l(p)&&0>b.l(p))return l(this.m()*b.m());for(var T=this.g.length+b.g.length,P=[],O=0;O<2*T;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<b.g.length;k++){var N=this.i(O)>>>16,C=this.i(O)&65535,R=b.i(k)>>>16,V=b.i(k)&65535;P[2*O+2*k]+=C*V,w(P,2*O+2*k),P[2*O+2*k+1]+=N*V,w(P,2*O+2*k+1),P[2*O+2*k+1]+=C*R,w(P,2*O+2*k+1),P[2*O+2*k+2]+=N*R,w(P,2*O+2*k+2)}for(O=0;O<T;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=T;O<2*T;O++)P[O]=0;return new a(P,0)};function w(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function _(b,T){this.g=b,this.h=T}function S(b,T){if(m(T))throw Error("division by zero");if(m(b))return new _(f,f);if(g(b))return T=S(y(b),T),new _(y(T.g),y(T.h));if(g(T))return T=S(b,y(T)),new _(y(T.g),T.h);if(30<b.g.length){if(g(b)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var P=d,O=T;0>=O.l(b);)P=x(P),O=x(O);var k=A(P,1),N=A(O,1);for(O=A(O,2),P=A(P,2);!m(O);){var C=N.add(O);0>=C.l(b)&&(k=k.add(P),N=C),O=A(O,1),P=A(P,1)}return T=v(b,k.j(T)),new _(k,T)}for(k=f;0<=b.l(T);){for(P=Math.max(1,Math.floor(b.m()/T.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=l(P),C=N.j(T);g(C)||0<C.l(b);)P-=O,N=l(P),C=N.j(T);m(N)&&(N=d),k=k.add(N),b=v(b,C)}return new _(k,b)}t.A=function(b){return S(this,b).h},t.and=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)&b.i(O);return new a(P,this.h&b.h)},t.or=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)|b.i(O);return new a(P,this.h|b.h)},t.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)^b.i(O);return new a(P,this.h^b.h)};function x(b){for(var T=b.g.length+1,P=[],O=0;O<T;O++)P[O]=b.i(O)<<1|b.i(O-1)>>>31;return new a(P,b.h)}function A(b,T){var P=T>>5;T%=32;for(var O=b.g.length-P,k=[],N=0;N<O;N++)k[N]=0<T?b.i(N+P)>>>T|b.i(N+P+1)<<32-T:b.i(N+P);return new a(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bD=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=c,wa=a}).apply(typeof kP<"u"?kP:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ED,hc,xD,Ep,_w,SD,TD,AD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,I){return h==Array.prototype||h==Object.prototype||(h[E]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var E=0;E<h.length;++E){var I=h[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,E){if(E)e:{var I=r;h=h.split(".");for(var j=0;j<h.length-1;j++){var H=h[j];if(!(H in I))break e;I=I[H]}h=h[h.length-1],j=I[h],E=E(j),E!=j&&E!=null&&e(I,h,{configurable:!0,writable:!0,value:E})}}function o(h,E){h instanceof String&&(h+="");var I=0,j=!1,H={next:function(){if(!j&&I<h.length){var K=I++;return{value:E(K,h[K]),done:!1}}return j=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return o(this,function(E,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function u(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function l(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function c(h,E,I){return h.call.apply(h.bind,arguments)}function f(h,E,I){if(!h)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,j),h.apply(E,H)}}return function(){return h.apply(E,arguments)}}function d(h,E,I){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,E){var I=Array.prototype.slice.call(arguments,1);return function(){var j=I.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function m(h,E){function I(){}I.prototype=E.prototype,h.aa=E.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(j,H,K){for(var oe=Array(arguments.length-2),We=2;We<arguments.length;We++)oe[We-2]=arguments[We];return E.prototype[H].apply(j,oe)}}function g(h){const E=h.length;if(0<E){const I=Array(E);for(let j=0;j<E;j++)I[j]=h[j];return I}return[]}function y(h,E){for(let I=1;I<arguments.length;I++){const j=arguments[I];if(u(j)){const H=h.length||0,K=j.length||0;h.length=H+K;for(let oe=0;oe<K;oe++)h[H+oe]=j[oe]}else h.push(j)}}class v{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(h){return/^[\s\xa0]*$/.test(h)}function _(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function S(h){return S[" "](h),h}S[" "]=function(){};var x=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function A(h,E,I){for(const j in h)E.call(I,h[j],j,h)}function b(h,E){for(const I in h)E.call(void 0,h[I],I,h)}function T(h){const E={};for(const I in h)E[I]=h[I];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,E){let I,j;for(let H=1;H<arguments.length;H++){j=arguments[H];for(I in j)h[I]=j[I];for(let K=0;K<P.length;K++)I=P[K],Object.prototype.hasOwnProperty.call(j,I)&&(h[I]=j[I])}}function k(h){var E=1;h=h.split(":");const I=[];for(;0<E&&h.length;)I.push(h.shift()),E--;return h.length&&I.push(h.join(":")),I}function N(h){s.setTimeout(()=>{throw h},0)}function C(){var h=B;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class R{constructor(){this.h=this.g=null}add(E,I){const j=V.get();j.set(E,I),this.h?this.h.next=j:this.g=j,this.h=j}}var V=new v(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let F,D=!1,B=new R,U=()=>{const h=s.Promise.resolve(void 0);F=()=>{h.then(q)}};var q=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(I){N(I)}var E=V;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}D=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};s.addEventListener("test",I,E),s.removeEventListener("test",I,E)}catch{}return h}();function ne(h,E){if(Y.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(x){e:{try{S(E.nodeName);var H=!0;break e}catch{}H=!1}H||(E=null)}}else I=="mouseover"?E=h.fromElement:I=="mouseout"&&(E=h.toElement);this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ue[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ne.aa.h.call(this)}}m(ne,Y);var ue={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),le=0;function Q(h,E,I,j,H){this.listener=h,this.proxy=null,this.src=E,this.type=I,this.capture=!!j,this.ha=H,this.key=++le,this.da=this.fa=!1}function se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ie(h){this.src=h,this.g={},this.h=0}ie.prototype.add=function(h,E,I,j,H){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var oe=me(h,E,j,H);return-1<oe?(E=h[oe],I||(E.fa=!1)):(E=new Q(E,this.src,K,!!j,H),E.fa=I,h.push(E)),E};function G(h,E){var I=E.type;if(I in h.g){var j=h.g[I],H=Array.prototype.indexOf.call(j,E,void 0),K;(K=0<=H)&&Array.prototype.splice.call(j,H,1),K&&(se(E),h.g[I].length==0&&(delete h.g[I],h.h--))}}function me(h,E,I,j){for(var H=0;H<h.length;++H){var K=h[H];if(!K.da&&K.listener==E&&K.capture==!!I&&K.ha==j)return H}return-1}var he="closure_lm_"+(1e6*Math.random()|0),xe={};function Ce(h,E,I,j,H){if(Array.isArray(E)){for(var K=0;K<E.length;K++)Ce(h,E[K],I,j,H);return null}return I=cr(I),h&&h[re]?h.K(E,I,l(j)?!!j.capture:!1,H):vt(h,E,I,!1,j,H)}function vt(h,E,I,j,H,K){if(!E)throw Error("Invalid event type");var oe=l(H)?!!H.capture:!!H,We=In(h);if(We||(h[he]=We=new ie(h)),I=We.add(E,I,j,oe,K),I.proxy)return I;if(j=gn(),I.proxy=j,j.src=h,j.listener=I,h.addEventListener)ee||(H=oe),H===void 0&&(H=!1),h.addEventListener(E.toString(),j,H);else if(h.attachEvent)h.attachEvent(vn(E.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return I}function gn(){function h(I){return E.call(h.src,h.listener,I)}const E=ln;return h}function Pn(h,E,I,j,H){if(Array.isArray(E))for(var K=0;K<E.length;K++)Pn(h,E[K],I,j,H);else j=l(j)?!!j.capture:!!j,I=cr(I),h&&h[re]?(h=h.i,E=String(E).toString(),E in h.g&&(K=h.g[E],I=me(K,I,j,H),-1<I&&(se(K[I]),Array.prototype.splice.call(K,I,1),K.length==0&&(delete h.g[E],h.h--)))):h&&(h=In(h))&&(E=h.g[E.toString()],h=-1,E&&(h=me(E,I,j,H)),(I=-1<h?E[h]:null)&&yn(I))}function yn(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[re])G(E.i,h);else{var I=h.type,j=h.proxy;E.removeEventListener?E.removeEventListener(I,j,h.capture):E.detachEvent?E.detachEvent(vn(I),j):E.addListener&&E.removeListener&&E.removeListener(j),(I=In(E))?(G(I,h),I.h==0&&(I.src=null,E[he]=null)):se(h)}}}function vn(h){return h in xe?xe[h]:xe[h]="on"+h}function ln(h,E){if(h.da)h=!0;else{E=new ne(E,this);var I=h.listener,j=h.ha||h.src;h.fa&&yn(h),h=I.call(j,E)}return h}function In(h){return h=h[he],h instanceof ie?h:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function cr(h){return typeof h=="function"?h:(h[jr]||(h[jr]=function(E){return h.handleEvent(E)}),h[jr])}function ut(){W.call(this),this.i=new ie(this),this.M=this,this.F=null}m(ut,W),ut.prototype[re]=!0,ut.prototype.removeEventListener=function(h,E,I,j){Pn(this,h,E,I,j)};function _t(h,E){var I,j=h.F;if(j)for(I=[];j;j=j.F)I.push(j);if(h=h.M,j=E.type||E,typeof E=="string")E=new Y(E,h);else if(E instanceof Y)E.target=E.target||h;else{var H=E;E=new Y(j,h),O(E,H)}if(H=!0,I)for(var K=I.length-1;0<=K;K--){var oe=E.g=I[K];H=is(oe,j,!0,E)&&H}if(oe=E.g=h,H=is(oe,j,!0,E)&&H,H=is(oe,j,!1,E)&&H,I)for(K=0;K<I.length;K++)oe=E.g=I[K],H=is(oe,j,!1,E)&&H}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var I=h.g[E],j=0;j<I.length;j++)se(I[j]);delete h.g[E],h.h--}}this.F=null},ut.prototype.K=function(h,E,I,j){return this.i.add(String(h),E,!1,I,j)},ut.prototype.L=function(h,E,I,j){return this.i.add(String(h),E,!0,I,j)};function is(h,E,I,j){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var H=!0,K=0;K<E.length;++K){var oe=E[K];if(oe&&!oe.da&&oe.capture==I){var We=oe.listener,Vt=oe.ha||oe.src;oe.fa&&G(h.i,oe),H=We.call(Vt,j)!==!1&&H}}return H&&!j.defaultPrevented}function os(h,E,I){if(typeof h=="function")I&&(h=d(h,I));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:s.setTimeout(h,E||0)}function Vd(h){h.g=os(()=>{h.g=null,h.i&&(h.i=!1,Vd(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class yv extends W{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Vd(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(h){W.call(this),this.h=h,this.g={}}m(Ho,W);var Fd=[];function Bd(h){A(h.g,function(E,I){this.g.hasOwnProperty(I)&&yn(E)},h),h.g={}}Ho.prototype.N=function(){Ho.aa.N.call(this),Bd(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vl=s.JSON.stringify,vv=s.JSON.parse,_v=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function _l(){}_l.prototype.h=null;function Ud(h){return h.h||(h.h=h.i())}function zd(){}var qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wl(){Y.call(this,"d")}m(wl,Y);function bl(){Y.call(this,"c")}m(bl,Y);var Lr={},Wd=null;function as(){return Wd=Wd||new ut}Lr.La="serverreachability";function Hd(h){Y.call(this,Lr.La,h)}m(Hd,Y);function Go(h){const E=as();_t(E,new Hd(E))}Lr.STAT_EVENT="statevent";function qd(h,E){Y.call(this,Lr.STAT_EVENT,h),this.stat=E}m(qd,Y);function Lt(h){const E=as();_t(E,new qd(E,h))}Lr.Ma="timingevent";function Gd(h,E){Y.call(this,Lr.Ma,h),this.size=E}m(Gd,Y);function Ko(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},E)}function Xo(){this.g=!0}Xo.prototype.xa=function(){this.g=!1};function wv(h,E,I,j,H,K){h.info(function(){if(h.g)if(K)for(var oe="",We=K.split("&"),Vt=0;Vt<We.length;Vt++){var Me=We[Vt].split("=");if(1<Me.length){var Xt=Me[0];Me=Me[1];var Yt=Xt.split("_");oe=2<=Yt.length&&Yt[1]=="type"?oe+(Xt+"="+Me+"&"):oe+(Xt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+j+") [attempt "+H+"]: "+E+`
`+I+`
`+oe})}function bv(h,E,I,j,H,K,oe){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+H+"]: "+E+`
`+I+`
`+K+" "+oe})}function Ki(h,E,I,j){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+xv(h,I)+(j?" "+j:"")})}function Ev(h,E){h.info(function(){return"TIMEOUT: "+E})}Xo.prototype.info=function(){};function xv(h,E){if(!h.g)return E;if(!E)return null;try{var I=JSON.parse(E);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var j=I[h];if(!(2>j.length)){var H=j[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return vl(I)}catch{return E}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},us;function ls(){}m(ls,_l),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},us=new ls;function Vr(h,E,I,j){this.j=h,this.i=E,this.l=I,this.R=j||1,this.U=new Ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kd}function Kd(){this.i=null,this.g="",this.h=!1}var Xd={},xl={};function Sl(h,E,I){h.L=1,h.v=sh(Hn(E)),h.m=I,h.P=!0,Yd(h,null)}function Yd(h,E){h.F=Date.now(),cs(h),h.A=Hn(h.v);var I=h.A,j=h.R;Array.isArray(j)||(j=[String(j)]),TS(I.i,"t",j),h.C=0,I=h.j.J,h.h=new Kd,h.g=zS(h.j,I?E:null,!h.m),0<h.O&&(h.M=new yv(d(h.Y,h,h.g),h.O)),E=h.U,I=h.g,j=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Fd[0]=H.toString()),H=Fd);for(var K=0;K<H.length;K++){var oe=Ce(I,H[K],j||E.handleEvent,!1,E.h||E);if(!oe)break;E.g[oe.key]=oe}E=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),Go(),wv(h.i,h.u,h.A,h.l,h.R,h.m)}Vr.prototype.ca=function(h){h=h.target;const E=this.M;E&&si(h)==3?E.j():this.Y(h)},Vr.prototype.Y=function(h){try{if(h==this.g)e:{const Yt=si(this.g);var E=this.g.Ba();const ms=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||NS(this.g)))){this.J||Yt!=4||E==7||(E==8||0>=ms?Go(3):Go(2)),Al(this);var I=this.g.Z();this.X=I;t:if(Tl(this)){var j=NS(this.g);h="";var H=j.length,K=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),Yo(this);var oe="";break t}this.h.i=new s.TextDecoder}for(E=0;E<H;E++)this.h.h=!0,h+=this.h.i.decode(j[E],{stream:!(K&&E==H-1)});j.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=I==200,bv(this.i,this.u,this.A,this.l,this.R,Yt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Vt=this.g;if((We=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Me=We;break t}}Me=null}if(I=Me)Ki(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pl(this,I);else{this.o=!1,this.s=3,Lt(12),oi(this),Yo(this);break e}}if(this.P){I=!0;let fr;for(;!this.J&&this.C<oe.length;)if(fr=Sv(this,oe),fr==xl){Yt==4&&(this.s=4,Lt(14),I=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==Xd){this.s=4,Lt(15),Ki(this.i,this.l,oe,"[Invalid Chunk]"),I=!1;break}else Ki(this.i,this.l,fr,null),Pl(this,fr);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||oe.length!=0||this.h.h||(this.s=1,Lt(16),I=!1),this.o=this.o&&I,!I)Ki(this.i,this.l,oe,"[Invalid Chunked Response]"),oi(this),Yo(this);else if(0<oe.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Cv(Xt),Xt.M=!0,Lt(11))}}else Ki(this.i,this.l,oe,null),Pl(this,oe);Yt==4&&oi(this),this.o&&!this.J&&(Yt==4?VS(this.j,this):(this.o=!1,cs(this)))}else y3(this.g),I==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),oi(this),Yo(this)}}}catch{}finally{}};function Tl(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Sv(h,E){var I=h.C,j=E.indexOf(`
`,I);return j==-1?xl:(I=Number(E.substring(I,j)),isNaN(I)?Xd:(j+=1,j+I>E.length?xl:(E=E.slice(j,j+I),h.C=j+I,E)))}Vr.prototype.cancel=function(){this.J=!0,oi(this)};function cs(h){h.S=Date.now()+h.I,Qd(h,h.I)}function Qd(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ko(d(h.ba,h),E)}function Al(h){h.B&&(s.clearTimeout(h.B),h.B=null)}Vr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ev(this.i,this.A),this.L!=2&&(Go(),Lt(17)),oi(this),this.s=2,Yo(this)):Qd(this,this.S-h)};function Yo(h){h.j.G==0||h.J||VS(h.j,h)}function oi(h){Al(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,Bd(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function Pl(h,E){try{var I=h.j;if(I.G!=0&&(I.g==h||Il(I.h,h))){if(!h.K&&Il(I.h,h)&&I.G==3){try{var j=I.Da.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var H=j;if(H[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)hh(I),fh(I);else break e;Ov(I),Lt(18)}}else I.za=H[1],0<I.za-I.T&&37500>H[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ko(d(I.Za,I),6e3));if(1>=th(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Qo(I,11)}else if((h.K||I.g==h)&&hh(I),!w(E))for(H=I.Da.g.parse(E),E=0;E<H.length;E++){let Me=H[E];if(I.T=Me[0],Me=Me[1],I.G==2)if(Me[0]=="c"){I.K=Me[1],I.ia=Me[2];const Xt=Me[3];Xt!=null&&(I.la=Xt,I.j.info("VER="+I.la));const Yt=Me[4];Yt!=null&&(I.Aa=Yt,I.j.info("SVER="+I.Aa));const ms=Me[5];ms!=null&&typeof ms=="number"&&0<ms&&(j=1.5*ms,I.L=j,I.j.info("backChannelRequestTimeoutMs_="+j)),j=I;const fr=h.g;if(fr){const mh=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var K=j.h;K.g||mh.indexOf("spdy")==-1&&mh.indexOf("quic")==-1&&mh.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ol(K,K.h),K.h=null))}if(j.D){const kv=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;kv&&(j.ya=kv,Ke(j.I,j.D,kv))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),j=I;var oe=h;if(j.qa=US(j,j.J?j.ia:null,j.W),oe.K){nh(j.h,oe);var We=oe,Vt=j.L;Vt&&(We.I=Vt),We.B&&(Al(We),cs(We)),j.g=oe}else jS(j);0<I.i.length&&dh(I)}else Me[0]!="stop"&&Me[0]!="close"||Qo(I,7);else I.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Qo(I,7):Iv(I):Me[0]!="noop"&&I.l&&I.l.ta(Me),I.v=0)}}Go(4)}catch{}}var Jd=class{constructor(h,E){this.g=h,this.map=E}};function Zd(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eh(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function th(h){return h.h?1:h.g?h.g.size:0}function Il(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function Ol(h,E){h.g?h.g.add(E):h.h=E}function nh(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}Zd.prototype.cancel=function(){if(this.i=rh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rh(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const I of h.g.values())E=E.concat(I.D);return E}return g(h.i)}function fs(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(u(h)){for(var E=[],I=h.length,j=0;j<I;j++)E.push(h[j]);return E}E=[],I=0;for(j in h)E[I++]=h[j];return E}function Tv(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(u(h)||typeof h=="string"){var E=[];h=h.length;for(var I=0;I<h;I++)E.push(I);return E}E=[],I=0;for(const j in h)E[I++]=j;return E}}}function ih(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(u(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var I=Tv(h),j=fs(h),H=j.length,K=0;K<H;K++)E.call(void 0,j[K],I&&I[K],h)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Av(h,E){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var j=h[I].indexOf("="),H=null;if(0<=j){var K=h[I].substring(0,j);H=h[I].substring(j+1)}else K=h[I];E(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ai(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ai){this.h=h.h,oh(this,h.j),this.o=h.o,this.g=h.g,ah(this,h.s),this.l=h.l;var E=h.i,I=new Nl;I.i=E.i,E.g&&(I.g=new Map(E.g),I.h=E.h),bS(this,I),this.m=h.m}else h&&(E=String(h).match(ds))?(this.h=!1,oh(this,E[1]||"",!0),this.o=Cl(E[2]||""),this.g=Cl(E[3]||"",!0),ah(this,E[4]),this.l=Cl(E[5]||"",!0),bS(this,E[6]||"",!0),this.m=Cl(E[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}ai.prototype.toString=function(){var h=[],E=this.j;E&&h.push(kl(E,ES,!0),":");var I=this.g;return(I||E=="file")&&(h.push("//"),(E=this.o)&&h.push(kl(E,ES,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(kl(I,I.charAt(0)=="/"?s3:a3,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",kl(I,l3)),h.join("")};function Hn(h){return new ai(h)}function oh(h,E,I){h.j=I?Cl(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function ah(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function bS(h,E,I){E instanceof Nl?(h.i=E,c3(h.i,h.h)):(I||(E=kl(E,u3)),h.i=new Nl(E,h.h))}function Ke(h,E,I){h.i.set(E,I)}function sh(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Cl(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kl(h,E,I){return typeof h=="string"?(h=encodeURI(h).replace(E,o3),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function o3(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ES=/[#\/\?@]/g,a3=/[#\?:]/g,s3=/[#\?]/g,u3=/[#\?@]/g,l3=/#/g;function Nl(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function Xi(h){h.g||(h.g=new Map,h.h=0,h.i&&Av(h.i,function(E,I){h.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}t=Nl.prototype,t.add=function(h,E){Xi(this),this.i=null,h=hs(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(E),this.h+=1,this};function xS(h,E){Xi(h),E=hs(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function SS(h,E){return Xi(h),E=hs(h,E),h.g.has(E)}t.forEach=function(h,E){Xi(this),this.g.forEach(function(I,j){I.forEach(function(H){h.call(E,H,j,this)},this)},this)},t.na=function(){Xi(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),I=[];for(let j=0;j<E.length;j++){const H=h[j];for(let K=0;K<H.length;K++)I.push(E[j])}return I},t.V=function(h){Xi(this);let E=[];if(typeof h=="string")SS(this,h)&&(E=E.concat(this.g.get(hs(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)E=E.concat(h[I])}return E},t.set=function(h,E){return Xi(this),this.i=null,h=hs(this,h),SS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function TS(h,E,I){xS(h,E),0<I.length&&(h.i=null,h.g.set(hs(h,E),g(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var I=0;I<E.length;I++){var j=E[I];const K=encodeURIComponent(String(j)),oe=this.V(j);for(j=0;j<oe.length;j++){var H=K;oe[j]!==""&&(H+="="+encodeURIComponent(String(oe[j]))),h.push(H)}}return this.i=h.join("&")};function hs(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function c3(h,E){E&&!h.j&&(Xi(h),h.i=null,h.g.forEach(function(I,j){var H=j.toLowerCase();j!=H&&(xS(this,j),TS(this,H,I))},h)),h.j=E}function f3(h,E){const I=new Xo;if(s.Image){const j=new Image;j.onload=p(Yi,I,"TestLoadImage: loaded",!0,E,j),j.onerror=p(Yi,I,"TestLoadImage: error",!1,E,j),j.onabort=p(Yi,I,"TestLoadImage: abort",!1,E,j),j.ontimeout=p(Yi,I,"TestLoadImage: timeout",!1,E,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else E(!1)}function d3(h,E){const I=new Xo,j=new AbortController,H=setTimeout(()=>{j.abort(),Yi(I,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:j.signal}).then(K=>{clearTimeout(H),K.ok?Yi(I,"TestPingServer: ok",!0,E):Yi(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(H),Yi(I,"TestPingServer: error",!1,E)})}function Yi(h,E,I,j,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),j(I)}catch{}}function h3(){this.g=new _v}function p3(h,E,I){const j=I||"";try{ih(h,function(H,K){let oe=H;l(H)&&(oe=vl(H)),E.push(j+K+"="+encodeURIComponent(oe))})}catch(H){throw E.push(j+"type="+encodeURIComponent("_badmap")),H}}function uh(h){this.l=h.Ub||null,this.j=h.eb||!1}m(uh,_l),uh.prototype.g=function(){return new lh(this.l,this.j)},uh.prototype.i=function(h){return function(){return h}}({});function lh(h,E){ut.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(lh,ut),t=lh.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,Ml(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||s).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function AS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?Rl(this):Ml(this),this.readyState==3&&AS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Rl(this))},t.Qa=function(h){this.g&&(this.response=h,Rl(this))},t.ga=function(){this.g&&Rl(this)};function Rl(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ml(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=E.next();return h.join(`\r
`)};function Ml(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function PS(h){let E="";return A(h,function(I,j){E+=j,E+=":",E+=I,E+=`\r
`}),E}function Pv(h,E,I){e:{for(j in I){var j=!1;break e}j=!0}j||(I=PS(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):Ke(h,E,I))}function lt(h){ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(lt,ut);var m3=/^https?$/i,g3=["POST","PUT"];t=lt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,I,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():us.g(),this.v=this.o?Ud(this.o):Ud(us),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(K){IS(this,K);return}if(h=I||"",I=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var H in j)I.set(H,j[H]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const K of j.keys())I.set(K,j.get(K));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(I.keys()).find(K=>K.toLowerCase()=="content-type"),H=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(g3,E,void 0))||j||H||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of I)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kS(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){IS(this,K)}};function IS(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,OS(h),ch(h)}function OS(h){h.A||(h.A=!0,_t(h,"complete"),_t(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,_t(this,"complete"),_t(this,"abort"),ch(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?CS(this):this.bb())},t.bb=function(){CS(this)};function CS(h){if(h.h&&typeof a<"u"&&(!h.v[1]||si(h)!=4||h.Z()!=2)){if(h.u&&si(h)==4)os(h.Ea,0,h);else if(_t(h,"readystatechange"),si(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var j;if(j=oe===0){var H=String(h.D).match(ds)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),j=!m3.test(H?H.toLowerCase():"")}I=j}if(I)_t(h,"complete"),_t(h,"success");else{h.m=6;try{var K=2<si(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",OS(h)}}finally{ch(h)}}}}function ch(h,E){if(h.g){kS(h);const I=h.g,j=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||_t(h,"ready");try{I.onreadystatechange=j}catch{}}}function kS(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),vv(E)}};function NS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function y3(h){const E={};h=(h.g&&2<=si(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(w(h[j]))continue;var I=k(h[j]);const H=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const K=E[H]||[];E[H]=K,K.push(I)}b(E,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $l(h,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||E}function RS(h){this.Aa=0,this.i=[],this.j=new Xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$l("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$l("baseRetryDelayMs",5e3,h),this.cb=$l("retryDelaySeedMs",1e4,h),this.Wa=$l("forwardChannelMaxRetries",2,h),this.wa=$l("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zd(h&&h.concurrentRequestLimit),this.Da=new h3,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=RS.prototype,t.la=8,t.G=1,t.connect=function(h,E,I,j){Lt(0),this.W=h,this.H=E||{},I&&j!==void 0&&(this.H.OSID=I,this.H.OAID=j),this.F=this.X,this.I=US(this,null,this.W),dh(this)};function Iv(h){if(MS(h),h.G==3){var E=h.U++,I=Hn(h.I);if(Ke(I,"SID",h.K),Ke(I,"RID",E),Ke(I,"TYPE","terminate"),Dl(h,I),E=new Vr(h,h.j,E),E.L=2,E.v=sh(Hn(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(E.v.toString(),"")}catch{}!I&&s.Image&&(new Image().src=E.v,I=!0),I||(E.g=zS(E.j,null),E.g.ea(E.v)),E.F=Date.now(),cs(E)}BS(h)}function fh(h){h.g&&(Cv(h),h.g.cancel(),h.g=null)}function MS(h){fh(h),h.u&&(s.clearTimeout(h.u),h.u=null),hh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function dh(h){if(!eh(h.h)&&!h.s){h.s=!0;var E=h.Ga;F||U(),D||(F(),D=!0),B.add(E,h),h.B=0}}function v3(h,E){return th(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ko(d(h.Ga,h,E),FS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Vr(this,this.j,h);let K=this.o;if(this.S&&(K?(K=T(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var j=this.i[I];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,4096<E){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=DS(this,H,E),I=Hn(this.I),Ke(I,"RID",h),Ke(I,"CVER",22),this.D&&Ke(I,"X-HTTP-Session-Id",this.D),Dl(this,I),K&&(this.O?E="headers="+encodeURIComponent(String(PS(K)))+"&"+E:this.m&&Pv(I,this.m,K)),Ol(this.h,H),this.Ua&&Ke(I,"TYPE","init"),this.P?(Ke(I,"$req",E),Ke(I,"SID","null"),H.T=!0,Sl(H,I,null)):Sl(H,I,E),this.G=2}}else this.G==3&&(h?$S(this,h):this.i.length==0||eh(this.h)||$S(this))};function $S(h,E){var I;E?I=E.l:I=h.U++;const j=Hn(h.I);Ke(j,"SID",h.K),Ke(j,"RID",I),Ke(j,"AID",h.T),Dl(h,j),h.m&&h.o&&Pv(j,h.m,h.o),I=new Vr(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),E&&(h.i=E.D.concat(h.i)),E=DS(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ol(h.h,I),Sl(I,j,E)}function Dl(h,E){h.H&&A(h.H,function(I,j){Ke(E,j,I)}),h.l&&ih({},function(I,j){Ke(E,j,I)})}function DS(h,E,I){I=Math.min(h.i.length,I);var j=h.l?d(h.l.Na,h.l,h):null;e:{var H=h.i;let K=-1;for(;;){const oe=["count="+I];K==-1?0<I?(K=H[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let We=!0;for(let Vt=0;Vt<I;Vt++){let Me=H[Vt].g;const Xt=H[Vt].map;if(Me-=K,0>Me)K=Math.max(0,H[Vt].g-100),We=!1;else try{p3(Xt,oe,"req"+Me+"_")}catch{j&&j(Xt)}}if(We){j=oe.join("&");break e}}}return h=h.i.splice(0,I),E.D=h,j}function jS(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;F||U(),D||(F(),D=!0),B.add(E,h),h.v=0}}function Ov(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ko(d(h.Fa,h),FS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,LS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ko(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),fh(this),LS(this))};function Cv(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function LS(h){h.g=new Vr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=Hn(h.qa);Ke(E,"RID","rpc"),Ke(E,"SID",h.K),Ke(E,"AID",h.T),Ke(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(E,"TO",h.ja),Ke(E,"TYPE","xmlhttp"),Dl(h,E),h.m&&h.o&&Pv(E,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=sh(Hn(E)),I.m=null,I.P=!0,Yd(I,h)}t.Za=function(){this.C!=null&&(this.C=null,fh(this),Ov(this),Lt(19))};function hh(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function VS(h,E){var I=null;if(h.g==E){hh(h),Cv(h),h.g=null;var j=2}else if(Il(h.h,E))I=E.D,nh(h.h,E),j=1;else return;if(h.G!=0){if(E.o)if(j==1){I=E.m?E.m.length:0,E=Date.now()-E.F;var H=h.B;j=as(),_t(j,new Gd(j,I)),dh(h)}else jS(h);else if(H=E.s,H==3||H==0&&0<E.X||!(j==1&&v3(h,E)||j==2&&Ov(h)))switch(I&&0<I.length&&(E=h.h,E.i=E.i.concat(I)),H){case 1:Qo(h,5);break;case 4:Qo(h,10);break;case 3:Qo(h,6);break;default:Qo(h,2)}}}function FS(h,E){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*E}function Qo(h,E){if(h.j.info("Error code "+E),E==2){var I=d(h.fb,h),j=h.Xa;const H=!j;j=new ai(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||oh(j,"https"),sh(j),H?f3(j.toString(),I):d3(j.toString(),I)}else Lt(2);h.G=0,h.l&&h.l.sa(E),BS(h),MS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function BS(h){if(h.G=0,h.ka=[],h.l){const E=rh(h.h);(E.length!=0||h.i.length!=0)&&(y(h.ka,E),y(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function US(h,E,I){var j=I instanceof ai?Hn(I):new ai(I);if(j.g!="")E&&(j.g=E+"."+j.g),ah(j,j.s);else{var H=s.location;j=H.protocol,E=E?E+"."+H.hostname:H.hostname,H=+H.port;var K=new ai(null);j&&oh(K,j),E&&(K.g=E),H&&ah(K,H),I&&(K.l=I),j=K}return I=h.D,E=h.ya,I&&E&&Ke(j,I,E),Ke(j,"VER",h.la),Dl(h,j),j}function zS(h,E,I){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new lt(new uh({eb:I})):new lt(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WS(){}t=WS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ph(){}ph.prototype.g=function(h,E){return new On(h,E)};function On(h,E){ut.call(this),this.g=new RS(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!w(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!w(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new ps(this)}m(On,ut),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Iv(this.g)},On.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=vl(h),h=I);E.i.push(new Jd(E.Ya++,h)),E.G==3&&dh(E)},On.prototype.N=function(){this.g.l=null,delete this.j,Iv(this.g),delete this.g,On.aa.N.call(this)};function HS(h){wl.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const I in E){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}m(HS,wl);function qS(){bl.call(this),this.status=1}m(qS,bl);function ps(h){this.g=h}m(ps,WS),ps.prototype.ua=function(){_t(this.g,"a")},ps.prototype.ta=function(h){_t(this.g,new HS(h))},ps.prototype.sa=function(h){_t(this.g,new qS)},ps.prototype.ra=function(){_t(this.g,"b")},ph.prototype.createWebChannel=ph.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,AD=function(){return new ph},TD=function(){return as()},SD=Lr,_w={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Ep=ss,El.COMPLETE="complete",xD=El,zd.EventType=qo,qo.OPEN="a",qo.CLOSE="b",qo.ERROR="c",qo.MESSAGE="d",ut.prototype.listen=ut.prototype.K,hc=zd,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,ED=lt}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const NP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new ly("@firebase/firestore");function Gl(){return Ra.logLevel}function pe(t,...e){if(Ra.logLevel<=Ie.DEBUG){const n=e.map(Ax);Ra.debug(`Firestore (${tl}): ${t}`,...n)}}function Ri(t,...e){if(Ra.logLevel<=Ie.ERROR){const n=e.map(Ax);Ra.error(`Firestore (${tl}): ${t}`,...n)}}function wu(t,...e){if(Ra.logLevel<=Ie.WARN){const n=e.map(Ax);Ra.warn(`Firestore (${tl}): ${t}`,...n)}}function Ax(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: `+t;throw Ri(e),new Error(e)}function Fe(t,e){t||we()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class rX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iX{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ba,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},s=u=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>s(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ba)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new PD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new tn(e)}}class oX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new sX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function bu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Tt(0,0))}static max(){return new be(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends vf{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const cX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends vf{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return cX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}function fX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Mo(i,ye.empty(),e)}function dX(t){return new Mo(t.readTime,t.key,-1)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(be.min(),ye.empty(),-1)}static max(){return new Mo(be.max(),ye.empty(),-1)}}function hX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==pX)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{a[l]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function gX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _d(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Px.oe=-1;function dy(t){return t==null}function vm(t){return t===0&&1/t==-1/0}function yX(t){return typeof t=="number"&&Number.isInteger(t)&&!vm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MP(this.data.getIterator())}getIteratorFrom(e){return new MP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class MP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new qt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new CD("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const vX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $o(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=vX.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ox(t){const e=t.mapValue.fields.__previous_value__;return Ix(e)?Ox(e):e}function _f(t){const e=$o(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(e,n,r,i,o,a,s,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l}}class wf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh={mapValue:{}};function $a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ix(t)?4:bX(t)?9007199254740991:wX(t)?10:11:we()}function ti(t,e){if(t===e)return!0;const n=$a(t);if(n!==$a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _f(t).isEqual(_f(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=$o(i.timestampValue),s=$o(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ma(i.bytesValue).isEqual(Ma(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return mt(i.geoPointValue.latitude)===mt(o.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return mt(i.integerValue)===mt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=mt(i.doubleValue),s=mt(o.doubleValue);return a===s?vm(a)===vm(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return bu(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(RP(a)!==RP(s))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(s[u]===void 0||!ti(a[u],s[u])))return!1;return!0}(t,e);default:return we()}}function bf(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function Eu(t,e){if(t===e)return 0;const n=$a(t),r=$a(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=mt(o.integerValue||o.doubleValue),u=mt(a.integerValue||a.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(t,e);case 3:return $P(t.timestampValue,e.timestampValue);case 4:return $P(_f(t),_f(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Ma(o),u=Ma(a);return s.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),u=a.split("/");for(let l=0;l<s.length&&l<u.length;l++){const c=$e(s[l],u[l]);if(c!==0)return c}return $e(s.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=$e(mt(o.latitude),mt(a.latitude));return s!==0?s:$e(mt(o.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DP(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,u,l,c;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(u=d.value)===null||u===void 0?void 0:u.arrayValue,g=$e(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:DP(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Hh.mapValue&&a===Hh.mapValue)return 0;if(o===Hh.mapValue)return 1;if(a===Hh.mapValue)return-1;const s=o.fields||{},u=Object.keys(s),l=a.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=$e(u[f],c[f]);if(d!==0)return d;const p=Eu(s[u[f]],l[c[f]]);if(p!==0)return p}return $e(u.length,c.length)}(t.mapValue,e.mapValue);default:throw we()}}function $P(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=$o(t),r=$o(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function DP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Eu(n[i],r[i]);if(o)return o}return $e(n.length,r.length)}function xu(t){return ww(t)}function ww(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ma(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ww(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${ww(n.fields[a])}`;return i+"}"}(t.mapValue):we()}function jP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bw(t){return!!t&&"integerValue"in t}function Cx(t){return!!t&&"arrayValue"in t}function LP(t){return!!t&&"nullValue"in t}function VP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xp(t){return!!t&&"mapValue"in t}function wX(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return nl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Cc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){nl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Yn(Cc(this.value))}}function kD(t){const e=[];return nl(t.fields,(n,r)=>{const i=new zt([n]);if(xp(r)){const o=kD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new rn(e,0,be.min(),be.min(),be.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new rn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new rn(e,2,n,be.min(),be.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,be.min(),be.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.position=e,this.inclusive=n}}function FP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=Eu(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function BP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function EX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{}class xt extends ND{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SX(e,n,r):n==="array-contains"?new PX(e,r):n==="in"?new IX(e,r):n==="not-in"?new OX(e,r):n==="array-contains-any"?new CX(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TX(e,r):new AX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eu(n,this.value)):n!==null&&$a(this.value)===$a(n)&&this.matchesComparison(Eu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends ND{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nr(e,n)}matches(e){return RD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function RD(t){return t.op==="and"}function MD(t){return xX(t)&&RD(t)}function xX(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function Ew(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+xu(t.value);if(MD(t))return t.filters.map(e=>Ew(e)).join(",");{const e=t.filters.map(n=>Ew(n)).join(",");return`${t.op}(${e})`}}function $D(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&ti(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&$D(a,i.filters[s]),!0):!1}(t,e):void we()}function DD(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${xu(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(DD).join(" ,")+"}"}(t):"Filter"}class SX extends xt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class TX extends xt{constructor(e,n){super(e,"in",n),this.keys=jD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AX extends xt{constructor(e,n){super(e,"not-in",n),this.keys=jD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class PX extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cx(n)&&bf(n.arrayValue,this.value)}}class IX extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bf(this.value.arrayValue,n)}}class OX extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bf(this.value.arrayValue,n)}}class CX extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function UP(t,e=null,n=[],r=[],i=null,o=null,a=null){return new kX(t,e,n,r,i,o,a)}function kx(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ew(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xu(r)).join(",")),e.ue=n}return e.ue}function Nx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$D(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BP(t.startAt,e.startAt)&&BP(t.endAt,e.endAt)}function xw(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NX(t,e,n,r,i,o,a,s){return new rl(t,e,n,r,i,o,a,s)}function Rx(t){return new rl(t)}function zP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LD(t){return t.collectionGroup!==null}function kc(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new qt(zt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(s=s.add(l.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ef(o,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new Ef(zt.keyField(),r))}return e.ce}function Kr(t){const e=Ee(t);return e.le||(e.le=RX(e,kc(t))),e.le}function RX(t,e){if(t.limitType==="F")return UP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ef(i.field,o)});const n=t.endAt?new _m(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _m(t.startAt.position,t.startAt.inclusive):null;return UP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sw(t,e){const n=t.filters.concat([e]);return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tw(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hy(t,e){return Nx(Kr(t),Kr(e))&&t.limitType===e.limitType}function VD(t){return`${kx(Kr(t))}|lt:${t.limitType}`}function Es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DD(i)).join(", ")}]`),dy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xu(i)).join(",")),`Target(${r})`}(Kr(t))}; limitType=${t.limitType})`}function py(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of kc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,u){const l=FP(a,s,u);return a.inclusive?l<=0:l<0}(r.startAt,kc(r),i)||r.endAt&&!function(a,s,u){const l=FP(a,s,u);return a.inclusive?l>=0:l>0}(r.endAt,kc(r),i))}(t,e)}function MX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FD(t){return(e,n)=>{let r=!1;for(const i of kc(t)){const o=$X(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $X(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const u=a.data.field(o),l=s.data.field(o);return u!==null&&l!==null?Eu(u,l):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return OD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=new st(ye.comparator);function Mi(){return DX}const BD=new st(ye.comparator);function pc(...t){let e=BD;for(const n of t)e=e.insert(n.key,n);return e}function UD(t){let e=BD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fa(){return Nc()}function zD(){return Nc()}function Nc(){return new il(t=>t.toString(),(t,e)=>t.isEqual(e))}const jX=new st(ye.comparator),LX=new qt(ye.comparator);function Ae(...t){let e=LX;for(const n of t)e=e.add(n);return e}const VX=new qt($e);function FX(){return VX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vm(e)?"-0":e}}function WD(t){return{integerValue:""+t}}function BX(t,e){return yX(e)?WD(e):Mx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this._=void 0}}function UX(t,e,n){return t instanceof wm?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ix(o)&&(o=Ox(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof xf?qD(t,e):t instanceof Sf?GD(t,e):function(i,o){const a=HD(i,o),s=WP(a)+WP(i.Pe);return bw(a)&&bw(i.Pe)?WD(s):Mx(i.serializer,s)}(t,e)}function zX(t,e,n){return t instanceof xf?qD(t,e):t instanceof Sf?GD(t,e):n}function HD(t,e){return t instanceof bm?function(r){return bw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wm extends my{}class xf extends my{constructor(e){super(),this.elements=e}}function qD(t,e){const n=KD(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sf extends my{constructor(e){super(),this.elements=e}}function GD(t,e){let n=KD(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class bm extends my{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function WP(t){return mt(t.integerValue||t.doubleValue)}function KD(t){return Cx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WX(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xf&&i instanceof xf||r instanceof Sf&&i instanceof Sf?bu(r.elements,i.elements,ti):r instanceof bm&&i instanceof bm?ti(r.Pe,i.Pe):r instanceof wm&&i instanceof wm}(t.transform,e.transform)}class HX{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gy{}function XD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $x(t.key,Xr.none()):new wd(t.key,t.data,Xr.none());{const n=t.data,r=Yn.empty();let i=new qt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Xa(t.key,r,new Tr(i.toArray()),Xr.none())}}function qX(t,e,n){t instanceof wd?function(i,o,a){const s=i.value.clone(),u=qP(i.fieldTransforms,o,a.transformResults);s.setAll(u),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Xa?function(i,o,a){if(!Sp(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=qP(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(YD(i)),u.setAll(s),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Rc(t,e,n,r){return t instanceof wd?function(o,a,s,u){if(!Sp(o.precondition,a))return s;const l=o.value.clone(),c=GP(o.fieldTransforms,u,a);return l.setAll(c),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xa?function(o,a,s,u){if(!Sp(o.precondition,a))return s;const l=GP(o.fieldTransforms,u,a),c=a.data;return c.setAll(YD(o)),c.setAll(l),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Sp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function GX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=HD(r.transform,i||null);o!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,o))}return n||null}function HP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bu(r,i,(o,a)=>WX(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wd extends gy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xa extends gy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qP(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,zX(a,s,n[i]))}return r}function GP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,UX(o,a,e))}return r}class $x extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KX extends gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qX(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zD();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const u=XD(a,s);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&bu(this.mutations,e.mutations,(n,r)=>HP(n,r))&&bu(this.baseMutations,e.baseMutations,(n,r)=>HP(n,r))}}class Dx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return jX}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Dx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ke;function JX(t){switch(t){default:return we();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function QD(t){if(t===void 0)return Ri("GRPC error has no .code"),J.UNKNOWN;switch(t){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return we()}}(ke=wt||(wt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY=new wa([4294967295,4294967295],0);function KP(t){const e=ZX().encode(t),n=new bD;return n.update(e),new Uint8Array(n.digest())}function XP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wa([n,r],0),new wa([i,o],0)]}class jx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=wa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(wa.fromNumber(r)));return i.compare(eY)===1&&(i=new wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=KP(e),[r,i]=XP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new jx(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=KP(e),[r,i]=XP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yy(be.min(),i,new st($e),Mi(),Ae())}}class bd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bd(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class JD{constructor(e,n){this.targetId=e,this.me=n}}class ZD{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YP{constructor(){this.fe=0,this.ge=JP(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new bd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=JP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tY{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=QP(),this.Qe=new st($e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(xw(o))if(r===0){const a=new ye(o.path);this.Ue(n,a,rn.newNoDocument(a,be.min()))}else Fe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),u=s?this.Xe(s,e,a):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Ma(r).toUint8Array()}catch(u){if(u instanceof CD)return wu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{s=new jx(a,i,o)}catch(u){return wu(u instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&xw(s.target)){const u=new ye(s.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,rn.newNoDocument(u,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ae();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new yy(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=QP(),this.Qe=new st($e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qt($e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function QP(){return new st(ye.comparator)}function JP(){return new st(ye.comparator)}const nY={asc:"ASCENDING",desc:"DESCENDING"},rY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iY={and:"AND",or:"OR"};class oY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Aw(t,e){return t.useProto3Json||dy(e)?e:{value:e}}function Em(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ej(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aY(t,e){return Em(t,e.toTimestamp())}function Yr(t){return Fe(!!t),be.fromTimestamp(function(n){const r=$o(n);return new Tt(r.seconds,r.nanos)}(t))}function Lx(t,e){return Pw(t,e).canonicalString()}function Pw(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tj(t){const e=Je.fromString(t);return Fe(aj(e)),e}function Iw(t,e){return Lx(t.databaseId,e.path)}function x0(t,e){const n=tj(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(rj(n))}function nj(t,e){return Lx(t.databaseId,e)}function sY(t){const e=tj(t);return e.length===4?Je.emptyPath():rj(e)}function Ow(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rj(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZP(t,e,n){return{name:Iw(t,e),fields:n.value.mapValue.fields}}function uY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(Fe(c===void 0||typeof c=="string"),Kt.fromBase64String(c||"")):(Fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(l){const c=l.code===void 0?J.UNKNOWN:QD(l.code);return new de(c,l.message||"")}(a);n=new ZD(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=x0(t,r.document.name),o=Yr(r.document.updateTime),a=r.document.createTime?Yr(r.document.createTime):be.min(),s=new Yn({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,o,a,s),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Tp(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=x0(t,r.document),o=r.readTime?Yr(r.readTime):be.min(),a=rn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Tp([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=x0(t,r.document),o=r.removedTargetIds||[];n=new Tp([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new QX(i,o),s=r.targetId;n=new JD(s,a)}}return n}function lY(t,e){let n;if(e instanceof wd)n={update:ZP(t,e.key,e.value)};else if(e instanceof $x)n={delete:Iw(t,e.key)};else if(e instanceof Xa)n={update:ZP(t,e.key,e.data),updateMask:vY(e.fieldMask)};else{if(!(e instanceof KX))return we();n={verify:Iw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof wm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof xf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Sf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof bm)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aY(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(t,e.precondition)),n}function cY(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Yr(i.updateTime):Yr(o);return a.isEqual(be.min())&&(a=Yr(o)),new HX(a,i.transformResults||[])}(n,e))):[]}function fY(t,e){return{documents:[nj(t,e.path)]}}function dY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nj(t,i);const o=function(l){if(l.length!==0)return oj(Nr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:xs(d.field),direction:mY(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Aw(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function hY(t){let e=sY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=ij(f);return d instanceof Nr&&MD(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(m){return new Ef(Ss(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,dy(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,p=f.values||[];return new _m(p,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,p=f.values||[];return new _m(p,d)}(n.endAt)),NX(e,i,a,o,s,"F",u,l)}function pY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ij(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ss(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ss(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ss(n.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ss(n.unaryFilter.field);return xt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(Ss(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>ij(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function mY(t){return nY[t]}function gY(t){return rY[t]}function yY(t){return iY[t]}function xs(t){return{fieldPath:t.canonicalString()}}function Ss(t){return zt.fromServerFormat(t.fieldPath)}function oj(t){return t instanceof xt?function(n){if(n.op==="=="){if(VP(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NAN"}};if(LP(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VP(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NAN"}};if(LP(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(n.field),op:gY(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>oj(i));return r.length===1?r[0]:{compositeFilter:{op:yY(n.op),filters:r}}}(t):we()}function vY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r,i,o=be.min(),a=be.min(),s=Kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e){this.ct=e}}function wY(t){const e=hY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(){this.un=new EY}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Mo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class EY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qt(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Su(0)}static kn(){return new Su(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(){this.changes=new il(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rc(r.mutation,i,Tr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=pc();return o.forEach((s,u)=>{a=a.insert(s,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Mi();const a=Nc(),s=function(){return Nc()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Xa)?o=o.insert(l.key,l):c!==void 0?(a.set(l.key,c.mutation.getFieldMask()),Rc(c.mutation,l,c.mutation.getFieldMask(),Tt.now())):a.set(l.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>a.set(l,c)),n.forEach((l,c)=>{var f;return s.set(l,new SY(c,(f=a.get(l))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Nc();let i=new st((a,s)=>a-s),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Tr.empty();c=s.applyToLocalView(l,c),r.set(u,c);const f=(i.get(s.batchId)||Ae()).add(u);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),l=u.key,c=u.value,f=zD();c.forEach(d=>{if(!o.has(d)){const p=XD(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,f))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Z.resolve(fa());let s=-1,u=o;return a.next(l=>Z.forEach(l,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?Z.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ae())).next(c=>({batchId:s,changes:UD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=pc();return this.indexManager.getCollectionParents(e,o).next(s=>Z.forEach(s,u=>{const l=function(f,d){return new rl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,l)=>{const c=l.getKey();a.get(c)===null&&(a=a.insert(c,rn.newInvalidDocument(c)))});let s=pc();return a.forEach((u,l)=>{const c=o.get(u);c!==void 0&&Rc(c.mutation,l,Tr.empty(),Tt.now()),py(n,l)&&(s=s.insert(u,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:wY(i.bundledQuery),readTime:Yr(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(){this.overlays=new st(ye.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fa();return Z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=fa(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const u=s.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=fa(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const s=fa(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>s.set(l,c)),!(s.size()>=i)););return Z.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new YX(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ae(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.Tr=new qt(Rt.Er),this.dr=new qt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new Je([])),r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new Je([])),r=new Rt(n,e),i=new Rt(n,e+1);let o=Ae();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||$e(e.wr,n.wr)}static Ar(e,n){return $e(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qt(Rt.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new XX(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Rt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt($e);return n.forEach(i=>{const o=new Rt(i,0),a=new Rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new Rt(new ye(o),0);let s=new qt($e);return this.br.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(s=s.add(u.wr)),!0)},a),Z.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const o=new Rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rt(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e){this.Mr=e,this.docs=function(){return new st(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mi();const a=n.path,s=new ye(a.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||hX(dX(c),r)<=0||(i.has(c.key)||py(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){we()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kY(this)}getSize(e){return Z.resolve(this.size)}}class kY extends xY{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e){this.persistence=e,this.Nr=new il(n=>kx(n),Nx),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vx,this.targetCount=0,this.kr=Su.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Su(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Px(0),this.Kr=!1,this.Kr=!0,this.$r=new IY,this.referenceDelegate=e(this),this.Ur=new NY(this),this.indexManager=new bY,this.remoteDocumentCache=function(i){return new CY(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _Y(n),this.Gr=new AY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new OY(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new MY(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class MY extends mX{constructor(e){super(),this.currentSequenceNumber=e}}class Fx{constructor(e){this.persistence=e,this.Jr=new Vx,this.Yr=null}static Zr(e){return new Fx(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ae(),i=Ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Bx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gq()?8:gX(un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new $Y;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gl()<=Ie.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Gl()<=Ie.DEBUG&&pe("QueryEngine","Query:",Es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gl()<=Ie.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):Z.resolve())}Yi(e,n){if(zP(n))return Z.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tw(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ae(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ts(n,s);return this.ns(n,l,a,u.readTime)?this.Yi(e,Tw(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return zP(n)||i.isEqual(be.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Z.resolve(null):(Gl()<=Ie.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Es(n)),this.rs(e,a,n,fX(i,-1)).next(s=>s))})}ts(e,n){let r=new qt(FD(e));return n.forEach((i,o)=>{py(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Gl()<=Ie.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Es(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new st($e),this._s=new il(o=>kx(o),Nx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TY(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function LY(t,e,n,r){return new jY(t,e,n,r)}async function sj(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let u=Ae();for(const l of i){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:s}))})})}function VY(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,u,l,c){const f=l.batch,d=f.keys();let p=Z.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(u,m)).next(g=>{const y=l.docVersions.get(m);Fe(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let u=Ae();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(u=u.add(s.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uj(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function FY(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,y,v){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let u=Mi(),l=Ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(BY(o,a,e.documentUpdates).next(c=>{u=c.Ps,l=c.Is})),!r.isEqual(be.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function BY(t,e,n){let r=Ae(),i=Ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Mi();return n.forEach((s,u)=>{const l=o.get(s);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(be.min())?(e.removeEntry(s,u.readTime),a=a.insert(s,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),a=a.insert(s,u)):pe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",u.version)}),{Ps:a,Is:i}})}function UY(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zY(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new mo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Cw(t,e,n){const r=Ee(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!_d(a))throw a;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function eI(t,e,n){const r=Ee(t);let i=be.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,l,c){const f=Ee(u),d=f._s.get(c);return d!==void 0?Z.resolve(f.os.get(d)):f.Ur.getTargetData(l,c)}(r,a,Kr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:be.min(),n?o:Ae())).next(s=>(WY(r,MX(e),s),{documents:s,Ts:o})))}function WY(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class tI{constructor(){this.activeTargetIds=FX()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HY{constructor(){this.so=new tI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function S0(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class XY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=S0(),u=this.xo(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${s}:`,u,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,a),this.No(n,u,l,i).then(c=>(pe("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw wu("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",u,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=GY[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=S0();return new Promise((a,s)=>{const u=new ED;u.setWithCredentials(!0),u.listenOnce(xD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ep.NO_ERROR:const c=u.getResponseJson();pe(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case Ep.TIMEOUT:pe(Zt,`RPC '${e}' ${o} timed out`),s(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const f=u.getStatus();if(pe(Zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(v)>=0?v:J.UNKNOWN}(p.status);s(new de(m,p.message))}else s(new de(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else s(new de(J.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(Zt,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);pe(Zt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){const i=S0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=AD(),s=TD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");pe(Zt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const f=a.createWebChannel(c,u);let d=!1,p=!1;const m=new KY({Io:y=>{p?pe(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(pe(Zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),pe(Zt,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},To:()=>f.close()}),g=(y,v,w)=>{y.listen(v,_=>{try{w(_)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,hc.EventType.OPEN,()=>{p||(pe(Zt,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,hc.EventType.CLOSE,()=>{p||(p=!0,pe(Zt,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,hc.EventType.ERROR,y=>{p||(p=!0,wu(Zt,`RPC '${e}' stream ${i} transport errored:`,y),m.So(new de(J.UNAVAILABLE,"The operation could not be completed")))}),g(f,hc.EventType.MESSAGE,y=>{var v;if(!p){const w=y.data[0];Fe(!!w);const _=w,S=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(S){pe(Zt,`RPC '${e}' stream ${i} received error:`,S);const x=S.status;let A=function(P){const O=wt[P];if(O!==void 0)return QD(O)}(x),b=S.message;A===void 0&&(A=J.INTERNAL,b="Unknown error status: "+x+" with message "+S.message),p=!0,m.So(new de(A,b)),f.close()}else pe(Zt,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),g(s,SD.STAT_EVENT,y=>{y.stat===_w.PROXY?pe(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===_w.NOPROXY&&pe(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function T0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){return new oY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,i,o,a,s,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YY extends cj{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=uY(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?Yr(a.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ow(this.serializer),n.addTarget=function(o,a){let s;const u=a.target;if(s=xw(u)?{documents:fY(o,u)}:{query:dY(o,u)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=ej(o,a.resumeToken);const l=Aw(o,a.expectedCount);l!==null&&(s.expectedCount=l)}else if(a.snapshotVersion.compareTo(be.min())>0){s.readTime=Em(o,a.snapshotVersion.toTimestamp());const l=Aw(o,a.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=pY(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ow(this.serializer),n.removeTarget=e,this.a_(n)}}class QY extends cj{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=cY(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ow(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lY(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Pw(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Pw(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ZY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ri(n),this.D_=!1):pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ya(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ee(u);l.L_.add(4),await Ed(l),l.q_.set("Unknown"),l.L_.delete(4),await _y(l)}(this))})}),this.q_=new ZY(r,i)}}async function _y(t){if(Ya(t))for(const e of t.B_)await e(!0)}async function Ed(t){for(const e of t.B_)await e(!1)}function fj(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hx(n)?Wx(n):ol(n).r_()&&zx(n,e))}function Ux(t,e){const n=Ee(t),r=ol(n);n.N_.delete(e),r.r_()&&dj(n,e),n.N_.size===0&&(r.r_()?r.o_():Ya(n)&&n.q_.set("Unknown"))}function zx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).A_(e)}function dj(t,e){t.Q_.xe(e),ol(t).R_(e)}function Wx(t){t.Q_=new tY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.q_.v_()}function Hx(t){return Ya(t)&&!ol(t).n_()&&t.N_.size>0}function Ya(t){return Ee(t).L_.size===0}function hj(t){t.Q_=void 0}async function tQ(t){t.q_.set("Online")}async function nQ(t){t.N_.forEach((e,n)=>{zx(t,e)})}async function rQ(t,e){hj(t),Hx(t)?(t.q_.M_(e),Wx(t)):t.q_.set("Unknown")}async function iQ(t,e,n){if(t.q_.set("Online"),e instanceof ZD&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xm(t,r)}else if(e instanceof Tp?t.Q_.Ke(e):e instanceof JD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await uj(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.N_.get(l);c&&o.N_.set(l,c.withResumeToken(u.resumeToken,a))}}),s.targetMismatches.forEach((u,l)=>{const c=o.N_.get(u);if(!c)return;o.N_.set(u,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),dj(o,u);const f=new mo(c.target,u,l,c.sequenceNumber);zx(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await xm(t,r)}}async function xm(t,e,n){if(!_d(e))throw e;t.L_.add(1),await Ed(t),t.q_.set("Offline"),n||(n=()=>uj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await _y(t)})}function pj(t,e){return e().catch(n=>xm(t,n,e))}async function wy(t){const e=Ee(t),n=Do(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oQ(e);)try{const i=await UY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,aQ(e,i)}catch(i){await xm(e,i)}mj(e)&&gj(e)}function oQ(t){return Ya(t)&&t.O_.length<10}function aQ(t,e){t.O_.push(e);const n=Do(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mj(t){return Ya(t)&&!Do(t).n_()&&t.O_.length>0}function gj(t){Do(t).start()}async function sQ(t){Do(t).p_()}async function uQ(t){const e=Do(t);for(const n of t.O_)e.m_(n.mutations)}async function lQ(t,e,n){const r=t.O_.shift(),i=Dx.from(r,e,n);await pj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wy(t)}async function cQ(t,e){e&&Do(t).V_&&await async function(r,i){if(function(a){return JX(a)&&a!==J.ABORTED}(i.code)){const o=r.O_.shift();Do(r).s_(),await pj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await wy(r)}}(t,e),mj(t)&&gj(t)}async function rI(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=Ya(n);n.L_.add(3),await Ed(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await _y(n)}async function fQ(t,e){const n=Ee(t);e?(n.L_.delete(2),await _y(n)):e||(n.L_.add(2),await Ed(n),n.q_.set("Unknown"))}function ol(t){return t.K_||(t.K_=function(n,r,i){const o=Ee(n);return o.w_(),new YY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:tQ.bind(null,t),Ro:nQ.bind(null,t),mo:rQ.bind(null,t),d_:iQ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hx(t)?Wx(t):t.q_.set("Unknown")):(await t.K_.stop(),hj(t))})),t.K_}function Do(t){return t.U_||(t.U_=function(n,r,i){const o=Ee(n);return o.w_(),new QY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sQ.bind(null,t),mo:cQ.bind(null,t),f_:uQ.bind(null,t),g_:lQ.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await wy(t)):(await t.U_.stop(),t.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new qx(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gx(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),_d(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.W_=new st(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tu{constructor(e,n,r,i,o,a,s,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Tu(e,n,Qs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class hQ{constructor(){this.queries=oI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ee(n),o=i.queries;i.queries=oI(),o.forEach((a,s)=>{for(const u of s.j_)u.onError(r)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function oI(){return new il(t=>VD(t),hy)}async function pQ(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new dQ,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Gx(a,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Kx(n)}async function mQ(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gQ(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&Kx(n)}function yQ(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Kx(t){t.Y_.forEach(e=>{e.next()})}var kw,aI;(aI=kw||(kw={})).ea="default",aI.Cache="cache";class vQ{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==kw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.key=e}}class vj{constructor(e){this.key=e}}class _Q{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=FD(e),this.Ra=new Qs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new iI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=py(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.ga(d,p)||(r.track({type:2,doc:p}),y=!0,(u&&this.Aa(p,u)>0||l&&this.Aa(p,l)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),y=!0):d&&!p&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(s=!0)),y&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return g(p)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,a.length!==0||l?{snapshot:new Tu(this.query,e.Ra,o,a,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yj(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Tu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bQ{constructor(e){this.key=e,this.va=!1}}class EQ{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new il(s=>VD(s),hy),this.Ma=new Map,this.xa=new Set,this.Oa=new st(ye.comparator),this.Na=new Map,this.La=new Vx,this.Ba={},this.ka=new Map,this.qa=Su.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xQ(t,e,n=!0){const r=Sj(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await _j(r,e,n,!0),i}async function SQ(t,e){const n=Sj(t);await _j(n,e,!0,!1)}async function _j(t,e,n,r){const i=await zY(t.localStore,Kr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await TQ(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&fj(t.remoteStore,i),s}async function TQ(t,e,n,r,i){t.Ka=(f,d,p)=>async function(g,y,v,w){let _=y.view.ma(v);_.ns&&(_=await eI(g.localStore,y.query,!1).then(({documents:b})=>y.view.ma(b,_)));const S=w&&w.targetChanges.get(y.targetId),x=w&&w.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(_,g.isPrimaryClient,S,x);return uI(g,y.targetId,A.wa),A.snapshot}(t,f,d,p);const o=await eI(t.localStore,e,!0),a=new _Q(e,o.Ts),s=a.ma(o.documents),u=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=a.applyChanges(s,t.isPrimaryClient,u);uI(t,n,l.wa);const c=new wQ(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function AQ(t,e,n){const r=Ee(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!hy(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ux(r.remoteStore,i.targetId),Nw(r,i.targetId)}).catch(vd)):(Nw(r,i.targetId),await Cw(r.localStore,i.targetId,!0))}async function PQ(t,e){const n=Ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ux(n.remoteStore,r.targetId))}async function IQ(t,e,n){const r=$Q(t);try{const i=await function(a,s){const u=Ee(a),l=Tt.now(),c=s.reduce((p,m)=>p.add(m.key),Ae());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Mi(),g=Ae();return u.cs.getEntries(p,c).next(y=>{m=y,m.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,m)).next(y=>{f=y;const v=[];for(const w of s){const _=GX(w,f.get(w.key).overlayedDocument);_!=null&&v.push(new Xa(w.key,_,kD(_.value.mapValue),Xr.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,v,s)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(p,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:UD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,u){let l=a.Ba[a.currentUser.toKey()];l||(l=new st($e)),l=l.insert(s,u),a.Ba[a.currentUser.toKey()]=l}(r,i.batchId,n),await xd(r,i.changes),await wy(r.remoteStore)}catch(i){const o=Gx(i,"Failed to persist write");n.reject(o)}}async function wj(t,e){const n=Ee(t);try{const r=await FY(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Fe(a.va):i.removedDocuments.size>0&&(Fe(a.va),a.va=!1))}),await xd(n,r,e)}catch(r){await vd(r)}}function sI(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const u=Ee(a);u.onlineState=s;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(s)&&(l=!0)}),l&&Kx(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OQ(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new st(ye.comparator);a=a.insert(o,rn.newNoDocument(o,be.min()));const s=Ae().add(o),u=new yy(be.min(),new Map,new st($e),a,s);await wj(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Xx(r)}else await Cw(r.localStore,e,!1).then(()=>Nw(r,e,n)).catch(vd)}async function CQ(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await VY(n.localStore,e);Ej(n,r,null),bj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xd(n,i)}catch(i){await vd(i)}}async function kQ(t,e,n){const r=Ee(t);try{const i=await function(a,s){const u=Ee(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,s).next(f=>(Fe(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);Ej(r,e,n),bj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xd(r,i)}catch(i){await vd(i)}}function bj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ej(t,e,n){const r=Ee(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Nw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||xj(t,r)})}function xj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Ux(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Xx(t))}function uI(t,e,n){for(const r of n)r instanceof yj?(t.La.addReference(r.key,e),NQ(t,r)):r instanceof vj?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||xj(t,r.key)):we()}function NQ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Xx(t))}function Xx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(Je.fromString(e)),r=t.qa.next();t.Na.set(r,new bQ(n)),t.Oa=t.Oa.insert(n,r),fj(t.remoteStore,new mo(Kr(Rx(n.path)),r,"TargetPurposeLimboResolution",Px.oe))}}async function xd(t,e,n){const r=Ee(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,u)=>{a.push(r.Ka(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const f=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);const f=Bx.Wi(u.targetId,l);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(u,l){const c=Ee(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(l,d=>Z.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Z.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!_d(f))throw f;pe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,g)}}}(r.localStore,o))}async function RQ(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await sj(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(u=>{u.reject(new de(J.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(n,r.hs)}}function MQ(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function Sj(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OQ.bind(null,e),e.Ca.d_=gQ.bind(null,e.eventManager),e.Ca.$a=yQ.bind(null,e.eventManager),e}function $Q(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kQ.bind(null,e),e}class Sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return LY(this.persistence,new DY,e.initialUser,this.serializer)}Ga(e){return new RY(Fx.Zr,this.serializer)}Wa(e){return new HY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sm.provider={build:()=>new Sm};class Rw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RQ.bind(null,this.syncEngine),await fQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hQ}()}createDatastore(e){const n=vy(e.databaseInfo.databaseId),r=function(o){return new XY(o)}(e.databaseInfo);return function(o,a,s,u){return new JY(o,a,s,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new eQ(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>sI(this.syncEngine,n,0),function(){return nI.D()?new nI:new qY}())}createSyncEngine(e,n){return function(i,o,a,s,u,l,c){const f=new EQ(i,o,a,s,u,l);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ee(i);pe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ed(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rw.provider={build:()=>new Rw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=ID.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{pe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(pe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function A0(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LQ(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rI(e.remoteStore,i)),t._onlineComponents=e}async function LQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await A0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wu("Error using user provided cache. Falling back to memory cache: "+n),await A0(t,new Sm)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await A0(t,new Sm);return t._offlineComponents}async function Tj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await lI(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await lI(t,new Rw))),t._onlineComponents}function VQ(t){return Tj(t).then(e=>e.syncEngine)}async function cI(t){const e=await Tj(t),n=e.eventManager;return n.onListen=xQ.bind(null,e.syncEngine),n.onUnlisten=AQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PQ.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FQ(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dI(t){if(!ye.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hI(t){if(ye.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function by(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function Js(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=by(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nX;switch(r.type){case"firstParty":return new aX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fI.get(n);r&&(pe("ComponentProvider","Removing Datastore"),fI.delete(n),r.terminate())}(this),Promise.resolve()}}function BQ(t,e,n,r={}){var i;const o=(t=Js(t,Ey))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,u;if(typeof r.mockUserToken=="string")s=r.mockUserToken,u=tn.MOCK_USER;else{s=cq(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tn(l)}t._authCredentials=new rX(new PD(s,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Oo extends Qa{constructor(e,n,r){super(e,n,Rx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new ye(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function Mc(t,e,...n){if(t=nt(t),Pj("collection","path",e),t instanceof Ey){const r=Je.fromString(e,...n);return hI(r),new Oo(t,null,r)}{if(!(t instanceof Vn||t instanceof Oo))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return hI(r),new Oo(t.firestore,null,r)}}function Ij(t,e,...n){if(t=nt(t),arguments.length===1&&(e=ID.newId()),Pj("doc","path",e),t instanceof Ey){const r=Je.fromString(e,...n);return dI(r),new Vn(t,null,new ye(r))}{if(!(t instanceof Vn||t instanceof Oo))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return dI(r),new Vn(t.firestore,t instanceof Oo?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lj(this,"async_queue_retry"),this.Vu=()=>{const r=T0();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=T0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=T0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ba;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_d(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw Ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=qx.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function gI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Tf extends Ey{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mI(e),this._firestoreClient=void 0,await e}}}function UQ(t,e){const n=typeof t=="object"?t:wx(),r=typeof t=="string"?t:"(default)",i=Ka(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=uq("firestore");o&&BQ(i,...o)}return i}function Oj(t){if(t._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zQ(t),t._firestoreClient}function zQ(t){var e,n,r;const i=t._freezeSettings(),o=function(s,u,l,c){return new _X(s,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Aj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jQ(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const u=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(Kt.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Au(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=/^__.*__$/;class HQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new wd(e,this.data,n,this.fieldTransforms)}}function kj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Zx{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Zx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(kj(this.Cu)&&WQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vy(e)}Qu(e,n,r,i=!1){return new Zx({Cu:e,methodName:n,qu:r,path:zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nj(t){const e=t._freezeSettings(),n=vy(t._databaseId);return new qQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GQ(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);$j("Data must be an object, but it was:",a,r);const s=Rj(r,a);let u,l;if(o.merge)u=new Tr(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=XQ(e,f,n);if(!a.contains(d))throw new de(J.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);QQ(c,d)||c.push(d)}u=new Tr(c),l=a.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=a.fieldTransforms;return new HQ(new Yn(s),u,l)}function KQ(t,e,n,r=!1){return e1(n,t.Qu(r?4:3,e))}function e1(t,e){if(Mj(t=nt(t)))return $j("Unsupported field value:",e,t),Rj(t,e);if(t instanceof Cj)return function(r,i){if(!kj(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let u=e1(s,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Tt.fromDate(r);return{timestampValue:Em(i.serializer,o)}}if(r instanceof Tt){const o=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Em(i.serializer,o)}}if(r instanceof Qx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Au)return{bytesValue:ej(i.serializer,r._byteString)};if(r instanceof Vn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Lx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jx)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw s.Bu("VectorValues must only contain numeric values.");return Mx(s.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${by(r)}`)}(t,e)}function Rj(t,e){const n={};return OD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(t,(r,i)=>{const o=e1(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Mj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Qx||t instanceof Au||t instanceof Vn||t instanceof Cj||t instanceof Jx)}function $j(t,e,n){if(!Mj(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=by(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function XQ(t,e,n){if((e=nt(e))instanceof Yx)return e._internalPath;if(typeof e=="string")return Dj(t,e);throw Tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const YQ=new RegExp("[~\\*/\\[\\]]");function Dj(t,e,n){if(e.search(YQ)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yx(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tm(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new de(J.INVALID_ARGUMENT,s+t+u)}function QQ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JQ extends jj{data(){return super.data()}}function xy(t,e){return typeof e=="string"?Dj(t,e):e instanceof Yx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t1{}class Lj extends t1{}function Vj(t,e,...n){let r=[];e instanceof t1&&r.push(e),r=r.concat(n),function(o){const a=o.filter(u=>u instanceof n1).length,s=o.filter(u=>u instanceof Sy).length;if(a>1||a>0&&s>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Sy extends Lj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sy(e,n,r)}_apply(e){const n=this._parse(e);return Bj(e._query,n),new Qa(e.firestore,e.converter,Sw(e._query,n))}_parse(e){const n=Nj(e.firestore);return function(o,a,s,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){vI(f,c);const p=[];for(const m of f)p.push(yI(u,o,m));d={arrayValue:{values:p}}}else d=yI(u,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||vI(f,c),d=KQ(s,a,f,c==="in"||c==="not-in");return xt.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eJ(t,e,n){const r=e,i=xy("where",t);return Sy._create(i,r,n)}class n1 extends t1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const u of s)Bj(a,u),a=Sw(a,u)}(e._query,n),new Qa(e.firestore,e.converter,Sw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class r1 extends Lj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new r1(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ef(o,a)}(e._query,this._field,this._direction);return new Qa(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new rl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Fj(t,e="asc"){const n=e,r=xy("orderBy",t);return r1._create(r,n)}function yI(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LD(e)&&n.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ye.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jP(t,new ye(r))}if(n instanceof Vn)return jP(t,n._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${by(n)}.`)}function vI(t,e){if(!Array.isArray(t)||t.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bj(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tJ{convertValue(e,n="none"){switch($a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return nl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>mt(a.doubleValue));return new Jx(o)}convertGeoPoint(e){return new Qx(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ox(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){const n=$o(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Fe(aj(r));const i=new wf(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uj extends jj{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ap extends Uj{data(e={}){return super.data(e)}}class rJ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ap(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const u=new Ap(i._firestore,i._userDataWriter,s.doc.key,s.doc,new gc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const u=new Ap(i._firestore,i._userDataWriter,s.doc.key,s.doc,new gc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return s.type!==0&&(l=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:iJ(s.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class zj extends tJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function oJ(t){return Hj(Js(t.firestore,Tf),[new $x(t._key,Xr.none())])}function Mw(t,e){const n=Js(t.firestore,Tf),r=Ij(t),i=nJ(t.converter,e);return Hj(n,[GQ(Nj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then(()=>r)}function Wj(t,...e){var n,r,i;t=nt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||gI(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gI(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,c;if(t instanceof Vn)l=Js(t.firestore,Tf),c=Rx(t._key.path),u={next:f=>{e[a]&&e[a](aJ(l,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Js(t,Qa);l=Js(f.firestore,Tf),c=f._query;const d=new zj(l);u={next:p=>{e[a]&&e[a](new rJ(l,d,f,p))},error:e[a+1],complete:e[a+2]},ZQ(t._query)}return function(d,p,m,g){const y=new DQ(g),v=new vQ(p,y,m);return d.asyncQueue.enqueueAndForget(async()=>pQ(await cI(d),v)),()=>{y.Za(),d.asyncQueue.enqueueAndForget(async()=>mQ(await cI(d),v))}}(Oj(l),c,s,u)}function Hj(t,e){return function(r,i){const o=new ba;return r.asyncQueue.enqueueAndForget(async()=>IQ(await VQ(r),i,o)),o.promise}(Oj(t),e)}function aJ(t,e,n){const r=n.docs.get(e._key),i=new zj(t);return new Uj(t,i,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){tl=i})(el),ei(new kr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Tf(new iX(r.getProvider("auth-internal")),new uX(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(l.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),tr(NP,"4.7.3",e),tr(NP,"4.7.3","esm2017")})();function i1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sJ=qj,Gj=new Ga("auth","Firebase",qj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new ly("@firebase/auth");function uJ(t,...e){Am.logLevel<=Ie.WARN&&Am.warn(`Auth (${el}): ${t}`,...e)}function Pp(t,...e){Am.logLevel<=Ie.ERROR&&Am.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw a1(t,...e)}function Or(t,...e){return a1(t,...e)}function o1(t,e,n){const r=Object.assign(Object.assign({},sJ()),{[e]:n});return new Ga("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return o1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ar(t,"argument-error"),o1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function a1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gj.create(t,...e)}function _e(t,e,...n){if(!t)throw a1(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pp(e),new Error(e)}function $i(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cJ(){return _I()==="http:"||_I()==="https:"}function _I(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cJ()||W$()||"connection"in navigator)?navigator.onLine:!0}function dJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=fq()||pq()}get(){return fJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=new Sd(3e4,6e4);function zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $r(t,e,n,r,i={}){return Xj(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=yd(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:u},o);return hq()||(l.referrerPolicy="no-referrer"),Kj.fetch()(Yj(t,t.config.apiHost,n,s),l)})}async function Xj(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hJ),e);try{const i=new gJ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Gh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[u,l]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Gh(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Gh(t,"user-disabled",a);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw o1(t,c,l);ar(t,c)}}catch(i){if(i instanceof Mr)throw i;ar(t,"network-request-failed",{message:String(i)})}}async function Td(t,e,n,r,i={}){const o=await $r(t,e,n,r,i);return"mfaPendingCredential"in o&&ar(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Yj(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?s1(t.config,i):`${t.config.apiScheme}://${i}`}function mJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),pJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Or(t,e,r);return i.customData._tokenResponse=n,i}function wI(t){return t!==void 0&&t.enterprise!==void 0}class yJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function vJ(t,e){return $r(t,"GET","/v2/recaptchaConfig",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _J(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function Qj(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wJ(t,e=!1){const n=nt(t),r=await n.getIdToken(e),i=u1(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$c(P0(i.auth_time)),issuedAtTime:$c(P0(i.iat)),expirationTime:$c(P0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function P0(t){return Number(t)*1e3}function u1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const i=F$(n);return i?JSON.parse(i):(Pp("Failed to decode base64 JWT payload"),null)}catch(i){return Pp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bI(t){const e=u1(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&bJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Da(t,Qj(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Jj(o.providerUserInfo):[],s=SJ(t.providerData,a),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=u?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Dw(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function xJ(t){const e=nt(t);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Jj(t){return t.map(e=>{var{providerId:n}=e,r=i1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TJ(t,e){const n=await Xj(t,{},async()=>{const r=yd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=Yj(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Kj.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AJ(t,e){return $r(t,"POST","/v2/accounts:revokeToken",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=bI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await TJ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Zs;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=i1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Da(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wJ(this,e)}reload(){return xJ(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Da(this,_J(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(l=n.createdAt)!==null&&l!==void 0?l:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:S,isAnonymous:x,providerData:A,stsTokenManager:b}=n;_e(_&&b,e,"internal-error");const T=Zs.fromJSON(this.name,b);_e(typeof _=="string",e,"internal-error"),eo(f,e.name),eo(d,e.name),_e(typeof S=="boolean",e,"internal-error"),_e(typeof x=="boolean",e,"internal-error"),eo(p,e.name),eo(m,e.name),eo(g,e.name),eo(y,e.name),eo(v,e.name),eo(w,e.name);const P=new yi({uid:_,auth:e,email:d,emailVerified:S,displayName:f,isAnonymous:x,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:v,lastLoginAt:w});return A&&Array.isArray(A)&&(P.providerData=A.map(O=>Object.assign({},O))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zs;i.updateFromServerResponse(n);const o=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Jj(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Zs;s.updateFromIdToken(r);const u=new yi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;function vi(t){$i(t instanceof Function,"Expected a class definition");let e=EI.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zj.type="NONE";const xI=Zj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t,e,n){return`firebase:${t}:${e}:${n}`}class eu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ip(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ip("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eu(vi(xI),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||vi(xI);const a=Ip(r,e.config.apiKey,e.name);let s=null;for(const l of n)try{const c=await l._get(a);if(c){const f=yi._fromJSON(e,c);l!==o&&(s=f),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new eu(o,e,r):(o=u[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(a)}catch{}})),new eu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oL(e))return"Blackberry";if(aL(e))return"Webos";if(tL(e))return"Safari";if((e.includes("chrome/")||nL(e))&&!e.includes("edge/"))return"Chrome";if(iL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eL(t=un()){return/firefox\//i.test(t)}function tL(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nL(t=un()){return/crios\//i.test(t)}function rL(t=un()){return/iemobile/i.test(t)}function iL(t=un()){return/android/i.test(t)}function oL(t=un()){return/blackberry/i.test(t)}function aL(t=un()){return/webos/i.test(t)}function l1(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PJ(t=un()){var e;return l1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IJ(){return mq()&&document.documentMode===10}function sL(t=un()){return l1(t)||iL(t)||aL(t)||oL(t)||/windows phone/i.test(t)||rL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e=[]){let n;switch(t){case"Browser":n=SI(un());break;case"Worker":n=`${SI(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const u=e(o);a(u)}catch(u){s(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CJ(t,e={}){return $r(t,"GET","/v2/passwordPolicy",zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ=6;class NJ{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:kJ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TI(this),this.idTokenSubscription=new TI(this),this.beforeStateQueue=new OJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await eu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qj(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===s)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Qr(this));const n=e?nt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CJ(this),n=new NJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wi(t){return nt(t)}class TI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Eq(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MJ(t){Ty=t}function lL(t){return Ty.loadJS(t)}function $J(){return Ty.recaptchaEnterpriseScript}function DJ(){return Ty.gapiScript}function jJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const LJ="recaptcha-enterprise",VJ="NO_RECAPTCHA";class FJ{constructor(e){this.type=LJ,this.auth=Wi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{vJ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const l=new yJ(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,a(l.siteKey)}}).catch(u=>{s(u)})})}function i(o,a,s){const u=window.grecaptcha;wI(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{a(l)}).catch(()=>{a(VJ)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&wI(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$J();u.length!==0&&(u+=s),lL(u).then(()=>{i(s,o,a)}).catch(l=>{a(l)})}}).catch(s=>{a(s)})})}}async function AI(t,e,n,r=!1){const i=new FJ(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Im(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await AI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await AI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t,e){const n=Ka(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gf(o,e??{}))return i;ar(i,"already-initialized")}return n.initialize({options:e})}function UJ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zJ(t,e,n){const r=Wi(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=cL(e),{host:a,port:s}=WJ(e),u=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),HJ()}function cL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WJ(t){const e=cL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:PI(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:PI(a)}}}function PI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function qJ(t,e){return $r(t,"POST","/v1/accounts:update",e)}async function GJ(t,e){return $r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KJ(t,e){return Td(t,"POST","/v1/accounts:signInWithPassword",zi(t,e))}async function fL(t,e){return $r(t,"POST","/v1/accounts:sendOobCode",zi(t,e))}async function XJ(t,e){return fL(t,e)}async function YJ(t,e){return fL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QJ(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}async function JJ(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends c1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Af(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Af(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Im(e,n,"signInWithPassword",KJ);case"emailLink":return QJ(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Im(e,r,"signUpPassword",GJ);case"emailLink":return JJ(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t,e){return Td(t,"POST","/v1/accounts:signInWithIdp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ="http://localhost";class ja extends c1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=i1(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ja(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tu(e,n)}buildRequest(){const e={requestUri:ZJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tZ(t){const e=fc(dc(t)).link,n=e?fc(dc(e)).deep_link_id:null,r=fc(dc(t)).deep_link_id;return(r?fc(dc(r)).link:null)||r||n||e||t}class f1{constructor(e){var n,r,i,o,a,s;const u=fc(dc(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,f=eZ((i=u.mode)!==null&&i!==void 0?i:null);_e(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=u.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=tZ(e);try{return new f1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return Af._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=f1.parseLink(n);return _e(r,"argument-error"),Af._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends d1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Ad{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ja._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Ad{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.GITHUB_SIGN_IN_METHOD="github.com";uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Ad{constructor(){super("twitter.com")}static credential(e,n){return ja._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nZ(t,e){return Td(t,"POST","/v1/accounts:signUp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await yi._fromIdTokenResponse(e,r,i),a=II(r);return new La({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=II(r);return new La({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function II(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Om(e,n,r,i)}}function dL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,o,e,r):o})}async function rZ(t,e,n=!1){const r=await Da(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return La._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(Qr(r));const i="reauthenticate";try{const o=await Da(t,dL(r,i,e,t),n);_e(o.idToken,r,"internal-error");const a=u1(o.idToken);_e(a,r,"internal-error");const{sub:s}=a;return _e(t.uid===s,r,"user-mismatch"),La._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e,n=!1){if(Jn(t.app))return Promise.reject(Qr(t));const r="signIn",i=await dL(t,r,e),o=await La._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function iZ(t,e){return pL(Wi(t),e)}async function oZ(t,e){return hL(nt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t){const e=Wi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aZ(t,e,n){const r=Wi(t);await Im(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",YJ)}async function sZ(t,e,n){if(Jn(t.app))return Promise.reject(Qr(t));const r=Wi(t),a=await Im(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nZ).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&mL(t),u}),s=await La._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function uZ(t,e,n){return Jn(t.app)?Promise.reject(Qr(t)):iZ(nt(t),Ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mL(t),r})}async function OI(t,e){const n=nt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await XJ(n.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lZ(t,e){return $r(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=nt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Da(r,lZ(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const s=r.providerData.find(({providerId:u})=>u==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function fZ(t,e){const n=nt(t);return Jn(n.auth.app)?Promise.reject(Qr(n.auth)):gL(n,e,null)}function dZ(t,e){return gL(nt(t),null,e)}async function gL(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const a=await Da(t,qJ(r,o));await t._updateTokensIfNecessary(a,!0)}function hZ(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function pZ(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function mZ(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function gZ(t){return nt(t).signOut()}async function yZ(t){return nt(t).delete()}const Cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ=1e3,_Z=10;class vL extends yL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);IJ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_Z):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vL.type="LOCAL";const wZ=vL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L extends yL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_L.type="SESSION";const wL=_L;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ay(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async l=>l(n.origin,o)),u=await bZ(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ay.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,u)=>{const l=h1("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function xZ(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function SZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AZ(){return bL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="firebaseLocalStorageDb",PZ=1,km="firebaseLocalStorage",xL="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Py(t,e){return t.transaction([km],e?"readwrite":"readonly").objectStore(km)}function IZ(){const t=indexedDB.deleteDatabase(EL);return new Pd(t).toPromise()}function jw(){const t=indexedDB.open(EL,PZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(km,{keyPath:xL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(km)?e(r):(r.close(),await IZ(),e(await jw()))})})}async function CI(t,e,n){const r=Py(t,!0).put({[xL]:e,value:n});return new Pd(r).toPromise()}async function OZ(t,e){const n=Py(t,!1).get(e),r=await new Pd(n).toPromise();return r===void 0?null:r.value}function kI(t,e){const n=Py(t,!0).delete(e);return new Pd(n).toPromise()}const CZ=800,kZ=3;class SL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ay._getInstance(AZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SZ(),!this.activeServiceWorker)return;this.sender=new EZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jw();return await CI(e,Cm,"1"),await kI(e,Cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Py(i,!1).getAll();return new Pd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SL.type="LOCAL";const NZ=SL;new Sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t,e){return e?vi(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends c1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RZ(t){return pL(t.auth,new p1(t),t.bypassAuthState)}function MZ(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),hL(n,new p1(t),t.bypassAuthState)}async function $Z(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),rZ(n,new p1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RZ;case"linkViaPopup":case"linkViaRedirect":return $Z;case"reauthViaPopup":case"reauthViaRedirect":return MZ;default:ar(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ=new Sd(2e3,1e4);async function jZ(t,e,n){if(Jn(t.app))return Promise.reject(Or(t,"operation-not-supported-in-this-environment"));const r=Wi(t);lJ(t,e,d1);const i=TL(r,n);return new da(r,"signInViaPopup",e,i).executeNotNull()}class da extends AL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=h1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DZ.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ="pendingRedirect",Op=new Map;class VZ extends AL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Op.get(this.auth._key());if(!e){try{const r=await FZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Op.set(this.auth._key(),e)}return this.bypassAuthState||Op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FZ(t,e){const n=zZ(e),r=UZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function BZ(t,e){Op.set(t._key(),e)}function UZ(t){return vi(t._redirectPersistence)}function zZ(t){return Ip(LZ,t.config.apiKey,t.name)}async function WZ(t,e,n=!1){if(Jn(t.app))return Promise.reject(Qr(t));const r=Wi(t),i=TL(r,e),a=await new VZ(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=10*60*1e3;class qZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(NI(e))}saveEventToCache(e){this.cachedEventUids.add(NI(e)),this.lastProcessedEventTime=Date.now()}}function NI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YZ=/^https?/;async function QZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KZ(t);for(const n of e)try{if(JZ(n))return}catch{}ar(t,"unauthorized-domain")}function JZ(t){const e=$w(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!YZ.test(n))return!1;if(XZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=new Sd(3e4,6e4);function RI(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eee(t){return new Promise((e,n)=>{var r,i,o;function a(){RI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RI(),n(Or(t,"network-request-failed"))},timeout:ZZ.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jr().gapi)===null||o===void 0)&&o.load)a();else{const s=jJ("iframefcb");return Jr()[s]=()=>{gapi.load?a():n(Or(t,"network-request-failed"))},lL(`${DJ()}?onload=${s}`).catch(u=>n(u))}}).catch(e=>{throw Cp=null,e})}let Cp=null;function tee(t){return Cp=Cp||eee(t),Cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee=new Sd(5e3,15e3),ree="__/auth/iframe",iee="emulator/auth/iframe",oee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function see(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?s1(e,iee):`https://${t.config.authDomain}/${ree}`,r={apiKey:e.apiKey,appName:t.name,v:el},i=aee.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yd(r).slice(1)}`}async function uee(t){const e=await tee(t),n=Jr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:see(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oee,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Or(t,"network-request-failed"),s=Jr().setTimeout(()=>{o(a)},nee.get());function u(){Jr().clearTimeout(s),i(r)}r.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cee=500,fee=600,dee="_blank",hee="http://localhost";class MI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pee(t,e,n,r=cee,i=fee){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},lee),{width:r.toString(),height:i.toString(),top:o,left:a}),l=un().toLowerCase();n&&(s=nL(l)?dee:n),eL(l)&&(e=e||hee,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(PJ(l)&&s!=="_self")return mee(e||"",s),new MI(null);const f=window.open(e||"",s,c);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new MI(f)}function mee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gee="__/auth/handler",yee="emulator/auth/handler",vee=encodeURIComponent("fac");async function $I(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:i};if(e instanceof d1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",bq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof Ad){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const u=await t._getAppCheckToken(),l=u?`#${vee}=${encodeURIComponent(u)}`:"";return`${_ee(t)}?${yd(s).slice(1)}${l}`}function _ee({config:t}){return t.emulator?s1(t,yee):`https://${t.authDomain}/${gee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="webStorageSupport";class wee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wL,this._completeRedirectFn=WZ,this._overrideRedirectResult=BZ}async _openPopup(e,n,r,i){var o;$i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await $I(e,n,r,$w(),i);return pee(e,a,h1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await $I(e,n,r,$w(),i);return xZ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uee(e),r=new qZ(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(I0,{type:I0},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[I0];a!==void 0&&n(!!a),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sL()||tL()||l1()}}const bee=wee;var DI="@firebase/auth",jI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function See(t){ei(new kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uL(t)},l=new RJ(r,i,o,u);return UJ(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ei(new kr("auth-internal",e=>{const n=Wi(e.getProvider("auth").getImmediate());return(r=>new Eee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(DI,jI,xee(t)),tr(DI,jI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=5*60,Aee=z$("authIdTokenMaxAge")||Tee;let LI=null;const Pee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Aee)return;const i=n==null?void 0:n.token;LI!==i&&(LI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Iee(t=wx()){const e=Ka(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BJ(t,{popupRedirectResolver:bee,persistence:[NZ,wZ,wL]}),r=z$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Pee(o.toString());pZ(n,a,()=>a(n.currentUser)),hZ(n,s=>a(s))}}const i=B$("auth");return i&&zJ(n,`http://${i}`),n}function Oee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MJ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Oee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});See("Browser");const Cee={apiKey:"AIzaSyATjhPDDzVhZfKOZcKTWYj7EiqQcfx5Wl0",authDomain:"boost-productivity-126b9.firebaseapp.com",projectId:"boost-productivity-126b9",storageBucket:"boost-productivity-126b9.firebasestorage.app",messagingSenderId:"527676361193",appId:"1:527676361193:web:5442c4919f0989b5102378",measurementId:"G-41Q1PB5MEH"},m1=Y$(Cee);JK(m1);const Vs=UQ(m1),ys=Iee(m1),IL=L.createContext();function Za(){return L.useContext(IL)}function kee({children:t}){const[e,n]=L.useState(null),[r,i]=L.useState(!0);L.useEffect(()=>mZ(ys,v=>{n(v),i(!1)}),[]);const g={currentUser:e,signup:async(y,v)=>{const w=await sZ(ys,y,v);return await OI(w.user),w},login:(y,v)=>uZ(ys,y,v),logout:()=>gZ(ys),updateEmail:y=>fZ(e,y),updatePassword:y=>dZ(e,y),resetPassword:y=>aZ(ys,y),signInWithGoogle:async()=>{const y=new di;return jZ(ys,y)},updateDisplayName:y=>cZ(e,{displayName:y}),deleteAccount:()=>yZ(e),sendEmailVerification:()=>OI(e)};return M.jsx(IL.Provider,{value:g,children:!r&&t})}var OL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VI=z.createContext&&z.createContext(OL),Nee=["attr","size","title"];function Ree(t,e){if(t==null)return{};var n=Mee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){$ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ee(t,e,n){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=jee(t,"string");return typeof e=="symbol"?e:e+""}function jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CL(t){return t&&t.map((e,n)=>z.createElement(e.tag,Rm({key:n},e.attr),CL(e.child)))}function g1(t){return e=>z.createElement(Lee,Nm({attr:Rm({},t.attr)},e),CL(t.child))}function Lee(t){var e=n=>{var{attr:r,size:i,title:o}=t,a=Ree(t,Nee),s=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),z.createElement("svg",Nm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Rm(Rm({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&z.createElement("title",null,o),t.children)};return VI!==void 0?z.createElement(VI.Consumer,null,n=>e(n)):e(OL)}function Vee(t){return g1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(t)}function kL(t){return g1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448zm-176.34-64c-41.49 0-81.5-12.28-118.92-36.5-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58 2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1 204.8 204.8 0 0 1-51.16 6.47zm235.18-145.4c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83 2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1 192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37 34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16 310.72 310.72 0 0 1-64.12 72.73 2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13 343.49 343.49 0 0 0 68.64-78.48 32.2 32.2 0 0 0-.1-34.78z"},child:[]},{tag:"path",attr:{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4 2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160zm-90.22 73.66a2 2 0 0 0-3.38 1 96 96 0 0 0 115 115 2 2 0 0 0 1-3.38z"},child:[]}]})(t)}function NL(t){return g1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(t)}const ft={SESSION:{START:"session_start",END:"session_end"},PAGE:{HOME:"home_page_view",ACCOUNT:"account_page_view"},MODAL:{LOGIN_VIEW:"login_modal_view",SIGNUP_VIEW:"signup_modal_view"},AUTH:{LOGIN_ATTEMPT:"login_attempt",LOGIN_SUCCESS:"login_success",SIGNUP_ATTEMPT:"signup_attempt",SIGNUP_SUCCESS:"signup_success"},NODE:{SUBMIT:"node_submitted",DELETE:"node_deleted",MOVE:"node_moved_from_to"},ACCOUNT:{EMAIL_UPDATE_CLICK:"update_email_clicked",EMAIL_UPDATE_SUCCESS:"update_email_success",PASSWORD_UPDATE_CLICK:"update_password_clicked",PASSWORD_UPDATE_SUCCESS:"update_password_success",NAME_UPDATE_CLICK:"update_display_name_clicked",NAME_UPDATE_SUCCESS:"update_display_name_success",RESET_EMAIL_CLICK:"send_password_reset_email_clicked",RESET_EMAIL_SUCCESS:"send_password_reset_email_success",DANGER_ZONE_VIEW:"danger_zone_view",LOGOUT_CLICK:"logout_clicked",LOGOUT_SUCCESS:"logout_success",DELETE_ACCOUNT_CLICK:"delete_account_clicked",DELETE_ACCOUNT_CONFIRM:"delete_account_confirm",DELETE_ACCOUNT_SUCCESS:"delete_account_success"}},dt=async(t,e="anonymous",n={})=>{try{await Mw(Mc(Vs,"events"),{type:t,userId:e,timestamp:new Date,sessionId:sessionStorage.getItem("sessionId")||"unknown",data:n})}catch(r){console.error("Error logging event:",r)}},Fee=(t="anonymous")=>{const e=crypto.randomUUID();sessionStorage.setItem("sessionId",e),dt(ft.SESSION.START,t,{sessionId:e})};function Bee(){const[t,e]=L.useState(""),[n,r]=L.useState(""),[i,o]=L.useState(""),[a,s]=L.useState(""),[u,l]=L.useState(""),[c,f]=L.useState(""),[d,p]=L.useState(!1),[m,g]=L.useState(""),{currentUser:y,updateEmail:v,updatePassword:w,resetPassword:_,updateDisplayName:S,deleteAccount:x,logout:A,sendEmailVerification:b}=Za(),T=fd(),P=async F=>{if(F.preventDefault(),dt(ft.ACCOUNT.EMAIL_UPDATE_CLICK,y==null?void 0:y.uid),t===(y==null?void 0:y.email)){f("New email must be different from current email");return}try{l(""),f(""),await v(t),dt(ft.ACCOUNT.EMAIL_UPDATE_SUCCESS,y==null?void 0:y.uid),l("Email updated successfully"),e("")}catch(D){V(D,"email update")}},O=async F=>{if(F.preventDefault(),dt(ft.ACCOUNT.PASSWORD_UPDATE_CLICK,y==null?void 0:y.uid),i.length<6){f("Password must be at least 6 characters long");return}try{l(""),f(""),await w(i),dt(ft.ACCOUNT.PASSWORD_UPDATE_SUCCESS,y==null?void 0:y.uid),l("Password updated successfully"),o("")}catch(D){V(D,"password update")}},k=async F=>{if(F.preventDefault(),dt(ft.ACCOUNT.NAME_UPDATE_CLICK,y==null?void 0:y.uid),!a.trim()){f("Display name cannot be empty");return}try{l(""),f(""),await S(a),dt(ft.ACCOUNT.NAME_UPDATE_SUCCESS,y==null?void 0:y.uid),l("Display name updated successfully"),s("")}catch(D){V(D,"display name update")}},N=async()=>{dt(ft.ACCOUNT.RESET_EMAIL_CLICK,y==null?void 0:y.uid);try{l(""),f(""),await _(y.email),dt(ft.ACCOUNT.RESET_EMAIL_SUCCESS,y==null?void 0:y.uid),l("Password reset email sent. Please check your inbox.")}catch(F){V(F,"password reset")}},C=async()=>{if(m!=="DELETE"){f("Please type DELETE to confirm account deletion");return}try{l(""),f(""),await x(),p(!1),T("/")}catch(F){V(F,"account deletion")}},R=async()=>{try{l(""),f(""),await b(),l("Verification email sent. Please check your inbox.")}catch(F){f("Failed to send verification email"),console.error("Verification error:",F)}},V=(F,D)=>{switch(F.code){case"auth/requires-recent-login":f(`Please log out and log back in to change your ${D}`);break;case"auth/invalid-email":f("Invalid email format");break;case"auth/email-already-in-use":f("This email is already registered to another account");break;case"auth/weak-password":f("Password is too weak. Please choose a stronger password");break;default:f(`Failed to update ${D}`),console.error(`${D} error:`,F)}},$=()=>M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:M.jsxs("div",{className:"bg-surface p-6 rounded-lg border border-border max-w-md w-full mx-4",children:[M.jsx("h3",{className:"text-xl font-semibold text-error mb-4",children:"Delete Account"}),M.jsx("p",{className:"text-text-primary mb-4",children:"This action cannot be undone. All your data will be permanently deleted."}),M.jsxs("p",{className:"text-text-secondary mb-6",children:["Please type ",M.jsx("span",{className:"font-mono text-error",children:"DELETE"})," to confirm."]}),M.jsx("input",{type:"text",value:m,onChange:F=>g(F.target.value),placeholder:"Type DELETE to confirm",className:"w-full p-2 bg-background border border-border rounded-md focus:border-error focus:outline-none mb-4"}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:()=>{p(!1),g(""),f("")},className:"flex-1 py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Cancel"}),M.jsx("button",{onClick:C,className:"flex-1 py-2 px-4 bg-error text-white rounded-md hover:opacity-90 transition-opacity",children:"Delete Account"})]})]})});return M.jsxs("div",{className:"min-h-screen bg-background text-text-primary p-8",children:[M.jsxs("div",{className:"max-w-2xl mx-auto",children:[M.jsxs(uA,{to:"/",className:"inline-flex items-center text-text-primary hover:text-text-secondary mb-6",children:[M.jsx(Vee,{className:"mr-2"}),"Back"]}),M.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Account Settings"}),M.jsxs("div",{className:"bg-surface rounded-lg border border-border p-6",children:[M.jsxs("div",{className:"p-4 bg-background rounded-lg border border-border mb-6",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-2",children:"Current Email"}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("p",{children:y==null?void 0:y.email}),y!=null&&y.emailVerified?M.jsx("span",{className:"text-sm text-success",children:"Verified"}):M.jsx("button",{onClick:R,className:"text-sm text-primary hover:text-primary/80 underline",children:"Verify Email"})]}),M.jsx("h3",{className:"text-text-secondary text-sm mb-2 mt-4",children:"Display Name"}),M.jsx("p",{children:(y==null?void 0:y.displayName)||"Not Set"})]}),u&&M.jsx("div",{className:"p-3 bg-success/10 border border-success rounded-md text-success text-center text-sm mb-4",children:u}),c&&M.jsx("div",{className:"p-3 bg-error/10 border border-error rounded-md text-error text-center text-sm mb-4",children:c}),!(y!=null&&y.emailVerified)&&M.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-md text-text-primary text-center text-sm mb-4",children:"Please verify your email address to ensure account security."}),M.jsxs("form",{onSubmit:P,className:"mb-6 space-y-4",children:[M.jsx("h3",{className:"text-text-secondary text-sm",children:"Update Email"}),M.jsx("input",{type:"email",placeholder:"New Email",value:t,onChange:F=>e(F.target.value),className:"w-full p-2 bg-background border border-border rounded-md focus:border-primary focus:outline-none"}),M.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Update Email"})]}),M.jsxs("form",{onSubmit:O,className:"mb-6 space-y-4",children:[M.jsx("h3",{className:"text-text-secondary text-sm",children:"Update Password"}),M.jsx("input",{type:"password",placeholder:"New Password",value:i,onChange:F=>o(F.target.value),className:"w-full p-2 bg-background border border-border rounded-md focus:border-primary focus:outline-none"}),M.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Update Password"})]}),M.jsxs("form",{onSubmit:k,className:"mb-6 space-y-4",children:[M.jsx("h3",{className:"text-text-secondary text-sm",children:"Update Display Name"}),M.jsx("input",{type:"text",placeholder:"New Display Name",value:a,onChange:F=>s(F.target.value),className:"w-full p-2 bg-background border border-border rounded-md focus:border-primary focus:outline-none"}),M.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Update Display Name"})]}),M.jsx("div",{className:"space-y-4",children:M.jsx("button",{onClick:N,className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Send Password Reset Email"})})]}),M.jsx("div",{className:"mt-12 text-center",children:M.jsx(uA,{to:"/settings/advanced",className:"text-xs text-text-secondary opacity-50 hover:opacity-100 transition-opacity",children:"Advanced Settings"})})]}),d&&M.jsx($,{})]})}const Uee=({data:t})=>{const[e,n]=L.useState(""),r=L.useRef(null),i=()=>{r.current&&r.current.focus()};L.useEffect(()=>{t.registerFocus&&t.registerFocus(i)},[t.registerFocus]),L.useEffect(()=>{n("")},[t.key]),L.useEffect(()=>{t.focusOnMount&&r.current&&setTimeout(()=>{r.current.focus()},0)},[t.focusOnMount]);const o=a=>{a.preventDefault(),e.trim()&&(console.log("FieldNode submitting with:",{goalText:e,nodeId:t.id,fullData:t}),t.onSubmit(e,t.id))};return M.jsxs("div",{className:"field-node relative bg-surface border border-border rounded-lg",children:[t.isSubmitted&&M.jsx("span",{onClick:()=>t.onDelete(t.id),className:"absolute top-3 left-4 text-text-secondary hover:text-error cursor-pointer opacity-60 hover:opacity-100",children:"×"}),M.jsxs("div",{className:"field-content",children:[M.jsx("div",{className:"field-name",children:t.name}),t.isSubmitted?M.jsx("div",{className:"text-center text-success animate-fade-in py-2",children:t.message}):M.jsxs("form",{onSubmit:o,className:"field-form",children:[M.jsx("input",{ref:r,type:"text",value:e,onChange:a=>n(a.target.value.slice(0,160)),maxLength:160,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary",placeholder:"Type your goal here..."}),M.jsx("button",{type:"submit",className:"mt-2 w-full bg-primary hover:bg-primary/90 text-white font-medium py-2 rounded-lg transition-colors",children:"Submit"})]})]})]})};function RL(){const{signInWithGoogle:t}=Za();return M.jsxs("button",{onClick:t,className:"w-full h-10 relative bg-white hover:shadow-md border border-[#747775] rounded-md px-3 transition-shadow duration-200 flex items-center justify-between group",children:[M.jsx("div",{className:"absolute inset-0 bg-[#303030] opacity-0 group-hover:opacity-[0.08] group-active:opacity-[0.12] transition-opacity duration-200 rounded-md"}),M.jsxs("div",{className:"flex items-center justify-center w-full gap-3",children:[M.jsx("div",{className:"w-5 h-5 flex-shrink-0",children:M.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",style:{display:"block",width:"100%",height:"100%"},children:[M.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),M.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),M.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),M.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),M.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),M.jsx("span",{className:"text-[#1f1f1f] text-sm font-['Roboto'] font-medium tracking-[0.25px]",children:"Continue with Google"})]})]})}function zee({onClose:t,onSwitchToSignup:e}){const[n,r]=L.useState(""),[i,o]=L.useState(""),[a,s]=L.useState(""),[u,l]=L.useState(!1),[c,f]=L.useState(!1),{login:d,resetPassword:p}=Za(),m=async g=>{g.preventDefault(),s("");try{f(!0),await d(n,i)}catch(y){switch(y.code){case"auth/invalid-email":s("Invalid email address format");break;case"auth/user-disabled":s("This account has been disabled");break;case"auth/user-not-found":s("No account found with this email");break;case"auth/wrong-password":s("Incorrect password");break;case"auth/too-many-requests":s("Too many failed attempts. Please try again later");break;default:s("Failed to log in. Please check your credentials"),console.error("Login error:",y)}}finally{f(!1)}};return M.jsxs("div",{className:"bg-surface p-8 rounded-lg border border-border w-[480px] max-w-[90vw]",children:[M.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Log In"}),a&&M.jsx("div",{className:"error mb-4",children:a}),M.jsxs("form",{onSubmit:m,className:"space-y-4",children:[M.jsx("div",{children:M.jsx("input",{type:"email",value:n,onChange:g=>r(g.target.value),placeholder:"Email",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"})}),M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:u?"text":"password",value:i,onChange:g=>o(g.target.value),placeholder:"Password",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"}),M.jsx("button",{type:"button",onClick:()=>l(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary hover:text-text-primary",children:u?M.jsx(kL,{size:20}):M.jsx(NL,{size:20})})]}),M.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary hover:bg-primary/90 text-white font-medium py-2.5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Log In"})]}),M.jsxs("div",{className:"flex items-center my-6",children:[M.jsx("div",{className:"flex-grow border-t border-border"}),M.jsx("span",{className:"flex-shrink-0 mx-4 text-sm text-text-secondary",children:"or"}),M.jsx("div",{className:"flex-grow border-t border-border"})]}),M.jsx(RL,{}),M.jsxs("div",{className:"mt-6 text-center text-sm text-text-secondary",children:["Don't have an account?"," ",M.jsx("button",{onClick:e,className:"text-primary hover:text-primary/80 font-medium underline",children:"Sign Up"})]})]})}function Wee({onSwitchToLogin:t}){const[e,n]=L.useState(""),[r,i]=L.useState(""),[o,a]=L.useState(""),[s,u]=L.useState(!1),[l,c]=L.useState(!1),{signup:f}=Za(),d=async m=>{if(m.preventDefault(),a(""),r.length<6){a("Password must be at least 6 characters long");return}try{c(!0),await f(e,r)}catch(g){switch(g.code){case"auth/email-already-in-use":a("An account with this email already exists");break;case"auth/invalid-email":a("Invalid email address format");break;case"auth/operation-not-allowed":a("Email/password accounts are not enabled. Please contact support");break;case"auth/weak-password":a("Password should be at least 6 characters");break;default:a("Failed to create account. Please try again"),console.error("Signup error:",g)}}finally{c(!1)}},p=m=>{a("Failed to sign up with Google. Please try again."),console.error("Google sign up error:",m)};return M.jsxs("div",{className:"bg-surface p-8 rounded-lg border border-border w-[480px] max-w-[90vw]",children:[M.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),o&&M.jsx("div",{className:"error mb-4",children:o}),M.jsxs("form",{onSubmit:d,className:"space-y-4",children:[M.jsx("div",{children:M.jsx("input",{type:"email",value:e,onChange:m=>n(m.target.value),placeholder:"Email",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"})}),M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:s?"text":"password",value:r,onChange:m=>i(m.target.value),placeholder:"Password",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"}),M.jsx("button",{type:"button",onClick:()=>u(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary hover:text-text-primary",children:s?M.jsx(kL,{size:20}):M.jsx(NL,{size:20})})]}),M.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary hover:bg-primary/90 text-white font-medium py-2.5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing up..."]}):"Sign Up"})]}),M.jsxs("div",{className:"flex items-center my-6",children:[M.jsx("div",{className:"flex-grow border-t border-border"}),M.jsx("span",{className:"flex-shrink-0 mx-4 text-sm text-text-secondary",children:"or"}),M.jsx("div",{className:"flex-grow border-t border-border"})]}),M.jsx("div",{onError:p,children:M.jsx(RL,{})}),M.jsxs("div",{className:"mt-6 text-center text-sm text-text-secondary",children:["Already have an account?"," ",M.jsx("button",{onClick:t,className:"text-primary hover:text-primary/80 font-medium underline",children:"Log In"})]})]})}const Hee={field:Uee};function qee(){const t=fd(),{currentUser:e}=Za(),[n,r]=L.useState(!1),[i,o]=L.useState(!1),[a,s]=L.useState(!1),u=L.useRef(null),[l,c]=L.useState([]),[f,d]=L.useState(0),p=L.useCallback(async C=>{if(dt(ft.NODE.DELETE,e==null?void 0:e.uid,{nodeId:C}),e)try{await oJ(Ij(Vs,`users/${e.uid}/goals`,C))}catch(R){console.error("Error deleting goal:",R)}else w(R=>{const V=R.find(F=>F.id===C);if(!V)return console.error("Node not found:",C),R;const $=V.position.y;return R.filter(F=>F.id!==C).map(F=>F.position.y>$?{...F,position:{x:F.position.x,y:F.position.y-(F.position.y===$+200?200:140)}}:F)})},[e]),m=100,g=200,y=140,[v,w]=L.useState([{id:"1",type:"field",position:{x:window.innerWidth/2-100,y:m},data:{id:"1",name:"Goal",message:"",onSubmit:A,onDelete:p}}]),[_,S]=L.useState([]),x=L.useRef(v);L.useEffect(()=>{x.current=v},[v]),L.useEffect(()=>{if(!e){w([{id:"1",type:"field",position:{x:window.innerWidth/2-100,y:m},data:{id:"1",name:"Goal",message:"",onSubmit:A,onDelete:p}}]);return}const C=Vj(Mc(Vs,`users/${e.uid}/goals`),Fj("createdAt","desc")),R=Wj(C,V=>{let $=m;const F={id:"empty",type:"field",position:{x:window.innerWidth/2-100,y:$},data:{id:"empty",name:"Goal",message:"",onSubmit:A,onDelete:p,key:Date.now(),registerFocus:B=>{u.current=B}}};$+=g;const D=V.docs.map(B=>{const U={...B.data(),id:B.id,type:"field",position:{x:window.innerWidth/2-100,y:$},data:{id:B.id,name:"Goal",message:B.data().data.message,isSubmitted:!0,onSubmit:A,onDelete:p}};return $+=y,U});w([F,...D])});return()=>R()},[e]);async function A(C,R){dt(ft.NODE.SUBMIT,(e==null?void 0:e.uid)||"anonymous",{nodeId:R,textLength:C.length,goalText:C,isAnonymous:!e});const V=crypto.randomUUID(),$=x.current.find(D=>D.id===R),F={id:V,type:"field",position:{x:$.position.x,y:100},data:{id:V,name:"Goal",message:"",onSubmit:A,onDelete:p,key:Date.now(),focusOnMount:!0}};if(w(D=>{const B=D.map(U=>({...U,position:{x:U.position.x,y:U.position.y+(U.position.y===100?g:y)},data:U.id===R?{...U.data,id:U.id,message:C,isSubmitted:!0}:U.data}));return[F,...B]}),!e)c(D=>[...D,{message:C}]),s(!0),setTimeout(()=>s(!1),2e3);else try{const D=Mc(Vs,`users/${e.uid}/goals`);await Mw(D,{type:"field",data:{message:C,name:"Goal",isSubmitted:!0},createdAt:new Date})}catch(D){console.error("Error saving goal:",D)}setTimeout(()=>{u.current&&u.current()},0)}L.useEffect(()=>{(async()=>{if(e&&l.length>0){const R=Mc(Vs,`users/${e.uid}/goals`);for(const V of l)try{await Mw(R,{type:"field",data:{message:V.message,name:"Goal",isSubmitted:!0},createdAt:new Date})}catch($){console.error("Error saving goal:",$)}c([])}})()},[e,l]);const b=L.useCallback(C=>{C.forEach(R=>{R.type==="position"&&R.dragging===!1&&dt(ft.NODE.MOVE,e==null?void 0:e.uid,{nodeId:R.id,from:R.position,to:R.position})}),w(R=>u$(C,R))},[e]),T=L.useCallback(C=>S(R=>l$(C,R)),[]);L.useEffect(()=>{e&&(r(!1),o(!1))},[e]),L.useEffect(()=>(Fee(e==null?void 0:e.uid),dt(ft.PAGE.HOME,e==null?void 0:e.uid),()=>{dt(ft.SESSION.END,e==null?void 0:e.uid)}),[e]);const P=()=>{dt(ft.MODAL.LOGIN_VIEW,e==null?void 0:e.uid),r(!0)},O=()=>{dt(ft.MODAL.SIGNUP_VIEW,e==null?void 0:e.uid),o(!0)},k=()=>{t("/account")},N=C=>{C.target===C.currentTarget&&(r(!1),o(!1))};return M.jsxs("div",{className:"min-h-screen bg-background text-text-primary",children:[M.jsx("div",{className:"w-full h-screen",children:M.jsxs(C7,{nodes:v,edges:_,onNodesChange:b,onEdgesChange:T,nodeTypes:Hee,fitView:!0,minZoom:.5,maxZoom:1.5,fitViewOptions:{padding:.5},className:"bg-background",children:[M.jsx($7,{className:"bg-background"}),M.jsx(U7,{className:"bg-surface border border-border rounded-lg"}),M.jsx(_u,{position:"top-left",className:"p-4",children:M.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"boost."})}),M.jsx(_u,{position:"top-right",className:"p-4",children:e?M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:k,className:"nav-link px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Account"}),e.email==="jacob.beauchamp75@gmail.com"&&M.jsx("button",{onClick:()=>t("/admin"),className:"nav-link px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Admin"})]}):M.jsxs("div",{className:"relative",children:[M.jsxs("div",{className:`flex gap-2 ${a?"animate-pulse":""}`,children:[M.jsx("button",{onClick:P,className:"px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Log In"}),M.jsx("button",{onClick:O,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:"Sign Up"})]}),a&&M.jsx("div",{className:"absolute top-full right-0 mt-2 bg-surface-secondary text-text-primary px-4 py-2 rounded-md shadow-lg whitespace-nowrap border border-border",children:"Log in to save your goals"})]})})]})}),n&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:N,children:M.jsx(zee,{onClose:()=>r(!1),onSwitchToSignup:()=>{r(!1),o(!0)}})}),i&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:N,children:M.jsx(Wee,{onClose:()=>o(!1),onSwitchToLogin:()=>{o(!1),r(!0)}})})]})}function Gee(){const t=fd(),{deleteAccount:e,logout:n,currentUser:r}=Za(),[i,o]=L.useState(""),[a,s]=L.useState(""),[u,l]=L.useState(!1);L.useEffect(()=>{dt(ft.ACCOUNT.DANGER_ZONE_VIEW,r==null?void 0:r.uid)},[r]);const c=async()=>{dt(ft.ACCOUNT.LOGOUT_CLICK,r==null?void 0:r.uid);try{await n(),dt(ft.ACCOUNT.LOGOUT_SUCCESS,r==null?void 0:r.uid),t("/")}catch(p){console.error("Logout error:",p)}},f=async()=>{dt(ft.ACCOUNT.DELETE_ACCOUNT_CONFIRM,r==null?void 0:r.uid);try{const p=Ja.credential(r.email,i);await oZ(r,p),await e(),dt(ft.ACCOUNT.DELETE_ACCOUNT_SUCCESS,r==null?void 0:r.uid),t("/")}catch(p){s("Invalid password. Please try again."),console.error("Reauthentication error:",p)}},d=async()=>{dt(ft.ACCOUNT.DELETE_ACCOUNT_CLICK,r==null?void 0:r.uid),window.confirm("This action cannot be undone. Are you absolutely sure?")&&l(!0)};return M.jsx("div",{className:"min-h-screen bg-background p-8",children:M.jsxs("div",{className:"max-w-md mx-auto",children:[M.jsx("h2",{className:"text-xl text-text-secondary mb-8",children:"Advanced Settings"}),M.jsx("div",{className:"space-y-8",children:M.jsxs("div",{className:"border border-error/10 rounded-lg p-6 bg-error/5",children:[M.jsx("h3",{className:"text-error mb-4",children:"Danger Zone"}),M.jsx("p",{className:"text-sm text-text-secondary mb-6",children:"These actions are irreversible and can result in permanent data loss."}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("button",{onClick:c,className:"w-full py-2 px-4 bg-error/10 text-error hover:bg-error/20 rounded-md transition-colors",children:"Log Out"}),M.jsx("button",{onClick:d,className:"w-full py-2 px-4 bg-error/10 text-error hover:bg-error/20 rounded-md transition-colors",children:"Delete Account"})]})]})}),u&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:M.jsxs("div",{className:"bg-surface p-6 rounded-lg border border-border max-w-md w-full mx-4",children:[M.jsx("h3",{className:"text-xl font-semibold text-error mb-4",children:"Confirm Account Deletion"}),M.jsx("p",{className:"text-text-primary mb-4",children:"Please enter your password to confirm account deletion."}),a&&M.jsx("p",{className:"text-error text-sm mb-4",children:a}),M.jsx("input",{type:"password",value:i,onChange:p=>o(p.target.value),placeholder:"Enter your password",className:"w-full p-2 bg-background border border-border rounded-md focus:border-error focus:outline-none mb-4"}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:()=>{l(!1),o(""),s("")},className:"flex-1 py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Cancel"}),M.jsx("button",{onClick:f,className:"flex-1 py-2 px-4 bg-error text-white rounded-md hover:opacity-90 transition-opacity",children:"Confirm Delete"})]})]})}),M.jsx("button",{onClick:()=>t("/account"),className:"mt-8 text-sm text-text-secondary hover:text-text-primary transition-colors",children:"← Back to Account"})]})})}function ML(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ML(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function De(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ML(t))&&(r&&(r+=" "),r+=e);return r}var Kee=Array.isArray,An=Kee,Xee=typeof gh=="object"&&gh&&gh.Object===Object&&gh,$L=Xee,Yee=$L,Qee=typeof self=="object"&&self&&self.Object===Object&&self,Jee=Yee||Qee||Function("return this")(),ii=Jee,Zee=ii,ete=Zee.Symbol,Id=ete,BI=Id,DL=Object.prototype,tte=DL.hasOwnProperty,nte=DL.toString,Kl=BI?BI.toStringTag:void 0;function rte(t){var e=tte.call(t,Kl),n=t[Kl];try{t[Kl]=void 0;var r=!0}catch{}var i=nte.call(t);return r&&(e?t[Kl]=n:delete t[Kl]),i}var ite=rte,ote=Object.prototype,ate=ote.toString;function ste(t){return ate.call(t)}var ute=ste,UI=Id,lte=ite,cte=ute,fte="[object Null]",dte="[object Undefined]",zI=UI?UI.toStringTag:void 0;function hte(t){return t==null?t===void 0?dte:fte:zI&&zI in Object(t)?lte(t):cte(t)}var Hi=hte;function pte(t){return t!=null&&typeof t=="object"}var qi=pte,mte=Hi,gte=qi,yte="[object Symbol]";function vte(t){return typeof t=="symbol"||gte(t)&&mte(t)==yte}var al=vte,_te=An,wte=al,bte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ete=/^\w*$/;function xte(t,e){if(_te(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wte(t)?!0:Ete.test(t)||!bte.test(t)||e!=null&&t in Object(e)}var y1=xte;function Ste(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Fo=Ste;const sl=ze(Fo);var Tte=Hi,Ate=Fo,Pte="[object AsyncFunction]",Ite="[object Function]",Ote="[object GeneratorFunction]",Cte="[object Proxy]";function kte(t){if(!Ate(t))return!1;var e=Tte(t);return e==Ite||e==Ote||e==Pte||e==Cte}var v1=kte;const Se=ze(v1);var Nte=ii,Rte=Nte["__core-js_shared__"],Mte=Rte,O0=Mte,WI=function(){var t=/[^.]+$/.exec(O0&&O0.keys&&O0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $te(t){return!!WI&&WI in t}var Dte=$te,jte=Function.prototype,Lte=jte.toString;function Vte(t){if(t!=null){try{return Lte.call(t)}catch{}try{return t+""}catch{}}return""}var jL=Vte,Fte=v1,Bte=Dte,Ute=Fo,zte=jL,Wte=/[\\^$.*+?()[\]{}|]/g,Hte=/^\[object .+?Constructor\]$/,qte=Function.prototype,Gte=Object.prototype,Kte=qte.toString,Xte=Gte.hasOwnProperty,Yte=RegExp("^"+Kte.call(Xte).replace(Wte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qte(t){if(!Ute(t)||Bte(t))return!1;var e=Fte(t)?Yte:Hte;return e.test(zte(t))}var Jte=Qte;function Zte(t,e){return t==null?void 0:t[e]}var ene=Zte,tne=Jte,nne=ene;function rne(t,e){var n=nne(t,e);return tne(n)?n:void 0}var es=rne,ine=es,one=ine(Object,"create"),Iy=one,HI=Iy;function ane(){this.__data__=HI?HI(null):{},this.size=0}var sne=ane;function une(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lne=une,cne=Iy,fne="__lodash_hash_undefined__",dne=Object.prototype,hne=dne.hasOwnProperty;function pne(t){var e=this.__data__;if(cne){var n=e[t];return n===fne?void 0:n}return hne.call(e,t)?e[t]:void 0}var mne=pne,gne=Iy,yne=Object.prototype,vne=yne.hasOwnProperty;function _ne(t){var e=this.__data__;return gne?e[t]!==void 0:vne.call(e,t)}var wne=_ne,bne=Iy,Ene="__lodash_hash_undefined__";function xne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bne&&e===void 0?Ene:e,this}var Sne=xne,Tne=sne,Ane=lne,Pne=mne,Ine=wne,One=Sne;function ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ul.prototype.clear=Tne;ul.prototype.delete=Ane;ul.prototype.get=Pne;ul.prototype.has=Ine;ul.prototype.set=One;var Cne=ul;function kne(){this.__data__=[],this.size=0}var Nne=kne;function Rne(t,e){return t===e||t!==t&&e!==e}var _1=Rne,Mne=_1;function $ne(t,e){for(var n=t.length;n--;)if(Mne(t[n][0],e))return n;return-1}var Oy=$ne,Dne=Oy,jne=Array.prototype,Lne=jne.splice;function Vne(t){var e=this.__data__,n=Dne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Lne.call(e,n,1),--this.size,!0}var Fne=Vne,Bne=Oy;function Une(t){var e=this.__data__,n=Bne(e,t);return n<0?void 0:e[n][1]}var zne=Une,Wne=Oy;function Hne(t){return Wne(this.__data__,t)>-1}var qne=Hne,Gne=Oy;function Kne(t,e){var n=this.__data__,r=Gne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Xne=Kne,Yne=Nne,Qne=Fne,Jne=zne,Zne=qne,ere=Xne;function ll(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ll.prototype.clear=Yne;ll.prototype.delete=Qne;ll.prototype.get=Jne;ll.prototype.has=Zne;ll.prototype.set=ere;var Cy=ll,tre=es,nre=ii,rre=tre(nre,"Map"),w1=rre,qI=Cne,ire=Cy,ore=w1;function are(){this.size=0,this.__data__={hash:new qI,map:new(ore||ire),string:new qI}}var sre=are;function ure(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var lre=ure,cre=lre;function fre(t,e){var n=t.__data__;return cre(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ky=fre,dre=ky;function hre(t){var e=dre(this,t).delete(t);return this.size-=e?1:0,e}var pre=hre,mre=ky;function gre(t){return mre(this,t).get(t)}var yre=gre,vre=ky;function _re(t){return vre(this,t).has(t)}var wre=_re,bre=ky;function Ere(t,e){var n=bre(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var xre=Ere,Sre=sre,Tre=pre,Are=yre,Pre=wre,Ire=xre;function cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cl.prototype.clear=Sre;cl.prototype.delete=Tre;cl.prototype.get=Are;cl.prototype.has=Pre;cl.prototype.set=Ire;var b1=cl,LL=b1,Ore="Expected a function";function E1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ore);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(E1.Cache||LL),n}E1.Cache=LL;var VL=E1;const Cre=ze(VL);var kre=VL,Nre=500;function Rre(t){var e=kre(t,function(r){return n.size===Nre&&n.clear(),r}),n=e.cache;return e}var Mre=Rre,$re=Mre,Dre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jre=/\\(\\)?/g,Lre=$re(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dre,function(n,r,i,o){e.push(i?o.replace(jre,"$1"):r||n)}),e}),Vre=Lre;function Fre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var x1=Fre,GI=Id,Bre=x1,Ure=An,zre=al,KI=GI?GI.prototype:void 0,XI=KI?KI.toString:void 0;function FL(t){if(typeof t=="string")return t;if(Ure(t))return Bre(t,FL)+"";if(zre(t))return XI?XI.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Wre=FL,Hre=Wre;function qre(t){return t==null?"":Hre(t)}var BL=qre,Gre=An,Kre=y1,Xre=Vre,Yre=BL;function Qre(t,e){return Gre(t)?t:Kre(t,e)?[t]:Xre(Yre(t))}var UL=Qre,Jre=al;function Zre(t){if(typeof t=="string"||Jre(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ny=Zre,eie=UL,tie=Ny;function nie(t,e){e=eie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tie(e[n++])];return n&&n==r?t:void 0}var S1=nie,rie=S1;function iie(t,e,n){var r=t==null?void 0:rie(t,e);return r===void 0?n:r}var zL=iie;const nr=ze(zL);function oie(t){return t==null}var aie=oie;const Pe=ze(aie);var sie=Hi,uie=An,lie=qi,cie="[object String]";function fie(t){return typeof t=="string"||!uie(t)&&lie(t)&&sie(t)==cie}var die=fie;const Od=ze(die);var WL={exports:{}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=Symbol.for("react.element"),A1=Symbol.for("react.portal"),Ry=Symbol.for("react.fragment"),My=Symbol.for("react.strict_mode"),$y=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),jy=Symbol.for("react.context"),hie=Symbol.for("react.server_context"),Ly=Symbol.for("react.forward_ref"),Vy=Symbol.for("react.suspense"),Fy=Symbol.for("react.suspense_list"),By=Symbol.for("react.memo"),Uy=Symbol.for("react.lazy"),pie=Symbol.for("react.offscreen"),HL;HL=Symbol.for("react.module.reference");function ur(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case T1:switch(t=t.type,t){case Ry:case $y:case My:case Vy:case Fy:return t;default:switch(t=t&&t.$$typeof,t){case hie:case jy:case Ly:case Uy:case By:case Dy:return t;default:return e}}case A1:return e}}}Be.ContextConsumer=jy;Be.ContextProvider=Dy;Be.Element=T1;Be.ForwardRef=Ly;Be.Fragment=Ry;Be.Lazy=Uy;Be.Memo=By;Be.Portal=A1;Be.Profiler=$y;Be.StrictMode=My;Be.Suspense=Vy;Be.SuspenseList=Fy;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(t){return ur(t)===jy};Be.isContextProvider=function(t){return ur(t)===Dy};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===T1};Be.isForwardRef=function(t){return ur(t)===Ly};Be.isFragment=function(t){return ur(t)===Ry};Be.isLazy=function(t){return ur(t)===Uy};Be.isMemo=function(t){return ur(t)===By};Be.isPortal=function(t){return ur(t)===A1};Be.isProfiler=function(t){return ur(t)===$y};Be.isStrictMode=function(t){return ur(t)===My};Be.isSuspense=function(t){return ur(t)===Vy};Be.isSuspenseList=function(t){return ur(t)===Fy};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ry||t===$y||t===My||t===Vy||t===Fy||t===pie||typeof t=="object"&&t!==null&&(t.$$typeof===Uy||t.$$typeof===By||t.$$typeof===Dy||t.$$typeof===jy||t.$$typeof===Ly||t.$$typeof===HL||t.getModuleId!==void 0)};Be.typeOf=ur;WL.exports=Be;var mie=WL.exports,gie=Hi,yie=qi,vie="[object Number]";function _ie(t){return typeof t=="number"||yie(t)&&gie(t)==vie}var qL=_ie;const wie=ze(qL);var bie=qL;function Eie(t){return bie(t)&&t!=+t}var xie=Eie;const Cd=ze(xie);var Ar=function(e){return e===0?0:e>0?1:-1},ha=function(e){return Od(e)&&e.indexOf("%")===e.length-1},ae=function(e){return wie(e)&&!Cd(e)},kt=function(e){return ae(e)||Od(e)},Sie=0,kd=function(e){var n=++Sie;return"".concat(e||"").concat(n)},Va=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!Od(e))return r;var o;if(ha(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Cd(o)&&(o=r),i&&o>n&&(o=n),o},co=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Tie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Er=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function Mm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):nr(r,e))===n})}function nu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Lw(t){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(t)}var Aie=["viewBox","children"],Pie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YI=["points","pathLength"],C0={svg:Aie,polygon:YI,polyline:YI},P1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$m=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),!sl(r))return null;var i={};return Object.keys(r).forEach(function(o){P1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Iie=function(e,n,r){return function(i){return e(n,r,i),null}},Dm=function(e,n,r){if(!sl(e)||Lw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];P1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Iie(a,n,r))}),i},Oie=["children"],Cie=["children"];function QI(t,e){if(t==null)return{};var n=kie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vw(t){"@babel/helpers - typeof";return Vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vw(t)}var JI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Si=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ZI=null,k0=null,I1=function t(e){if(e===ZI&&Array.isArray(k0))return k0;var n=[];return L.Children.forEach(e,function(r){Pe(r)||(mie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),k0=n,ZI=e,n};function rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Si(i)}):r=[Si(e)],I1(t).forEach(function(i){var o=nr(i,"type.displayName")||nr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Rn(t,e){var n=rr(t,e);return n&&n[0]}var eO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},Nie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Rie=function(e){return e&&e.type&&Od(e.type)&&Nie.indexOf(e.type)>=0},Mie=function(e){return e&&Vw(e)==="object"&&"clipDot"in e},$ie=function(e,n,r,i){var o,a=(o=C0==null?void 0:C0[i])!==null&&o!==void 0?o:[];return!Se(e)&&(i&&a.includes(n)||Pie.includes(n))||r&&P1.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(L.isValidElement(e)&&(i=e.props),!sl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;$ie((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Fw=function t(e,n){if(e===n)return!0;var r=L.Children.count(e);if(r!==L.Children.count(n))return!1;if(r===0)return!0;if(r===1)return tO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!tO(o,a))return!1}return!0},tO=function(e,n){if(Pe(e)&&Pe(n))return!0;if(!Pe(e)&&!Pe(n)){var r=e.props||{},i=r.children,o=QI(r,Oie),a=n.props||{},s=a.children,u=QI(a,Cie);return i&&s?nu(o,u)&&Fw(i,s):!i&&!s?nu(o,u):!1}return!1},nO=function(e,n){var r=[],i={};return I1(e).forEach(function(o,a){if(Rie(o))r.push(o);else if(o){var s=Si(o.type),u=n[s]||{},l=u.handler,c=u.once;if(l&&(!c||!i[s])){var f=l(o,s,a);r.push(f),i[s]=!0}}}),r},Die=function(e){var n=e&&e.type;return n&&JI[n]?JI[n]:null},jie=function(e,n){return I1(n).indexOf(e)},Lie=["children","width","height","viewBox","className","style","title","desc"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function Vie(t,e){if(t==null)return{};var n=Fie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,u=t.desc,l=Vie(t,Lie),c=i||{width:n,height:r,x:0,y:0},f=De("recharts-surface",o);return z.createElement("svg",Bw({},Oe(l,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),z.createElement("title",null,s),z.createElement("desc",null,u),e)}var Bie=["children","className"];function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}function Uie(t,e){if(t==null)return{};var n=zie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Uie(t,Bie),o=De("recharts-layer",r);return z.createElement("g",zw({className:o},Oe(i,!0),{ref:e}),n)}),Ti=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Wie(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Hie=Wie,qie=Hie;function Gie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:qie(t,e,n)}var Kie=Gie,Xie="\\ud800-\\udfff",Yie="\\u0300-\\u036f",Qie="\\ufe20-\\ufe2f",Jie="\\u20d0-\\u20ff",Zie=Yie+Qie+Jie,eoe="\\ufe0e\\ufe0f",toe="\\u200d",noe=RegExp("["+toe+Xie+Zie+eoe+"]");function roe(t){return noe.test(t)}var GL=roe;function ioe(t){return t.split("")}var ooe=ioe,KL="\\ud800-\\udfff",aoe="\\u0300-\\u036f",soe="\\ufe20-\\ufe2f",uoe="\\u20d0-\\u20ff",loe=aoe+soe+uoe,coe="\\ufe0e\\ufe0f",foe="["+KL+"]",Ww="["+loe+"]",Hw="\\ud83c[\\udffb-\\udfff]",doe="(?:"+Ww+"|"+Hw+")",XL="[^"+KL+"]",YL="(?:\\ud83c[\\udde6-\\uddff]){2}",QL="[\\ud800-\\udbff][\\udc00-\\udfff]",hoe="\\u200d",JL=doe+"?",ZL="["+coe+"]?",poe="(?:"+hoe+"(?:"+[XL,YL,QL].join("|")+")"+ZL+JL+")*",moe=ZL+JL+poe,goe="(?:"+[XL+Ww+"?",Ww,YL,QL,foe].join("|")+")",yoe=RegExp(Hw+"(?="+Hw+")|"+goe+moe,"g");function voe(t){return t.match(yoe)||[]}var _oe=voe,woe=ooe,boe=GL,Eoe=_oe;function xoe(t){return boe(t)?Eoe(t):woe(t)}var Soe=xoe,Toe=Kie,Aoe=GL,Poe=Soe,Ioe=BL;function Ooe(t){return function(e){e=Ioe(e);var n=Aoe(e)?Poe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Toe(n,1).join(""):e.slice(1);return r[t]()+i}}var Coe=Ooe,koe=Coe,Noe=koe("toUpperCase"),Roe=Noe;const zy=ze(Roe);function qe(t){return function(){return t}}const eV=Math.cos,jm=Math.sin,Dr=Math.sqrt,Lm=Math.PI,Wy=2*Lm,qw=Math.PI,Gw=2*qw,ra=1e-6,Moe=Gw-ra;function tV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $oe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Doe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tV:$oe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=r-e,l=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ra)if(!(Math.abs(f*u-l*c)>ra)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=u*u+l*l,y=p*p+m*m,v=Math.sqrt(g),w=Math.sqrt(d),_=o*Math.tan((qw-Math.acos((g+d-y)/(2*v*w)))/2),S=_/w,x=_/v;Math.abs(S-1)>ra&&this._append`L${e+S*c},${n+S*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+x*u},${this._y1=n+x*l}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=e+s,c=n+u,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ra||Math.abs(this._y1-c)>ra)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%Gw+Gw),d>Moe?this._append`A${r},${r},0,1,${f},${e-s},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>ra&&this._append`A${r},${r},0,${+(d>=qw)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function O1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Doe(e)}function C1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nV(t){this._context=t}nV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hy(t){return new nV(t)}function rV(t){return t[0]}function iV(t){return t[1]}function oV(t,e){var n=qe(!0),r=null,i=Hy,o=null,a=O1(s);t=typeof t=="function"?t:t===void 0?rV:qe(t),e=typeof e=="function"?e:e===void 0?iV:qe(e);function s(u){var l,c=(u=C1(u)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,l,u),+e(f,l,u));if(p)return o=null,p+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:qe(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:qe(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:qe(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}function Kh(t,e,n){var r=null,i=qe(!0),o=null,a=Hy,s=null,u=O1(l);t=typeof t=="function"?t:t===void 0?rV:qe(+t),e=typeof e=="function"?e:qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?iV:qe(+n);function l(f){var d,p,m,g=(f=C1(f)).length,y,v=!1,w,_=new Array(g),S=new Array(g);for(o==null&&(s=a(w=u())),d=0;d<=g;++d){if(!(d<g&&i(y=f[d],d,f))===v)if(v=!v)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(_[m],S[m]);s.lineEnd(),s.areaEnd()}v&&(_[d]=+t(y,d,f),S[d]=+e(y,d,f),s.point(r?+r(y,d,f):_[d],n?+n(y,d,f):S[d]))}if(w)return s=null,w+""||null}function c(){return oV().defined(i).curve(a).context(o)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),r=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),l):t},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),l):r},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),n=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),l):e},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qe(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qe(!!f),l):i},l.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),l):a},l.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),l):o},l}class aV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function joe(t){return new aV(t,!0)}function Loe(t){return new aV(t,!1)}const k1={draw(t,e){const n=Dr(e/Lm);t.moveTo(n,0),t.arc(0,0,n,0,Wy)}},Voe={draw(t,e){const n=Dr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},sV=Dr(1/3),Foe=sV*2,Boe={draw(t,e){const n=Dr(e/Foe),r=n*sV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Uoe={draw(t,e){const n=Dr(e),r=-n/2;t.rect(r,r,n,n)}},zoe=.8908130915292852,uV=jm(Lm/10)/jm(7*Lm/10),Woe=jm(Wy/10)*uV,Hoe=-eV(Wy/10)*uV,qoe={draw(t,e){const n=Dr(e*zoe),r=Woe*n,i=Hoe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Wy*o/5,s=eV(a),u=jm(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},N0=Dr(3),Goe={draw(t,e){const n=-Dr(e/(N0*3));t.moveTo(0,n*2),t.lineTo(-N0*n,-n),t.lineTo(N0*n,-n),t.closePath()}},qn=-.5,Gn=Dr(3)/2,Kw=1/Dr(12),Koe=(Kw/2+1)*3,Xoe={draw(t,e){const n=Dr(e/Koe),r=n/2,i=n*Kw,o=r,a=n*Kw+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(qn*r-Gn*i,Gn*r+qn*i),t.lineTo(qn*o-Gn*a,Gn*o+qn*a),t.lineTo(qn*s-Gn*u,Gn*s+qn*u),t.lineTo(qn*r+Gn*i,qn*i-Gn*r),t.lineTo(qn*o+Gn*a,qn*a-Gn*o),t.lineTo(qn*s+Gn*u,qn*u-Gn*s),t.closePath()}};function Yoe(t,e){let n=null,r=O1(i);t=typeof t=="function"?t:qe(t||k1),e=typeof e=="function"?e:qe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:qe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:qe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Vm(){}function Fm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function lV(t){this._context=t}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qoe(t){return new lV(t)}function cV(t){this._context=t}cV.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Joe(t){return new cV(t)}function fV(t){this._context=t}fV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zoe(t){return new fV(t)}function dV(t){this._context=t}dV.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eae(t){return new dV(t)}function rO(t){return t<0?-1:1}function iO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(rO(o)+rO(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function oO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function R0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Bm(t){this._context=t}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R0(this,this._t0,oO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,R0(this,oO(this,n=iO(this,t,e)),n);break;default:R0(this,this._t0,n=iO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function hV(t){this._context=new pV(t)}(hV.prototype=Object.create(Bm.prototype)).point=function(t,e){Bm.prototype.point.call(this,e,t)};function pV(t){this._context=t}pV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function tae(t){return new Bm(t)}function nae(t){return new hV(t)}function mV(t){this._context=t}mV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aO(t),i=aO(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function rae(t){return new mV(t)}function qy(t,e){this._context=t,this._t=e}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function iae(t){return new qy(t,.5)}function oae(t){return new qy(t,0)}function aae(t){return new qy(t,1)}function Pu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function sae(t,e){return t[e]}function uae(t){const e=[];return e.key=t,e}function lae(){var t=qe([]),e=Xw,n=Pu,r=sae;function i(o){var a=Array.from(t.apply(this,arguments),uae),s,u=a.length,l=-1,c;for(const f of o)for(s=0,++l;s<u;++s)(a[s][l]=[0,+r(f,a[s].key,l,o)]).data=f;for(s=0,c=C1(e(a));s<u;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:qe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:qe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Xw:typeof o=="function"?o:qe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Pu,i):n},i}function cae(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Pu(t,e)}}function fae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Pu(t,e)}}function dae(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,u=0,l=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=t[e[m]],y=g[r][1]||0,v=g[r-1][1]||0;p+=y-v}u+=f,l+=p*f}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,Pu(t,e)}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var hae=["type","size","sizeType"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pae(t,e,n){return e=mae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=gae(t,"string");return Pf(e)=="symbol"?e:e+""}function gae(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yae(t,e){if(t==null)return{};var n=vae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gV={symbolCircle:k1,symbolCross:Voe,symbolDiamond:Boe,symbolSquare:Uoe,symbolStar:qoe,symbolTriangle:Goe,symbolWye:Xoe},_ae=Math.PI/180,wae=function(e){var n="symbol".concat(zy(e));return gV[n]||k1},bae=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_ae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Eae=function(e,n){gV["symbol".concat(zy(e))]=n},N1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,u=yae(e,hae),l=uO(uO({},u),{},{type:r,size:o,sizeType:s}),c=function(){var y=wae(r),v=Yoe().type(y).size(bae(o,s,r));return v()},f=l.className,d=l.cx,p=l.cy,m=Oe(l,!0);return d===+d&&p===+p&&o===+o?z.createElement("path",Yw({},m,{className:De("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};N1.registerSymbol=Eae;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){If(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vV(r.key),r)}}function Aae(t,e,n){return e&&Tae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pae(t,e,n){return e=Um(e),Iae(t,yV()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Iae(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oae(t)}function Oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Cae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function If(t,e,n){return e=vV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vV(t){var e=kae(t,"string");return Iu(e)=="symbol"?e:e+""}function kae(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hr=32,R1=function(t){function e(){return Sae(this,e),Pae(this,e,arguments)}return Cae(e,t),Aae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=hr/2,a=hr/6,s=hr/3,u=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:hr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(hr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var l=xae({},r);return delete l.legendIcon,z.cloneElement(r.legendIcon,l)}return z.createElement(N1,{fill:u,cx:o,cy:o,size:hr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,u=i.formatter,l=i.inactiveColor,c={x:0,y:0,width:hr,height:hr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||u,y=De(If(If({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Se(p.value)?null:p.value;Ti(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?l:p.color;return z.createElement("li",Qw({className:y,style:f,key:"legend-item-".concat(m)},Dm(r.props,p,m)),z.createElement(Uw,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(L.PureComponent);If(R1,"displayName","Legend");If(R1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Nae=Cy;function Rae(){this.__data__=new Nae,this.size=0}var Mae=Rae;function $ae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Dae=$ae;function jae(t){return this.__data__.get(t)}var Lae=jae;function Vae(t){return this.__data__.has(t)}var Fae=Vae,Bae=Cy,Uae=w1,zae=b1,Wae=200;function Hae(t,e){var n=this.__data__;if(n instanceof Bae){var r=n.__data__;if(!Uae||r.length<Wae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zae(r)}return n.set(t,e),this.size=n.size,this}var qae=Hae,Gae=Cy,Kae=Mae,Xae=Dae,Yae=Lae,Qae=Fae,Jae=qae;function fl(t){var e=this.__data__=new Gae(t);this.size=e.size}fl.prototype.clear=Kae;fl.prototype.delete=Xae;fl.prototype.get=Yae;fl.prototype.has=Qae;fl.prototype.set=Jae;var _V=fl,Zae="__lodash_hash_undefined__";function ese(t){return this.__data__.set(t,Zae),this}var tse=ese;function nse(t){return this.__data__.has(t)}var rse=nse,ise=b1,ose=tse,ase=rse;function zm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ise;++e<n;)this.add(t[e])}zm.prototype.add=zm.prototype.push=ose;zm.prototype.has=ase;var wV=zm;function sse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var bV=sse;function use(t,e){return t.has(e)}var EV=use,lse=wV,cse=bV,fse=EV,dse=1,hse=2;function pse(t,e,n,r,i,o){var a=n&dse,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var f=-1,d=!0,p=n&hse?new lse:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var y=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!cse(e,function(v,w){if(!fse(p,w)&&(m===v||i(m,v,n,r,o)))return p.push(w)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var xV=pse,mse=ii,gse=mse.Uint8Array,yse=gse;function vse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _se=vse;function wse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var M1=wse,cO=Id,fO=yse,bse=_1,Ese=xV,xse=_se,Sse=M1,Tse=1,Ase=2,Pse="[object Boolean]",Ise="[object Date]",Ose="[object Error]",Cse="[object Map]",kse="[object Number]",Nse="[object RegExp]",Rse="[object Set]",Mse="[object String]",$se="[object Symbol]",Dse="[object ArrayBuffer]",jse="[object DataView]",dO=cO?cO.prototype:void 0,M0=dO?dO.valueOf:void 0;function Lse(t,e,n,r,i,o,a){switch(n){case jse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Dse:return!(t.byteLength!=e.byteLength||!o(new fO(t),new fO(e)));case Pse:case Ise:case kse:return bse(+t,+e);case Ose:return t.name==e.name&&t.message==e.message;case Nse:case Mse:return t==e+"";case Cse:var s=xse;case Rse:var u=r&Tse;if(s||(s=Sse),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=Ase,a.set(t,e);var c=Ese(s(t),s(e),r,i,o,a);return a.delete(t),c;case $se:if(M0)return M0.call(t)==M0.call(e)}return!1}var Vse=Lse;function Fse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var SV=Fse,Bse=SV,Use=An;function zse(t,e,n){var r=e(t);return Use(t)?r:Bse(r,n(t))}var Wse=zse;function Hse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var qse=Hse;function Gse(){return[]}var Kse=Gse,Xse=qse,Yse=Kse,Qse=Object.prototype,Jse=Qse.propertyIsEnumerable,hO=Object.getOwnPropertySymbols,Zse=hO?function(t){return t==null?[]:(t=Object(t),Xse(hO(t),function(e){return Jse.call(t,e)}))}:Yse,eue=Zse;function tue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nue=tue,rue=Hi,iue=qi,oue="[object Arguments]";function aue(t){return iue(t)&&rue(t)==oue}var sue=aue,pO=sue,uue=qi,TV=Object.prototype,lue=TV.hasOwnProperty,cue=TV.propertyIsEnumerable,fue=pO(function(){return arguments}())?pO:function(t){return uue(t)&&lue.call(t,"callee")&&!cue.call(t,"callee")},$1=fue,Wm={exports:{}};function due(){return!1}var hue=due;Wm.exports;(function(t,e){var n=ii,r=hue,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;t.exports=l})(Wm,Wm.exports);var AV=Wm.exports,pue=9007199254740991,mue=/^(?:0|[1-9]\d*)$/;function gue(t,e){var n=typeof t;return e=e??pue,!!e&&(n=="number"||n!="symbol"&&mue.test(t))&&t>-1&&t%1==0&&t<e}var D1=gue,yue=9007199254740991;function vue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yue}var j1=vue,_ue=Hi,wue=j1,bue=qi,Eue="[object Arguments]",xue="[object Array]",Sue="[object Boolean]",Tue="[object Date]",Aue="[object Error]",Pue="[object Function]",Iue="[object Map]",Oue="[object Number]",Cue="[object Object]",kue="[object RegExp]",Nue="[object Set]",Rue="[object String]",Mue="[object WeakMap]",$ue="[object ArrayBuffer]",Due="[object DataView]",jue="[object Float32Array]",Lue="[object Float64Array]",Vue="[object Int8Array]",Fue="[object Int16Array]",Bue="[object Int32Array]",Uue="[object Uint8Array]",zue="[object Uint8ClampedArray]",Wue="[object Uint16Array]",Hue="[object Uint32Array]",Ye={};Ye[jue]=Ye[Lue]=Ye[Vue]=Ye[Fue]=Ye[Bue]=Ye[Uue]=Ye[zue]=Ye[Wue]=Ye[Hue]=!0;Ye[Eue]=Ye[xue]=Ye[$ue]=Ye[Sue]=Ye[Due]=Ye[Tue]=Ye[Aue]=Ye[Pue]=Ye[Iue]=Ye[Oue]=Ye[Cue]=Ye[kue]=Ye[Nue]=Ye[Rue]=Ye[Mue]=!1;function que(t){return bue(t)&&wue(t.length)&&!!Ye[_ue(t)]}var Gue=que;function Kue(t){return function(e){return t(e)}}var PV=Kue,Hm={exports:{}};Hm.exports;(function(t,e){var n=$L,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Hm,Hm.exports);var Xue=Hm.exports,Yue=Gue,Que=PV,mO=Xue,gO=mO&&mO.isTypedArray,Jue=gO?Que(gO):Yue,IV=Jue,Zue=nue,ele=$1,tle=An,nle=AV,rle=D1,ile=IV,ole=Object.prototype,ale=ole.hasOwnProperty;function sle(t,e){var n=tle(t),r=!n&&ele(t),i=!n&&!r&&nle(t),o=!n&&!r&&!i&&ile(t),a=n||r||i||o,s=a?Zue(t.length,String):[],u=s.length;for(var l in t)(e||ale.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||rle(l,u)))&&s.push(l);return s}var ule=sle,lle=Object.prototype;function cle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lle;return t===n}var fle=cle;function dle(t,e){return function(n){return t(e(n))}}var OV=dle,hle=OV,ple=hle(Object.keys,Object),mle=ple,gle=fle,yle=mle,vle=Object.prototype,_le=vle.hasOwnProperty;function wle(t){if(!gle(t))return yle(t);var e=[];for(var n in Object(t))_le.call(t,n)&&n!="constructor"&&e.push(n);return e}var ble=wle,Ele=v1,xle=j1;function Sle(t){return t!=null&&xle(t.length)&&!Ele(t)}var Nd=Sle,Tle=ule,Ale=ble,Ple=Nd;function Ile(t){return Ple(t)?Tle(t):Ale(t)}var Gy=Ile,Ole=Wse,Cle=eue,kle=Gy;function Nle(t){return Ole(t,kle,Cle)}var Rle=Nle,yO=Rle,Mle=1,$le=Object.prototype,Dle=$le.hasOwnProperty;function jle(t,e,n,r,i,o){var a=n&Mle,s=yO(t),u=s.length,l=yO(e),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var d=s[f];if(!(a?d in e:Dle.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=a;++f<u;){d=s[f];var v=t[d],w=e[d];if(r)var _=a?r(w,v,d,e,t,o):r(v,w,d,t,e,o);if(!(_===void 0?v===w||i(v,w,n,r,o):_)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var S=t.constructor,x=e.constructor;S!=x&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(g=!1)}return o.delete(t),o.delete(e),g}var Lle=jle,Vle=es,Fle=ii,Ble=Vle(Fle,"DataView"),Ule=Ble,zle=es,Wle=ii,Hle=zle(Wle,"Promise"),qle=Hle,Gle=es,Kle=ii,Xle=Gle(Kle,"Set"),CV=Xle,Yle=es,Qle=ii,Jle=Yle(Qle,"WeakMap"),Zle=Jle,Zw=Ule,eb=w1,tb=qle,nb=CV,rb=Zle,kV=Hi,dl=jL,vO="[object Map]",ece="[object Object]",_O="[object Promise]",wO="[object Set]",bO="[object WeakMap]",EO="[object DataView]",tce=dl(Zw),nce=dl(eb),rce=dl(tb),ice=dl(nb),oce=dl(rb),ia=kV;(Zw&&ia(new Zw(new ArrayBuffer(1)))!=EO||eb&&ia(new eb)!=vO||tb&&ia(tb.resolve())!=_O||nb&&ia(new nb)!=wO||rb&&ia(new rb)!=bO)&&(ia=function(t){var e=kV(t),n=e==ece?t.constructor:void 0,r=n?dl(n):"";if(r)switch(r){case tce:return EO;case nce:return vO;case rce:return _O;case ice:return wO;case oce:return bO}return e});var ace=ia,$0=_V,sce=xV,uce=Vse,lce=Lle,xO=ace,SO=An,TO=AV,cce=IV,fce=1,AO="[object Arguments]",PO="[object Array]",Xh="[object Object]",dce=Object.prototype,IO=dce.hasOwnProperty;function hce(t,e,n,r,i,o){var a=SO(t),s=SO(e),u=a?PO:xO(t),l=s?PO:xO(e);u=u==AO?Xh:u,l=l==AO?Xh:l;var c=u==Xh,f=l==Xh,d=u==l;if(d&&TO(t)){if(!TO(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new $0),a||cce(t)?sce(t,e,n,r,i,o):uce(t,e,u,n,r,i,o);if(!(n&fce)){var p=c&&IO.call(t,"__wrapped__"),m=f&&IO.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new $0),i(g,y,n,r,o)}}return d?(o||(o=new $0),lce(t,e,n,r,i,o)):!1}var pce=hce,mce=pce,OO=qi;function NV(t,e,n,r,i){return t===e?!0:t==null||e==null||!OO(t)&&!OO(e)?t!==t&&e!==e:mce(t,e,n,r,NV,i)}var L1=NV,gce=_V,yce=L1,vce=1,_ce=2;function wce(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===void 0&&!(u in t))return!1}else{var f=new gce;if(r)var d=r(l,c,u,t,e,f);if(!(d===void 0?yce(c,l,vce|_ce,r,f):d))return!1}}return!0}var bce=wce,Ece=Fo;function xce(t){return t===t&&!Ece(t)}var RV=xce,Sce=RV,Tce=Gy;function Ace(t){for(var e=Tce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Sce(i)]}return e}var Pce=Ace;function Ice(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var MV=Ice,Oce=bce,Cce=Pce,kce=MV;function Nce(t){var e=Cce(t);return e.length==1&&e[0][2]?kce(e[0][0],e[0][1]):function(n){return n===t||Oce(n,t,e)}}var Rce=Nce;function Mce(t,e){return t!=null&&e in Object(t)}var $ce=Mce,Dce=UL,jce=$1,Lce=An,Vce=D1,Fce=j1,Bce=Ny;function Uce(t,e,n){e=Dce(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Bce(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Fce(i)&&Vce(a,i)&&(Lce(t)||jce(t)))}var zce=Uce,Wce=$ce,Hce=zce;function qce(t,e){return t!=null&&Hce(t,e,Wce)}var Gce=qce,Kce=L1,Xce=zL,Yce=Gce,Qce=y1,Jce=RV,Zce=MV,efe=Ny,tfe=1,nfe=2;function rfe(t,e){return Qce(t)&&Jce(e)?Zce(efe(t),e):function(n){var r=Xce(n,t);return r===void 0&&r===e?Yce(n,t):Kce(e,r,tfe|nfe)}}var ife=rfe;function ofe(t){return t}var hl=ofe;function afe(t){return function(e){return e==null?void 0:e[t]}}var sfe=afe,ufe=S1;function lfe(t){return function(e){return ufe(e,t)}}var cfe=lfe,ffe=sfe,dfe=cfe,hfe=y1,pfe=Ny;function mfe(t){return hfe(t)?ffe(pfe(t)):dfe(t)}var gfe=mfe,yfe=Rce,vfe=ife,_fe=hl,wfe=An,bfe=gfe;function Efe(t){return typeof t=="function"?t:t==null?_fe:typeof t=="object"?wfe(t)?vfe(t[0],t[1]):yfe(t):bfe(t)}var Bo=Efe;function xfe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $V=xfe;function Sfe(t){return t!==t}var Tfe=Sfe;function Afe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Pfe=Afe,Ife=$V,Ofe=Tfe,Cfe=Pfe;function kfe(t,e,n){return e===e?Cfe(t,e,n):Ife(t,Ofe,n)}var Nfe=kfe,Rfe=Nfe;function Mfe(t,e){var n=t==null?0:t.length;return!!n&&Rfe(t,e,0)>-1}var $fe=Mfe;function Dfe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var jfe=Dfe;function Lfe(){}var Vfe=Lfe,D0=CV,Ffe=Vfe,Bfe=M1,Ufe=1/0,zfe=D0&&1/Bfe(new D0([,-0]))[1]==Ufe?function(t){return new D0(t)}:Ffe,Wfe=zfe,Hfe=wV,qfe=$fe,Gfe=jfe,Kfe=EV,Xfe=Wfe,Yfe=M1,Qfe=200;function Jfe(t,e,n){var r=-1,i=qfe,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Gfe;else if(o>=Qfe){var l=e?null:Xfe(t);if(l)return Yfe(l);a=!1,i=Kfe,u=new Hfe}else u=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;e&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}var Zfe=Jfe,ede=Bo,tde=Zfe;function nde(t,e){return t&&t.length?tde(t,ede(e)):[]}var rde=nde;const CO=ze(rde);function DV(t,e,n){return e===!0?CO(t,n):Se(e)?CO(t,e):t}function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}var ide=["ref"];function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Ky(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LV(r.key),r)}}function ade(t,e,n){return e&&NO(t.prototype,e),n&&NO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sde(t,e,n){return e=qm(e),ude(t,jV()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function ude(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lde(t)}function lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jV=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function Ky(t,e,n){return e=LV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LV(t){var e=fde(t,"string");return Ou(e)=="symbol"?e:e+""}function fde(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dde(t,e){if(t==null)return{};var n=hde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pde(t){return t.value}function mde(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=dde(e,ide);return z.createElement(R1,n)}var RO=1,ru=function(t){function e(){var n;ode(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sde(this,e,[].concat(i)),Ky(n,"lastBoundingBox",{width:-1,height:-1}),n}return cde(e,t),ade(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>RO||Math.abs(i.height-this.lastBoundingBox.height)>RO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,u=i.margin,l=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((l||0)-p.width)/2}}else f=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return li(li({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,u=i.wrapperStyle,l=i.payloadUniqBy,c=i.payload,f=li(li({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(u)),u);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},mde(o,li(li({},this.props),{},{payload:DV(c,l,pde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=li(li({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ae(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(L.PureComponent);Ky(ru,"displayName","Legend");Ky(ru,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MO=Id,gde=$1,yde=An,$O=MO?MO.isConcatSpreadable:void 0;function vde(t){return yde(t)||gde(t)||!!($O&&t&&t[$O])}var _de=vde,wde=SV,bde=_de;function VV(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=bde),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?VV(s,e-1,n,r,i):wde(i,s):r||(i[i.length]=s)}return i}var FV=VV;function Ede(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}var xde=Ede,Sde=xde,Tde=Sde(),Ade=Tde,Pde=Ade,Ide=Gy;function Ode(t,e){return t&&Pde(t,e,Ide)}var BV=Ode,Cde=Nd;function kde(t,e){return function(n,r){if(n==null)return n;if(!Cde(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Nde=kde,Rde=BV,Mde=Nde,$de=Mde(Rde),V1=$de,Dde=V1,jde=Nd;function Lde(t,e){var n=-1,r=jde(t)?Array(t.length):[];return Dde(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var UV=Lde;function Vde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Fde=Vde,DO=al;function Bde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=DO(t),a=e!==void 0,s=e===null,u=e===e,l=DO(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}var Ude=Bde,zde=Ude;function Wde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=zde(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var Hde=Wde,j0=x1,qde=S1,Gde=Bo,Kde=UV,Xde=Fde,Yde=PV,Qde=Hde,Jde=hl,Zde=An;function ehe(t,e,n){e.length?e=j0(e,function(o){return Zde(o)?function(a){return qde(a,o.length===1?o[0]:o)}:o}):e=[Jde];var r=-1;e=j0(e,Yde(Gde));var i=Kde(t,function(o,a,s){var u=j0(e,function(l){return l(o)});return{criteria:u,index:++r,value:o}});return Xde(i,function(o,a){return Qde(o,a,n)})}var the=ehe;function nhe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var rhe=nhe,ihe=rhe,jO=Math.max;function ohe(t,e,n){return e=jO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=jO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),ihe(t,this,s)}}var ahe=ohe;function she(t){return function(){return t}}var uhe=she,lhe=es,che=function(){try{var t=lhe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),zV=che,fhe=uhe,LO=zV,dhe=hl,hhe=LO?function(t,e){return LO(t,"toString",{configurable:!0,enumerable:!1,value:fhe(e),writable:!0})}:dhe,phe=hhe,mhe=800,ghe=16,yhe=Date.now;function vhe(t){var e=0,n=0;return function(){var r=yhe(),i=ghe-(r-n);if(n=r,i>0){if(++e>=mhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _he=vhe,whe=phe,bhe=_he,Ehe=bhe(whe),xhe=Ehe,She=hl,The=ahe,Ahe=xhe;function Phe(t,e){return Ahe(The(t,e,She),t+"")}var Ihe=Phe,Ohe=_1,Che=Nd,khe=D1,Nhe=Fo;function Rhe(t,e,n){if(!Nhe(n))return!1;var r=typeof e;return(r=="number"?Che(n)&&khe(e,n.length):r=="string"&&e in n)?Ohe(n[e],t):!1}var Xy=Rhe,Mhe=FV,$he=the,Dhe=Ihe,VO=Xy,jhe=Dhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&VO(t,e[0],e[1])?e=[]:n>2&&VO(e[0],e[1],e[2])&&(e=[e[0]]),$he(t,Mhe(e,1),[])}),Lhe=jhe;const F1=ze(Lhe);function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}function Vhe(t,e){return zhe(t)||Uhe(t,e)||Bhe(t,e)||Fhe()}function Fhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return FO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FO(t,e)}}function FO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function zhe(t){if(Array.isArray(t))return t}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return e=Hhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hhe(t){var e=qhe(t,"string");return Of(e)=="symbol"?e:e+""}function qhe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ghe(t){return Array.isArray(t)&&kt(t[0])&&kt(t[1])?t.join(" ~ "):t}var Khe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,u=e.labelStyle,l=u===void 0?{}:u,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(c&&c.length){var N={padding:0,margin:0},C=(d?F1(c,d):c).map(function(R,V){if(R.type==="none")return null;var $=L0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),F=R.formatter||f||Ghe,D=R.value,B=R.name,U=D,q=B;if(F&&U!=null&&q!=null){var W=F(D,B,R,V,c);if(Array.isArray(W)){var Y=Vhe(W,2);U=Y[0],q=Y[1]}else U=W}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:$},kt(q)?z.createElement("span",{className:"recharts-tooltip-item-name"},q):null,kt(q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},U),z.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},S=L0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=L0({margin:0},l),A=!Pe(g),b=A?g:"",T=De("recharts-default-tooltip",p),P=De("recharts-tooltip-label",m);A&&y&&c!==void 0&&c!==null&&(b=y(g,c));var O=w?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",ob({className:T,style:S},O),z.createElement("p",{className:P,style:x},z.isValidElement(b)?b:"".concat(b)),_())};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Yh(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Yhe(t,"string");return Cf(e)=="symbol"?e:e+""}function Yhe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xl="recharts-tooltip-wrapper",Qhe={visibility:"hidden"};function Jhe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return De(Xl,Yh(Yh(Yh(Yh({},"".concat(Xl,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(Xl,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(Xl,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(Xl,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function UO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,u=t.viewBox,l=t.viewBoxDimension;if(o&&ae(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,p=u[r];return d<p?Math.max(f,u[r]):Math.max(c,u[r])}var m=f+s,g=u[r]+l;return m>g?Math.max(c,u[r]):Math.max(f,u[r])}function Zhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function epe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,u=t.viewBox,l,c,f;return a.height>0&&a.width>0&&n?(c=UO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),f=UO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),l=Zhe({translateX:c,translateY:f,useTranslate3d:s})):l=Qhe,{cssProperties:l,cssClasses:Jhe({translateX:c,translateY:f,coordinate:n})}}function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){sb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function npe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HV(r.key),r)}}function rpe(t,e,n){return e&&npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ipe(t,e,n){return e=Gm(e),ope(t,WV()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function ope(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ape(t)}function ape(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function sb(t,e,n){return e=HV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HV(t){var e=upe(t,"string");return Cu(e)=="symbol"?e:e+""}function upe(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HO=1,lpe=function(t){function e(){var n;tpe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ipe(this,e,[].concat(i)),sb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sb(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,u,l,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&s!==void 0?s:0,y:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}}),n}return spe(e,t),rpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>HO||Math.abs(r.height-this.state.lastBoundingBox.height)>HO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=epe({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),S=_.cssClasses,x=_.cssProperties,A=WO(WO({transition:d&&o?"transform ".concat(s,"ms ").concat(u):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return z.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(T){r.wrapperNode=T}},l)}}])}(L.PureComponent),cpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pl={isSsr:cpe()};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){B1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GV(r.key),r)}}function hpe(t,e,n){return e&&dpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ppe(t,e,n){return e=Km(e),mpe(t,qV()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function mpe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gpe(t)}function gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function B1(t,e,n){return e=GV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GV(t){var e=vpe(t,"string");return ku(e)=="symbol"?e:e+""}function vpe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _pe(t){return t.dataKey}function wpe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(Khe,e)}var Ur=function(t){function e(){return fpe(this,e),ppe(this,e,arguments)}return ype(e,t),hpe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,l=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,x=m??[];f&&x.length&&(x=DV(m.filter(function(b){return b.value!=null&&(b.hide!==!0||r.props.includeHidden)}),g,_pe));var A=x.length>0;return z.createElement(lpe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:y,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:S},wpe(l,GO(GO({},this.props),{},{payload:x})))}}])}(L.PureComponent);B1(Ur,"displayName","Tooltip");B1(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bpe=ii,Epe=function(){return bpe.Date.now()},xpe=Epe,Spe=/\s/;function Tpe(t){for(var e=t.length;e--&&Spe.test(t.charAt(e)););return e}var Ape=Tpe,Ppe=Ape,Ipe=/^\s+/;function Ope(t){return t&&t.slice(0,Ppe(t)+1).replace(Ipe,"")}var Cpe=Ope,kpe=Cpe,KO=Fo,Npe=al,XO=NaN,Rpe=/^[-+]0x[0-9a-f]+$/i,Mpe=/^0b[01]+$/i,$pe=/^0o[0-7]+$/i,Dpe=parseInt;function jpe(t){if(typeof t=="number")return t;if(Npe(t))return XO;if(KO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=KO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kpe(t);var n=Mpe.test(t);return n||$pe.test(t)?Dpe(t.slice(2),n?2:8):Rpe.test(t)?XO:+t}var KV=jpe,Lpe=Fo,V0=xpe,YO=KV,Vpe="Expected a function",Fpe=Math.max,Bpe=Math.min;function Upe(t,e,n){var r,i,o,a,s,u,l=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Vpe);e=YO(e)||0,Lpe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Fpe(YO(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var b=r,T=i;return r=i=void 0,l=A,a=t.apply(T,b),a}function m(A){return l=A,s=setTimeout(v,e),c?p(A):a}function g(A){var b=A-u,T=A-l,P=e-b;return f?Bpe(P,o-T):P}function y(A){var b=A-u,T=A-l;return u===void 0||b>=e||b<0||f&&T>=o}function v(){var A=V0();if(y(A))return w(A);s=setTimeout(v,g(A))}function w(A){return s=void 0,d&&r?p(A):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function S(){return s===void 0?a:w(V0())}function x(){var A=V0(),b=y(A);if(r=arguments,i=this,u=A,b){if(s===void 0)return m(u);if(f)return clearTimeout(s),s=setTimeout(v,e),p(u)}return s===void 0&&(s=setTimeout(v,e)),a}return x.cancel=_,x.flush=S,x}var zpe=Upe,Wpe=zpe,Hpe=Fo,qpe="Expected a function";function Gpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(qpe);return Hpe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Wpe(t,e,{leading:r,maxWait:e,trailing:i})}var Kpe=Gpe;const XV=ze(Kpe);function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpe(t,e,n){return e=Ype(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ype(t){var e=Qpe(t,"string");return kf(e)=="symbol"?e:e+""}function Qpe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jpe(t,e){return nme(t)||tme(t,e)||eme(t,e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eme(t,e){if(t){if(typeof t=="string")return JO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JO(t,e)}}function JO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function nme(t){if(Array.isArray(t))return t}var rme=L.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,u=s===void 0?"100%":s,l=t.minWidth,c=l===void 0?0:l,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,v=t.className,w=t.onResize,_=t.style,S=_===void 0?{}:_,x=L.useRef(null),A=L.useRef();A.current=w,L.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var b=L.useState({containerWidth:i.width,containerHeight:i.height}),T=Jpe(b,2),P=T[0],O=T[1],k=L.useCallback(function(C,R){O(function(V){var $=Math.round(C),F=Math.round(R);return V.containerWidth===$&&V.containerHeight===F?V:{containerWidth:$,containerHeight:F}})},[]);L.useEffect(function(){var C=function(B){var U,q=B[0].contentRect,W=q.width,Y=q.height;k(W,Y),(U=A.current)===null||U===void 0||U.call(A,W,Y)};g>0&&(C=XV(C,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),V=x.current.getBoundingClientRect(),$=V.width,F=V.height;return k($,F),R.observe(x.current),function(){R.disconnect()}},[k,g]);var N=L.useMemo(function(){var C=P.containerWidth,R=P.containerHeight;if(C<0||R<0)return null;Ti(ha(a)||ha(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,u),Ti(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=ha(a)?C:a,$=ha(u)?R:u;n&&n>0&&(V?$=V/n:$&&(V=$*n),d&&$>d&&($=d)),Ti(V>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,$,a,u,c,f,n);var F=!Array.isArray(p)&&Si(p.type).endsWith("Chart");return z.Children.map(p,function(D){return z.isValidElement(D)?L.cloneElement(D,Qh({width:V,height:$},F?{style:Qh({height:"100%",width:"100%",maxHeight:$,maxWidth:V},D.props.style)}:{})):D})},[n,p,u,d,f,c,P,a]);return z.createElement("div",{id:y?"".concat(y):void 0,className:De("recharts-responsive-container",v),style:Qh(Qh({},S),{},{width:a,height:u,minWidth:c,minHeight:f,maxHeight:d}),ref:x},N)}),YV=function(e){return null};YV.displayName="Cell";function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ime(t,e,n){return e=ome(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ome(t){var e=ame(t,"string");return Nf(e)=="symbol"?e:e+""}function ame(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vs={widthCache:{},cacheCount:0},sme=2e3,ume={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eC="recharts_measurement_span";function lme(t){var e=lb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Dc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pl.isSsr)return{width:0,height:0};var r=lme(n),i=JSON.stringify({text:e,copyStyle:r});if(vs.widthCache[i])return vs.widthCache[i];try{var o=document.getElementById(eC);o||(o=document.createElement("span"),o.setAttribute("id",eC),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=lb(lb({},ume),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),u={width:s.width,height:s.height};return vs.widthCache[i]=u,++vs.cacheCount>sme&&(vs.cacheCount=0,vs.widthCache={}),u}catch{return{width:0,height:0}}},cme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Xm(t,e){return pme(t)||hme(t,e)||dme(t,e)||fme()}function fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dme(t,e){if(t){if(typeof t=="string")return tC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(t,e)}}function tC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function pme(t){if(Array.isArray(t))return t}function mme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yme(r.key),r)}}function gme(t,e,n){return e&&nC(t.prototype,e),n&&nC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yme(t){var e=vme(t,"string");return Rf(e)=="symbol"?e:e+""}function vme(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_me=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bme=Object.keys(QV),Fs="NaN";function Eme(t,e){return t*QV[e]}var Jh=function(){function t(e,n){mme(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_me.test(n)&&(this.num=NaN,this.unit=""),bme.includes(n)&&(this.num=Eme(e,n),this.unit="px")}return gme(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=wme.exec(n))!==null&&r!==void 0?r:[],o=Xm(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function JV(t){if(t.includes(Fs))return Fs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=rC.exec(e))!==null&&n!==void 0?n:[],i=Xm(r,4),o=i[1],a=i[2],s=i[3],u=Jh.parse(o??""),l=Jh.parse(s??""),c=a==="*"?u.multiply(l):u.divide(l);if(c.isNaN())return Fs;e=e.replace(rC,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=iC.exec(e))!==null&&f!==void 0?f:[],p=Xm(d,4),m=p[1],g=p[2],y=p[3],v=Jh.parse(m??""),w=Jh.parse(y??""),_=g==="+"?v.add(w):v.subtract(w);if(_.isNaN())return Fs;e=e.replace(iC,_.toString())}return e}var oC=/\(([^()]*)\)/;function xme(t){for(var e=t;e.includes("(");){var n=oC.exec(e),r=Xm(n,2),i=r[1];e=e.replace(oC,JV(i))}return e}function Sme(t){var e=t.replace(/\s+/g,"");return e=xme(e),e=JV(e),e}function Tme(t){try{return Sme(t)}catch{return Fs}}function F0(t){var e=Tme(t.slice(5,-1));return e===Fs?"":e}var Ame=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pme=["dx","dy","angle","className","breakAll"];function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function aC(t,e){if(t==null)return{};var n=Ime(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ime(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sC(t,e){return Nme(t)||kme(t,e)||Cme(t,e)||Ome()}function Ome(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(t,e){if(t){if(typeof t=="string")return uC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uC(t,e)}}function uC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Nme(t){if(Array.isArray(t))return t}var ZV=/[ \f\n\r\t\v\u2028\u2029]+/,e4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Pe(n)||(r?o=n.toString().split(""):o=n.toString().split(ZV));var a=o.map(function(u){return{word:u,width:Dc(u,i).width}}),s=r?0:Dc(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Rme=function(e,n,r,i,o){var a=e.maxLines,s=e.children,u=e.style,l=e.breakAll,c=ae(a),f=s,d=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function($,F){var D=F.word,B=F.width,U=$[$.length-1];if(U&&(i==null||o||U.width+B+r<Number(i)))U.words.push(D),U.width+=B+r;else{var q={words:[D],width:B};$.push(q)}return $},[])},p=d(n),m=function(V){return V.reduce(function($,F){return $.width>F.width?$:F})};if(!c)return p;for(var g="…",y=function(V){var $=f.slice(0,V),F=e4({breakAll:l,style:u,children:$+g}).wordsWithComputedWidth,D=d(F),B=D.length>a||m(D).width>Number(i);return[B,D]},v=0,w=f.length-1,_=0,S;v<=w&&_<=f.length-1;){var x=Math.floor((v+w)/2),A=x-1,b=y(A),T=sC(b,2),P=T[0],O=T[1],k=y(x),N=sC(k,1),C=N[0];if(!P&&!C&&(v=x+1),P&&C&&(w=x-1),!P&&C){S=O;break}_++}return S||p},lC=function(e){var n=Pe(e)?[]:e.toString().split(ZV);return[{words:n}]},Mme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!pl.isSsr){var u,l,c=e4({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;u=f,l=d}else return lC(i);return Rme({breakAll:a,children:i,maxLines:s,style:o},u,l,n,r)}return lC(i)},cC="#808080",Ym=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,u=e.capHeight,l=u===void 0?"0.71em":u,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,v=y===void 0?cC:y,w=aC(e,Ame),_=L.useMemo(function(){return Mme({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),S=w.dx,x=w.dy,A=w.angle,b=w.className,T=w.breakAll,P=aC(w,Pme);if(!kt(r)||!kt(o))return null;var O=r+(ae(S)?S:0),k=o+(ae(x)?x:0),N;switch(g){case"start":N=F0("calc(".concat(l,")"));break;case"middle":N=F0("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:N=F0("calc(".concat(_.length-1," * -").concat(s,")"));break}var C=[];if(f){var R=_[0].width,V=w.width;C.push("scale(".concat((ae(V)?V/R:1)/R,")"))}return A&&C.push("rotate(".concat(A,", ").concat(O,", ").concat(k,")")),C.length&&(P.transform=C.join(" ")),z.createElement("text",cb({},Oe(P,!0),{x:O,y:k,className:De("recharts-text",b),textAnchor:p,fill:v.includes("url")?cC:v}),_.map(function($,F){var D=$.words.join(T?"":" ");return z.createElement("tspan",{x:O,dy:F===0?N:s,key:"".concat(D,"-").concat(F)},D)}))};function Co(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $me(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U1(t){let e,n,r;t.length!==2?(e=Co,n=(s,u)=>Co(t(s),u),r=(s,u)=>t(s)-u):(e=t===Co||t===$me?t:Dme,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(s[f],u)<0?l=f+1:c=f}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(s[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function a(s,u,l=0,c=s.length){const f=i(s,u,l,c-1);return f>l&&r(s[f-1],u)>-r(s[f],u)?f-1:f}return{left:i,center:a,right:o}}function Dme(){return 0}function t4(t){return t===null?NaN:+t}function*jme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Lme=U1(Co),Rd=Lme.right;U1(t4).center;class fC extends Map{constructor(e,n=Bme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dC(this,e))}has(e){return super.has(dC(this,e))}set(e,n){return super.set(Vme(this,e),n)}delete(e){return super.delete(Fme(this,e))}}function dC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Vme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Fme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Bme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ume(t=Co){if(t===Co)return n4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function n4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zme=Math.sqrt(50),Wme=Math.sqrt(10),Hme=Math.sqrt(2);function Qm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zme?10:o>=Wme?5:o>=Hme?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?Qm(t,e,n*2):[s,u,l]}function fb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Qm(e,t,n):Qm(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}function db(t,e,n){return e=+e,t=+t,n=+n,Qm(t,e,n)[2]}function hb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?db(e,t,n):db(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function hC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function r4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?n4:Ume(i);r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*f/u+d)),m=Math.min(r,Math.floor(e+(u-l)*f/u+d));r4(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Yl(t,n,e),i(t[r],o)>0&&Yl(t,n,r);a<s;){for(Yl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Yl(t,n,s):(++s,Yl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Yl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qme(t,e,n){if(t=Float64Array.from(jme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pC(t);if(e>=1)return hC(t);var r,i=(r-1)*e,o=Math.floor(i),a=hC(r4(t,o).subarray(0,o+1)),s=pC(t.subarray(o+1));return a+(s-a)*(i-o)}}function Gme(t,e,n=t4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Kme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pb=Symbol("implicit");function z1(){var t=new fC,e=[],n=[],r=pb;function i(o){let a=t.get(o);if(a===void 0){if(r!==pb)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new fC;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return z1(e,n).unknown(r)},lr.apply(i,arguments),i}function Mf(){var t=z1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-u+l*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-u))*c,a=o*(1-u),s&&(m=Math.round(m),a=Math.round(a));var y=Kme(d).map(function(v){return m+o*v});return n(p?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},t.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Mf(e(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},lr.apply(f(),arguments)}function i4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return i4(e())},t}function jc(){return i4(Mf.apply(null,arguments).paddingInner(1))}function Xme(t){return function(){return t}}function Jm(t){return+t}var mC=[0,1];function dn(t){return t}function mb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Xme(isNaN(e)?NaN:.5)}function Yme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Qme(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=mb(i,r),o=n(a,o)):(r=mb(r,i),o=n(o,a)),function(s){return o(r(s))}}function Jme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=mb(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=Rd(t,s,1,r)-1;return o[u](i[u](s))}}function Md(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yy(){var t=mC,e=mC,n=Zu,r,i,o,a=dn,s,u,l;function c(){var d=Math.min(t.length,e.length);return a!==dn&&(a=Yme(t[0],t[d-1])),s=d>2?Jme:Qme,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?o:(u||(u=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((l||(l=s(e,t.map(r),br)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Jm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=sx,c()},f.clamp=function(d){return arguments.length?(a=d?!0:dn,c()):a!==dn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function W1(){return Yy()(dn,dn)}function Zme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nu(t){return t=Zm(Math.abs(t)),t?t[1]:NaN}function ege(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function tge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(t){if(!(e=nge.exec(t)))throw new Error("invalid format: "+t);var e;return new H1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$f.prototype=H1.prototype;function H1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}H1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var o4;function ige(t,e){var n=Zm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(o4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Zm(t,Math.max(0,e+o-1))[0]}function gC(t,e){var n=Zm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gC(t*100,e),r:gC,s:ige,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vC(t){return t}var _C=Array.prototype.map,wC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oge(t){var e=t.grouping===void 0||t.thousands===void 0?vC:ege(_C.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?vC:tge(_C.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=$f(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,w=f.comma,_=f.precision,S=f.trim,x=f.type;x==="n"?(w=!0,x="g"):yC[x]||(_===void 0&&(_=12),S=!0,x="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",b=g==="$"?r:/[%p]/.test(x)?a:"",T=yC[x],P=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(k){var N=A,C=b,R,V,$;if(x==="c")C=T(k)+C,k="";else{k=+k;var F=k<0||1/k<0;if(k=isNaN(k)?u:T(Math.abs(k),_),S&&(k=rge(k)),F&&+k==0&&m!=="+"&&(F=!1),N=(F?m==="("?m:s:m==="-"||m==="("?"":m)+N,C=(x==="s"?wC[8+o4/3]:"")+C+(F&&m==="("?")":""),P){for(R=-1,V=k.length;++R<V;)if($=k.charCodeAt(R),48>$||$>57){C=($===46?i+k.slice(R+1):k.slice(R))+C,k=k.slice(0,R);break}}}w&&!y&&(k=e(k,1/0));var D=N.length+k.length+C.length,B=D<v?new Array(v-D+1).join(d):"";switch(w&&y&&(k=e(B+k,B.length?v-C.length:1/0),B=""),p){case"<":k=N+k+C+B;break;case"=":k=N+B+k+C;break;case"^":k=B.slice(0,D=B.length>>1)+N+k+C+B.slice(D);break;default:k=B+N+k+C;break}return o(k)}return O.toString=function(){return f+""},O}function c(f,d){var p=l((f=$f(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Nu(d)/3)))*3,g=Math.pow(10,-m),y=wC[8+m/3];return function(v){return p(g*v)+y}}return{format:l,formatPrefix:c}}var Zh,q1,a4;age({thousands:",",grouping:[3],currency:["$",""]});function age(t){return Zh=oge(t),q1=Zh.format,a4=Zh.formatPrefix,Zh}function sge(t){return Math.max(0,-Nu(Math.abs(t)))}function uge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nu(e)/3)))*3-Nu(Math.abs(t)))}function lge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nu(e)-Nu(t))+1}function s4(t,e,n,r){var i=hb(t,e,n),o;switch(r=$f(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=uge(i,a))&&(r.precision=o),a4(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=lge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sge(i))&&(r.precision=o-(r.type==="%")*2);break}}return q1(r)}function Uo(t){var e=t.domain;return t.ticks=function(n){var r=e();return fb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return s4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=db(a,s,n),l===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function eg(){var t=W1();return t.copy=function(){return Md(t,eg())},lr.apply(t,arguments),Uo(t)}function u4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Jm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return u4(t).unknown(e)},t=arguments.length?Array.from(t,Jm):[0,1],Uo(n)}function l4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function bC(t){return Math.log(t)}function EC(t){return Math.exp(t)}function cge(t){return-Math.log(-t)}function fge(t){return-Math.exp(-t)}function dge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hge(t){return t===10?dge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xC(t){return(e,n)=>-t(-e,n)}function G1(t){const e=t(bC,EC),n=e.domain;let r=10,i,o;function a(){return i=pge(r),o=hge(r),n()[0]<0?(i=xC(i),o=xC(o),t(cge,fge)):t(bC,EC),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let d=i(l),p=i(c),m,g;const y=s==null?10:+s;let v=[];if(!(r%1)&&p-d<y){if(d=Math.floor(d),p=Math.ceil(p),l>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<l)){if(g>c)break;v.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<l)){if(g>c)break;v.push(g)}v.length*2<y&&(v=fb(l,c,y))}else v=fb(d,p,Math.min(p-d,y)).map(o);return f?v.reverse():v},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=$f(u)).precision==null&&(u.trim=!0),u=q1(u)),s===1/0)return u;const l=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},e.nice=()=>n(l4(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function c4(){const t=G1(Yy()).domain([1,10]);return t.copy=()=>Md(t,c4()).base(t.base()),lr.apply(t,arguments),t}function SC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function K1(t){var e=1,n=t(SC(e),TC(e));return n.constant=function(r){return arguments.length?t(SC(e=+r),TC(e)):e},Uo(n)}function f4(){var t=K1(Yy());return t.copy=function(){return Md(t,f4()).constant(t.constant())},lr.apply(t,arguments)}function AC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gge(t){return t<0?-t*t:t*t}function X1(t){var e=t(dn,dn),n=1;function r(){return n===1?t(dn,dn):n===.5?t(mge,gge):t(AC(n),AC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Uo(e)}function Y1(){var t=X1(Yy());return t.copy=function(){return Md(t,Y1()).exponent(t.exponent())},lr.apply(t,arguments),t}function yge(){return Y1.apply(null,arguments).exponent(.5)}function PC(t){return Math.sign(t)*t*t}function vge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function d4(){var t=W1(),e=[0,1],n=!1,r;function i(o){var a=vge(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(PC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Jm)).map(PC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return d4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},lr.apply(i,arguments),Uo(i)}function h4(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Gme(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Rd(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Co),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return h4().domain(t).range(e).unknown(r)},lr.apply(o,arguments)}function p4(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[Rd(r,u,0,n)]:o}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,s()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,s()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return p4().domain([t,e]).range(i).unknown(o)},lr.apply(Uo(a),arguments)}function m4(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Rd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return m4().domain(t).range(e).unknown(n)},lr.apply(i,arguments)}const B0=new Date,U0=new Date;function Nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let l;do u.push(l=new Date(+o)),e(o,s),t(o);while(l<o&&o<a);return u},i.filter=o=>Nt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(B0.setTime(+o),U0.setTime(+a),t(B0),t(U0),Math.floor(n(B0,U0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const tg=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);tg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):tg);tg.range;const _i=1e3,Zn=_i*60,wi=Zn*60,Di=wi*24,Q1=Di*7,IC=Di*30,z0=Di*365,pa=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCSeconds());pa.range;const J1=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getMinutes());J1.range;const Z1=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getUTCMinutes());Z1.range;const eS=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i-t.getMinutes()*Zn)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getHours());eS.range;const tS=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCHours());tS.range;const $d=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/Di,t=>t.getDate()-1);$d.range;const Qy=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Di,t=>t.getUTCDate()-1);Qy.range;const g4=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Di,t=>Math.floor(t/Di));g4.range;function ts(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/Q1)}const Jy=ts(0),ng=ts(1),_ge=ts(2),wge=ts(3),Ru=ts(4),bge=ts(5),Ege=ts(6);Jy.range;ng.range;_ge.range;wge.range;Ru.range;bge.range;Ege.range;function ns(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Q1)}const Zy=ns(0),rg=ns(1),xge=ns(2),Sge=ns(3),Mu=ns(4),Tge=ns(5),Age=ns(6);Zy.range;rg.range;xge.range;Sge.range;Mu.range;Tge.range;Age.range;const nS=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nS.range;const rS=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rS.range;const ji=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ji.range;const Li=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Li.range;function y4(t,e,n,r,i,o){const a=[[pa,1,_i],[pa,5,5*_i],[pa,15,15*_i],[pa,30,30*_i],[o,1,Zn],[o,5,5*Zn],[o,15,15*Zn],[o,30,30*Zn],[i,1,wi],[i,3,3*wi],[i,6,6*wi],[i,12,12*wi],[r,1,Di],[r,2,2*Di],[n,1,Q1],[e,1,IC],[e,3,3*IC],[t,1,z0]];function s(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const p=f&&typeof f.range=="function"?f:u(l,c,f),m=p?p.range(l,+c+1):[];return d?m.reverse():m}function u(l,c,f){const d=Math.abs(c-l)/f,p=U1(([,,y])=>y).right(a,d);if(p===a.length)return t.every(hb(l/z0,c/z0,f));if(p===0)return tg.every(Math.max(hb(l,c,f),1));const[m,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(g)}return[s,u]}const[Pge,Ige]=y4(Li,rS,Zy,g4,tS,Z1),[Oge,Cge]=y4(ji,nS,Jy,$d,eS,J1);function W0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function H0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ql(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function kge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Jl(i),c=Zl(i),f=Jl(o),d=Zl(o),p=Jl(a),m=Zl(a),g=Jl(s),y=Zl(s),v=Jl(u),w=Zl(u),_={a:F,A:D,b:B,B:U,c:null,d:MC,e:MC,f:eye,g:cye,G:dye,H:Qge,I:Jge,j:Zge,L:v4,m:tye,M:nye,p:q,q:W,Q:jC,s:LC,S:rye,u:iye,U:oye,V:aye,w:sye,W:uye,x:null,X:null,y:lye,Y:fye,Z:hye,"%":DC},S={a:Y,A:ee,b:ne,B:ue,c:null,d:$C,e:$C,f:yye,g:Pye,G:Oye,H:pye,I:mye,j:gye,L:w4,m:vye,M:_ye,p:re,q:le,Q:jC,s:LC,S:wye,u:bye,U:Eye,V:xye,w:Sye,W:Tye,x:null,X:null,y:Aye,Y:Iye,Z:Cye,"%":DC},x={a:O,A:k,b:N,B:C,c:R,d:NC,e:NC,f:Gge,g:kC,G:CC,H:RC,I:RC,j:zge,L:qge,m:Uge,M:Wge,p:P,q:Bge,Q:Xge,s:Yge,S:Hge,u:Dge,U:jge,V:Lge,w:$ge,W:Vge,x:V,X:$,y:kC,Y:CC,Z:Fge,"%":Kge};_.x=A(n,_),_.X=A(r,_),_.c=A(e,_),S.x=A(n,S),S.X=A(r,S),S.c=A(e,S);function A(Q,se){return function(ie){var G=[],me=-1,he=0,xe=Q.length,Ce,vt,gn;for(ie instanceof Date||(ie=new Date(+ie));++me<xe;)Q.charCodeAt(me)===37&&(G.push(Q.slice(he,me)),(vt=OC[Ce=Q.charAt(++me)])!=null?Ce=Q.charAt(++me):vt=Ce==="e"?" ":"0",(gn=se[Ce])&&(Ce=gn(ie,vt)),G.push(Ce),he=me+1);return G.push(Q.slice(he,me)),G.join("")}}function b(Q,se){return function(ie){var G=Ql(1900,void 0,1),me=T(G,Q,ie+="",0),he,xe;if(me!=ie.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(se&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(he=H0(Ql(G.y,0,1)),xe=he.getUTCDay(),he=xe>4||xe===0?rg.ceil(he):rg(he),he=Qy.offset(he,(G.V-1)*7),G.y=he.getUTCFullYear(),G.m=he.getUTCMonth(),G.d=he.getUTCDate()+(G.w+6)%7):(he=W0(Ql(G.y,0,1)),xe=he.getDay(),he=xe>4||xe===0?ng.ceil(he):ng(he),he=$d.offset(he,(G.V-1)*7),G.y=he.getFullYear(),G.m=he.getMonth(),G.d=he.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),xe="Z"in G?H0(Ql(G.y,0,1)).getUTCDay():W0(Ql(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(xe+5)%7:G.w+G.U*7-(xe+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,H0(G)):W0(G)}}function T(Q,se,ie,G){for(var me=0,he=se.length,xe=ie.length,Ce,vt;me<he;){if(G>=xe)return-1;if(Ce=se.charCodeAt(me++),Ce===37){if(Ce=se.charAt(me++),vt=x[Ce in OC?se.charAt(me++):Ce],!vt||(G=vt(Q,ie,G))<0)return-1}else if(Ce!=ie.charCodeAt(G++))return-1}return G}function P(Q,se,ie){var G=l.exec(se.slice(ie));return G?(Q.p=c.get(G[0].toLowerCase()),ie+G[0].length):-1}function O(Q,se,ie){var G=p.exec(se.slice(ie));return G?(Q.w=m.get(G[0].toLowerCase()),ie+G[0].length):-1}function k(Q,se,ie){var G=f.exec(se.slice(ie));return G?(Q.w=d.get(G[0].toLowerCase()),ie+G[0].length):-1}function N(Q,se,ie){var G=v.exec(se.slice(ie));return G?(Q.m=w.get(G[0].toLowerCase()),ie+G[0].length):-1}function C(Q,se,ie){var G=g.exec(se.slice(ie));return G?(Q.m=y.get(G[0].toLowerCase()),ie+G[0].length):-1}function R(Q,se,ie){return T(Q,e,se,ie)}function V(Q,se,ie){return T(Q,n,se,ie)}function $(Q,se,ie){return T(Q,r,se,ie)}function F(Q){return a[Q.getDay()]}function D(Q){return o[Q.getDay()]}function B(Q){return u[Q.getMonth()]}function U(Q){return s[Q.getMonth()]}function q(Q){return i[+(Q.getHours()>=12)]}function W(Q){return 1+~~(Q.getMonth()/3)}function Y(Q){return a[Q.getUTCDay()]}function ee(Q){return o[Q.getUTCDay()]}function ne(Q){return u[Q.getUTCMonth()]}function ue(Q){return s[Q.getUTCMonth()]}function re(Q){return i[+(Q.getUTCHours()>=12)]}function le(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var se=A(Q+="",_);return se.toString=function(){return Q},se},parse:function(Q){var se=b(Q+="",!1);return se.toString=function(){return Q},se},utcFormat:function(Q){var se=A(Q+="",S);return se.toString=function(){return Q},se},utcParse:function(Q){var se=b(Q+="",!0);return se.toString=function(){return Q},se}}}var OC={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,Nge=/^%/,Rge=/[\\^$*+?|[\]().{}]/g;function je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Mge(t){return t.replace(Rge,"\\$&")}function Jl(t){return new RegExp("^(?:"+t.map(Mge).join("|")+")","i")}function Zl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $ge(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dge(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jge(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Lge(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vge(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function CC(t,e,n){var r=jt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kC(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bge(t,e,n){var r=jt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Uge(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function NC(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zge(t,e,n){var r=jt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function RC(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wge(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Hge(t,e,n){var r=jt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qge(t,e,n){var r=jt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Gge(t,e,n){var r=jt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kge(t,e,n){var r=Nge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Xge(t,e,n){var r=jt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yge(t,e,n){var r=jt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function MC(t,e){return je(t.getDate(),e,2)}function Qge(t,e){return je(t.getHours(),e,2)}function Jge(t,e){return je(t.getHours()%12||12,e,2)}function Zge(t,e){return je(1+$d.count(ji(t),t),e,3)}function v4(t,e){return je(t.getMilliseconds(),e,3)}function eye(t,e){return v4(t,e)+"000"}function tye(t,e){return je(t.getMonth()+1,e,2)}function nye(t,e){return je(t.getMinutes(),e,2)}function rye(t,e){return je(t.getSeconds(),e,2)}function iye(t){var e=t.getDay();return e===0?7:e}function oye(t,e){return je(Jy.count(ji(t)-1,t),e,2)}function _4(t){var e=t.getDay();return e>=4||e===0?Ru(t):Ru.ceil(t)}function aye(t,e){return t=_4(t),je(Ru.count(ji(t),t)+(ji(t).getDay()===4),e,2)}function sye(t){return t.getDay()}function uye(t,e){return je(ng.count(ji(t)-1,t),e,2)}function lye(t,e){return je(t.getFullYear()%100,e,2)}function cye(t,e){return t=_4(t),je(t.getFullYear()%100,e,2)}function fye(t,e){return je(t.getFullYear()%1e4,e,4)}function dye(t,e){var n=t.getDay();return t=n>=4||n===0?Ru(t):Ru.ceil(t),je(t.getFullYear()%1e4,e,4)}function hye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+je(e/60|0,"0",2)+je(e%60,"0",2)}function $C(t,e){return je(t.getUTCDate(),e,2)}function pye(t,e){return je(t.getUTCHours(),e,2)}function mye(t,e){return je(t.getUTCHours()%12||12,e,2)}function gye(t,e){return je(1+Qy.count(Li(t),t),e,3)}function w4(t,e){return je(t.getUTCMilliseconds(),e,3)}function yye(t,e){return w4(t,e)+"000"}function vye(t,e){return je(t.getUTCMonth()+1,e,2)}function _ye(t,e){return je(t.getUTCMinutes(),e,2)}function wye(t,e){return je(t.getUTCSeconds(),e,2)}function bye(t){var e=t.getUTCDay();return e===0?7:e}function Eye(t,e){return je(Zy.count(Li(t)-1,t),e,2)}function b4(t){var e=t.getUTCDay();return e>=4||e===0?Mu(t):Mu.ceil(t)}function xye(t,e){return t=b4(t),je(Mu.count(Li(t),t)+(Li(t).getUTCDay()===4),e,2)}function Sye(t){return t.getUTCDay()}function Tye(t,e){return je(rg.count(Li(t)-1,t),e,2)}function Aye(t,e){return je(t.getUTCFullYear()%100,e,2)}function Pye(t,e){return t=b4(t),je(t.getUTCFullYear()%100,e,2)}function Iye(t,e){return je(t.getUTCFullYear()%1e4,e,4)}function Oye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Mu(t):Mu.ceil(t),je(t.getUTCFullYear()%1e4,e,4)}function Cye(){return"+0000"}function DC(){return"%"}function jC(t){return+t}function LC(t){return Math.floor(+t/1e3)}var _s,E4,x4;kye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kye(t){return _s=kge(t),E4=_s.format,_s.parse,x4=_s.utcFormat,_s.utcParse,_s}function Nye(t){return new Date(t)}function Rye(t){return t instanceof Date?+t:+new Date(+t)}function iS(t,e,n,r,i,o,a,s,u,l){var c=W1(),f=c.invert,d=c.domain,p=l(".%L"),m=l(":%S"),g=l("%I:%M"),y=l("%I %p"),v=l("%a %d"),w=l("%b %d"),_=l("%B"),S=l("%Y");function x(A){return(u(A)<A?p:s(A)<A?m:a(A)<A?g:o(A)<A?y:r(A)<A?i(A)<A?v:w:n(A)<A?_:S)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,Rye)):d().map(Nye)},c.ticks=function(A){var b=d();return t(b[0],b[b.length-1],A??10)},c.tickFormat=function(A,b){return b==null?x:l(b)},c.nice=function(A){var b=d();return(!A||typeof A.range!="function")&&(A=e(b[0],b[b.length-1],A??10)),A?d(l4(b,A)):c},c.copy=function(){return Md(c,iS(t,e,n,r,i,o,a,s,u,l))},c}function Mye(){return lr.apply(iS(Oge,Cge,ji,nS,Jy,$d,eS,J1,pa,E4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $ye(){return lr.apply(iS(Pge,Ige,Li,rS,Zy,Qy,tS,Z1,pa,x4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ev(){var t=0,e=1,n,r,i,o,a=dn,s=!1,u;function l(f){return f==null||isNaN(f=+f)?u:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(a=f,l):a};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,a=f(p,m),l):[a(0),a(1)]}}return l.range=c(Zu),l.rangeRound=c(sx),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),l}}function zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function S4(){var t=Uo(ev()(dn));return t.copy=function(){return zo(t,S4())},Gi.apply(t,arguments)}function T4(){var t=G1(ev()).domain([1,10]);return t.copy=function(){return zo(t,T4()).base(t.base())},Gi.apply(t,arguments)}function A4(){var t=K1(ev());return t.copy=function(){return zo(t,A4()).constant(t.constant())},Gi.apply(t,arguments)}function oS(){var t=X1(ev());return t.copy=function(){return zo(t,oS()).exponent(t.exponent())},Gi.apply(t,arguments)}function Dye(){return oS.apply(null,arguments).exponent(.5)}function P4(){var t=[],e=dn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Rd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Co),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qme(t,o/r))},n.copy=function(){return P4(e).domain(t)},Gi.apply(n,arguments)}function tv(){var t=0,e=.5,n=1,r=1,i,o,a,s,u,l=dn,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:u),l(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(l=g,p):l};function m(g){return function(y){var v,w,_;return arguments.length?([v,w,_]=y,l=f9(g,[v,w,_]),p):[l(0),l(.5),l(1)]}}return p.range=m(Zu),p.rangeRound=m(sx),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function I4(){var t=Uo(tv()(dn));return t.copy=function(){return zo(t,I4())},Gi.apply(t,arguments)}function O4(){var t=G1(tv()).domain([.1,1,10]);return t.copy=function(){return zo(t,O4()).base(t.base())},Gi.apply(t,arguments)}function C4(){var t=K1(tv());return t.copy=function(){return zo(t,C4()).constant(t.constant())},Gi.apply(t,arguments)}function aS(){var t=X1(tv());return t.copy=function(){return zo(t,aS()).exponent(t.exponent())},Gi.apply(t,arguments)}function jye(){return aS.apply(null,arguments).exponent(.5)}const VC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mf,scaleDiverging:I4,scaleDivergingLog:O4,scaleDivergingPow:aS,scaleDivergingSqrt:jye,scaleDivergingSymlog:C4,scaleIdentity:u4,scaleImplicit:pb,scaleLinear:eg,scaleLog:c4,scaleOrdinal:z1,scalePoint:jc,scalePow:Y1,scaleQuantile:h4,scaleQuantize:p4,scaleRadial:d4,scaleSequential:S4,scaleSequentialLog:T4,scaleSequentialPow:oS,scaleSequentialQuantile:P4,scaleSequentialSqrt:Dye,scaleSequentialSymlog:A4,scaleSqrt:yge,scaleSymlog:f4,scaleThreshold:m4,scaleTime:Mye,scaleUtc:$ye,tickFormat:s4},Symbol.toStringTag,{value:"Module"}));var Lye=al;function Vye(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Lye(a):n(a,s)))var s=a,u=o}return u}var k4=Vye;function Fye(t,e){return t>e}var Bye=Fye,Uye=k4,zye=Bye,Wye=hl;function Hye(t){return t&&t.length?Uye(t,Wye,zye):void 0}var qye=Hye;const nv=ze(qye);function Gye(t,e){return t<e}var Kye=Gye,Xye=k4,Yye=Kye,Qye=hl;function Jye(t){return t&&t.length?Xye(t,Qye,Yye):void 0}var Zye=Jye;const rv=ze(Zye);var eve=x1,tve=Bo,nve=UV,rve=An;function ive(t,e){var n=rve(t)?eve:nve;return n(t,tve(e))}var ove=ive,ave=FV,sve=ove;function uve(t,e){return ave(sve(t,e),1)}var lve=uve;const cve=ze(lve);var fve=L1;function dve(t,e){return fve(t,e)}var hve=dve;const iv=ze(hve);var ml=1e9,pve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uS,tt=!0,sr="[DecimalError] ",Ea=sr+"Invalid argument: ",sS=sr+"Exponent out of range: ",gl=Math.floor,oa=Math.pow,mve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Mt=1e7,Qe=7,N4=9007199254740991,ig=gl(N4/Qe),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(t){return Ai(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var e=this,n=e.constructor;return He(Ai(e,new n(t),0,1),n.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return At(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($n))throw Error(sr+"NaN");if(n.s<1)throw Error(sr+(n.s?"NaN":"-Infinity"));return n.eq($n)?new r(0):(tt=!1,e=Ai(Df(n,o),Df(t,o),o),tt=!0,He(e,i))};fe.minus=fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$4(e,t):R4(e,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(sr+"NaN");return n.s?(tt=!1,e=Ai(n,t,0,1).times(t),tt=!0,n.minus(e)):He(new r(n),i)};fe.naturalExponential=fe.exp=function(){return M4(this)};fe.naturalLogarithm=fe.ln=function(){return Df(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?R4(e,t):$4(e,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ea+t);if(e=At(i)+1,r=i.d.length-1,n=r*Qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};fe.squareRoot=fe.sqrt=function(){var t,e,n,r,i,o,a,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(sr+"NaN")}for(t=At(s),tt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Wr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(o=r,r=o.plus(Ai(s,o,a+2)).times(.5),Wr(o.d).slice(0,a)===(e=Wr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(He(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return tt=!0,He(r,n)};fe.times=fe.mul=function(t){var e,n,r,i,o,a,s,u,l,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,u=d.length,l=p.length,u<l&&(o=d,d=p,p=o,a=u,u=l,l=a),o=[],a=u+l,r=a;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Mt|0,e=s/Mt|0;o[i]=(o[i]+e)%Mt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,tt?He(t,f.precision):t};fe.toDecimalPlaces=fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ni(t,0,ml),e===void 0?e=r.rounding:ni(e,0,8),He(n,t+At(n)+1,e))};fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Fa(r,!0):(ni(t,0,ml),e===void 0?e=i.rounding:ni(e,0,8),r=He(new i(r),t+1,e),n=Fa(r,!0,t+1)),n};fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Fa(i):(ni(t,0,ml),e===void 0?e=o.rounding:ni(e,0,8),r=He(new o(i),t+At(i)+1,e),n=Fa(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var t=this,e=t.constructor;return He(new e(t),At(t)+1,e.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,l=12,c=+(t=new u(t));if(!t.s)return new u($n);if(s=new u(s),!s.s){if(t.s<1)throw Error(sr+"Infinity");return s}if(s.eq($n))return s;if(r=u.precision,t.eq($n))return He(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=N4){for(i=new u($n),e=Math.ceil(r/Qe+4),tt=!1;n%2&&(i=i.times(s),BC(i.d,e)),n=gl(n/2),n!==0;)s=s.times(s),BC(s.d,e);return tt=!0,t.s<0?new u($n).div(i):He(i,r)}}else if(o<0)throw Error(sr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,tt=!1,i=t.times(Df(s,r+l)),tt=!0,i=M4(i),i.s=o,i};fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=At(i),r=Fa(i,n<=o.toExpNeg||n>=o.toExpPos)):(ni(t,1,ml),e===void 0?e=o.rounding:ni(e,0,8),i=He(new o(i),t,e),n=At(i),r=Fa(i,t<=n||n<=o.toExpNeg,t)),r};fe.toSignificantDigits=fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ni(t,1,ml),e===void 0?e=r.rounding:ni(e,0,8)),He(new r(n),t,e)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return Fa(t,e<=n.toExpNeg||e>=n.toExpPos)};function R4(t,e){var n,r,i,o,a,s,u,l,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),tt?He(e,f):e;if(u=t.d,l=e.d,a=t.e,i=e.e,u=u.slice(),o=a-i,o){for(o<0?(r=u,o=-o,s=l.length):(r=l,i=a,s=u.length),a=Math.ceil(f/Qe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=u.length,o=l.length,s-o<0&&(o=s,r=l,l=u,u=r),n=0;o;)n=(u[--o]=u[o]+l[o]+n)/Mt|0,u[o]%=Mt;for(n&&(u.unshift(n),++i),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=i,tt?He(e,f):e}function ni(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ea+t)}function Wr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Qe-r.length,n&&(o+=ro(n)),o+=r;a=t[e],r=a+"",n=Qe-r.length,n&&(o+=ro(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ai=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Mt|0,a=o/Mt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,u;if(o!=a)u=o>a?1:-1;else for(s=u=0;s<o;s++)if(r[s]!=i[s]){u=r[s]>i[s]?1:-1;break}return u}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Mt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,u,l,c,f,d,p,m,g,y,v,w,_,S,x,A,b,T,P=r.constructor,O=r.s==i.s?1:-1,k=r.d,N=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(sr+"Division by zero");for(u=r.e-i.e,b=N.length,x=k.length,p=new P(O),m=p.d=[],l=0;N[l]==(k[l]||0);)++l;if(N[l]>(k[l]||0)&&--u,o==null?w=o=P.precision:a?w=o+(At(r)-At(i))+1:w=o,w<0)return new P(0);if(w=w/Qe+2|0,l=0,b==1)for(c=0,N=N[0],w++;(l<x||c)&&w--;l++)_=c*Mt+(k[l]||0),m[l]=_/N|0,c=_%N|0;else{for(c=Mt/(N[0]+1)|0,c>1&&(N=t(N,c),k=t(k,c),b=N.length,x=k.length),S=b,g=k.slice(0,b),y=g.length;y<b;)g[y++]=0;T=N.slice(),T.unshift(0),A=N[0],N[1]>=Mt/2&&++A;do c=0,s=e(N,g,b,y),s<0?(v=g[0],b!=y&&(v=v*Mt+(g[1]||0)),c=v/A|0,c>1?(c>=Mt&&(c=Mt-1),f=t(N,c),d=f.length,y=g.length,s=e(f,g,d,y),s==1&&(c--,n(f,b<d?T:N,d))):(c==0&&(s=c=1),f=N.slice()),d=f.length,d<y&&f.unshift(0),n(g,f,y),s==-1&&(y=g.length,s=e(N,g,b,y),s<1&&(c++,n(g,b<y?T:N,y))),y=g.length):s===0&&(c++,g=[0]),m[l++]=c,s&&g[0]?g[y++]=k[S]||0:(g=[k[S]],y=1);while((S++<x||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=u,He(p,a?o+At(p)+1:o)}}();function M4(t,e){var n,r,i,o,a,s,u=0,l=0,c=t.constructor,f=c.precision;if(At(t)>16)throw Error(sS+At(t));if(!t.s)return new c($n);for(tt=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(r=Math.log(oa(2,l))/Math.LN10*2+5|0,s+=r,n=i=o=new c($n),c.precision=s;;){if(i=He(i.times(t),s),n=n.times(++u),a=o.plus(Ai(i,n,s)),Wr(a.d).slice(0,s)===Wr(o.d).slice(0,s)){for(;l--;)o=He(o.times(o),s);return c.precision=f,e==null?(tt=!0,He(o,f)):o}o=a}}function At(t){for(var e=t.e*Qe,n=t.d[0];n>=10;n/=10)e++;return e}function q0(t,e,n){if(e>t.LN10.sd())throw tt=!0,n&&(t.precision=n),Error(sr+"LN10 precision limit exceeded");return He(new t(t.LN10),e)}function ro(t){for(var e="";t--;)e+="0";return e}function Df(t,e){var n,r,i,o,a,s,u,l,c,f=1,d=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(sr+(p.s?"NaN":"-Infinity"));if(p.eq($n))return new g(0);if(e==null?(tt=!1,l=y):l=e,p.eq(10))return e==null&&(tt=!0),q0(g,l);if(l+=d,g.precision=l,n=Wr(m),r=n.charAt(0),o=At(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Wr(p.d),r=n.charAt(0),f++;o=At(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return u=q0(g,l+2,y).times(o+""),p=Df(new g(r+"."+n.slice(1)),l-d).plus(u),g.precision=y,e==null?(tt=!0,He(p,y)):p;for(s=a=p=Ai(p.minus($n),p.plus($n),l),c=He(p.times(p),l),i=3;;){if(a=He(a.times(c),l),u=s.plus(Ai(a,new g(i),l)),Wr(u.d).slice(0,l)===Wr(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(q0(g,l+2,y).times(o+""))),s=Ai(s,new g(f),l),g.precision=y,e==null?(tt=!0,He(s,y)):s;s=u,i+=2}}function FC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=gl(n/Qe),t.d=[],r=(n+1)%Qe,n<0&&(r+=Qe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qe;r<i;)t.d.push(+e.slice(r,r+=Qe));e=e.slice(r),r=Qe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tt&&(t.e>ig||t.e<-ig))throw Error(sS+n)}else t.s=0,t.e=0,t.d=[0];return t}function He(t,e,n){var r,i,o,a,s,u,l,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Qe,i=e,l=f[c=0];else{if(c=Math.ceil((r+1)/Qe),o=f.length,c>=o)return t;for(l=o=f[c],a=1;o>=10;o/=10)a++;r%=Qe,i=r-Qe+a}if(n!==void 0&&(o=oa(10,a-i-1),s=l/o%10|0,u=e<0||f[c+1]!==void 0||l%o,u=n<4?(s||u)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||u||n==6&&(r>0?i>0?l/oa(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return u?(o=At(t),f.length=1,e=e-o-1,f[0]=oa(10,(Qe-e%Qe)%Qe),t.e=gl(-e/Qe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=oa(10,Qe-r),f[c]=i>0?(l/oa(10,a-i)%oa(10,i)|0)*o:0),u)for(;;)if(c==0){(f[0]+=o)==Mt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Mt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(tt&&(t.e>ig||t.e<-ig))throw Error(sS+At(t));return t}function $4(t,e){var n,r,i,o,a,s,u,l,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),tt?He(e,p):e;if(u=t.d,f=e.d,r=e.e,l=t.e,u=u.slice(),a=l-r,a){for(c=a<0,c?(n=u,a=-a,s=f.length):(n=f,r=l,s=u.length),i=Math.max(Math.ceil(p/Qe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(u[i]!=f[i]){c=u[i]<f[i];break}a=0}for(c&&(n=u,u=f,f=n,e.s=-e.s),s=u.length,i=f.length-s;i>0;--i)u[s++]=0;for(i=f.length;i>a;){if(u[--i]<f[i]){for(o=i;o&&u[--o]===0;)u[o]=Mt-1;--u[o],u[i]+=Mt}u[i]-=f[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,tt?He(e,p):e):new d(0)}function Fa(t,e,n){var r,i=At(t),o=Wr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ro(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ro(-i-1)+o,n&&(r=n-a)>0&&(o+=ro(r))):i>=a?(o+=ro(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ro(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ro(r))),t.s<0?"-"+o:o}function BC(t,e){if(t.length>e)return t.length=e,!0}function D4(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ea+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return FC(a,o.toString())}else if(typeof o!="string")throw Error(Ea+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,mve.test(o))FC(a,o);else throw Error(Ea+o)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D4,i.config=i.set=gve,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function gve(t){if(!t||typeof t!="object")throw Error(sr+"Object expected");var e,n,r,i=["precision",1,ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(gl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ea+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ea+n+": "+r);return this}var uS=D4(pve);$n=new uS(1);const Ue=uS;function yve(t){return bve(t)||wve(t)||_ve(t)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(t,e){if(t){if(typeof t=="string")return gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(t,e)}}function wve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bve(t){if(Array.isArray(t))return gb(t)}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Eve=function(e){return e},j4={},L4=function(e){return e===j4},UC=function(e){return function n(){return arguments.length===0||arguments.length===1&&L4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},xve=function t(e,n){return e===1?n:UC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==j4}).length;return a>=e?n.apply(void 0,i):t(e-a,UC(function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=i.map(function(f){return L4(f)?u.shift():f});return n.apply(void 0,yve(c).concat(u))}))})},ov=function(e){return xve(e.length,e)},yb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Sve=ov(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Tve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Eve;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,u){return u(s)},o.apply(void 0,arguments))}},vb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},V4=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,u){return s===n[u]})||(n=o,r=e.apply(void 0,o)),r}};function Ave(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function Pve(t,e,n){for(var r=new Ue(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Ive=ov(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ove=ov(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Cve=ov(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const av={rangeStep:Pve,getDigitCount:Ave,interpolateNumber:Ive,uninterpolateNumber:Ove,uninterpolateTruncation:Cve};function _b(t){return Rve(t)||Nve(t)||F4(t)||kve()}function kve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rve(t){if(Array.isArray(t))return wb(t)}function jf(t,e){return Dve(t)||$ve(t,e)||F4(t,e)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F4(t,e){if(t){if(typeof t=="string")return wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(t,e)}}function wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Dve(t){if(Array.isArray(t))return t}function B4(t){var e=jf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function U4(t,e,n){if(t.lte(0))return new Ue(0);var r=av.getDigitCount(t.toNumber()),i=new Ue(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ue(Math.ceil(o.div(a).toNumber())).add(n).mul(a),u=s.mul(i);return e?u:new Ue(Math.ceil(u))}function jve(t,e,n){var r=1,i=new Ue(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ue(10).pow(av.getDigitCount(t)-1),i=new Ue(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):n||(i=new Ue(Math.floor(t)));var a=Math.floor((e-1)/2),s=Tve(Sve(function(u){return i.add(new Ue(u-a).mul(r)).toNumber()}),yb);return s(0,e)}function z4(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=U4(new Ue(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ue(0):(a=new Ue(t).add(e).div(2),a=a.sub(new Ue(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),u=Math.ceil(new Ue(e).sub(a).div(o).toNumber()),l=s+u+1;return l>n?z4(t,e,n,r,i+1):(l<n&&(u=e>0?u+(n-l):u,s=e>0?s:s+(n-l)),{step:o,tickMin:a.sub(new Ue(s).mul(o)),tickMax:a.add(new Ue(u).mul(o))})}function Lve(t){var e=jf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=B4([n,r]),u=jf(s,2),l=u[0],c=u[1];if(l===-1/0||c===1/0){var f=c===1/0?[l].concat(_b(yb(0,i-1).map(function(){return 1/0}))):[].concat(_b(yb(0,i-1).map(function(){return-1/0})),[c]);return n>r?vb(f):f}if(l===c)return jve(l,i,o);var d=z4(l,c,a,o),p=d.step,m=d.tickMin,g=d.tickMax,y=av.rangeStep(m,g.add(new Ue(.1).mul(p)),p);return n>r?vb(y):y}function Vve(t,e){var n=jf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=B4([r,i]),s=jf(a,2),u=s[0],l=s[1];if(u===-1/0||l===1/0)return[r,i];if(u===l)return[u];var c=Math.max(e,2),f=U4(new Ue(l).sub(u).div(c-1),o,0),d=[].concat(_b(av.rangeStep(new Ue(u),new Ue(l).sub(new Ue(.99).mul(f)),f)),[l]);return r>i?vb(d):d}var Fve=V4(Lve),Bve=V4(Vve),Uve="Invariant failed";function Ba(t,e){throw new Error(Uve)}var zve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}function Wve(t,e){return Kve(t)||Gve(t,e)||qve(t,e)||Hve()}function Hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qve(t,e){if(t){if(typeof t=="string")return zC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(t,e)}}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Kve(t){if(Array.isArray(t))return t}function Xve(t,e){if(t==null)return{};var n=Yve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q4(r.key),r)}}function Zve(t,e,n){return e&&Jve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e0e(t,e,n){return e=ag(e),t0e(t,W4()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function t0e(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0e(t)}function n0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W4=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function r0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function H4(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=i0e(t,"string");return $u(e)=="symbol"?e:e+""}function i0e(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dd=function(t){function e(){return Qve(this,e),e0e(this,e,arguments)}return r0e(e,t),Zve(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,u=r.data,l=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=Xve(r,zve),p=Oe(d,!1);this.props.direction==="x"&&c.type!=="number"&&Ba();var m=u.map(function(g){var y=l(g,s),v=y.x,w=y.y,_=y.value,S=y.errorVal;if(!S)return null;var x=[],A,b;if(Array.isArray(S)){var T=Wve(S,2);A=T[0],b=T[1]}else A=b=S;if(o==="vertical"){var P=c.scale,O=w+i,k=O+a,N=O-a,C=P(_-A),R=P(_+b);x.push({x1:R,y1:k,x2:R,y2:N}),x.push({x1:C,y1:O,x2:R,y2:O}),x.push({x1:C,y1:k,x2:C,y2:N})}else if(o==="horizontal"){var V=f.scale,$=v+i,F=$-a,D=$+a,B=V(_-A),U=V(_+b);x.push({x1:F,y1:U,x2:D,y2:U}),x.push({x1:$,y1:B,x2:$,y2:U}),x.push({x1:F,y1:B,x2:D,y2:B})}return z.createElement(yt,og({className:"recharts-errorBar",key:"bar-".concat(x.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),x.map(function(q){return z.createElement("line",og({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return z.createElement(yt,{className:"recharts-errorBars"},m)}}])}(z.Component);H4(Dd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});H4(Dd,"displayName","ErrorBar");function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){o0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o0e(t,e,n){return e=a0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0e(t){var e=s0e(t,"string");return Lf(e)=="symbol"?e:e+""}function s0e(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G4=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Rn(n,ru);if(!a)return null;var s=ru.defaultProps,u=s!==void 0?Jo(Jo({},s),a.props):{},l;return a.props&&a.props.payload?l=a.props&&a.props.payload:o==="children"?l=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):l=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Jo(Jo({},d),f.props):{},m=p.dataKey,g=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:u.iconType||y||"square",color:lS(f),value:g||m,payload:p}}),Jo(Jo(Jo({},u),ru.getWithHeight(a,i)),{},{payload:l,item:a})};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function HC(t){return f0e(t)||c0e(t)||l0e(t)||u0e()}function u0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0e(t,e){if(t){if(typeof t=="string")return Eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eb(t,e)}}function c0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f0e(t){if(Array.isArray(t))return Eb(t)}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){iu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iu(t,e,n){return e=d0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d0e(t){var e=h0e(t,"string");return Vf(e)=="symbol"?e:e+""}function h0e(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Un(t,e,n){return Pe(t)||Pe(e)?n:kt(e)?nr(t,e,n):Se(e)?e(t):n}function Lc(t,e,n,r){var i=cve(t,function(s){return Un(s,e)});if(n==="number"){var o=i.filter(function(s){return ae(s)||parseFloat(s)});return o.length?[rv(o),nv(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Pe(s)}):i;return a.map(function(s){return kt(s)||s instanceof Date?s:""})}var p0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var u=o.range,l=0;l<s;l++){var c=l>0?i[l-1].coordinate:i[s-1].coordinate,f=i[l].coordinate,d=l>=s-1?i[0].coordinate:i[l+1].coordinate,p=void 0;if(Ar(f-c)!==Ar(d-f)){var m=[];if(Ar(d-f)===Ar(u[1]-u[0])){p=d;var g=f+u[1]-u[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var y=d+u[1]-u[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){a=i[l].index;break}}else{var w=Math.min(c,d),_=Math.max(c,d);if(e>(w+f)/2&&e<=(_+f)/2){a=i[l].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},lS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,u;switch(i){case"Line":u=a;break;case"Area":case"Radar":u=a&&a!=="none"?a:s;break;default:u=s;break}return u},m0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),u=0,l=s.length;u<l;u++)for(var c=o[s[u]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,y=m.cateAxisId,v=g.filter(function(b){return Si(b.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?ht(ht({},w),v[0].props):v[0].props,S=_.barSize,x=_[y];a[x]||(a[x]=[]);var A=Pe(S)?n:S;a[x].push({item:v[0],stackList:v.slice(1),barSize:Pe(A)?void 0:Va(A,r,0)})}}return a},g0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,u=a.length;if(u<1)return null;var l=Va(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/u,m=a.reduce(function(S,x){return S+x.barSize||0},0);m+=(u-1)*l,m>=i&&(m-=(u-1)*l,l=0),m>=i&&p>0&&(d=!0,p*=.9,m=u*p);var g=(i-m)/2>>0,y={offset:g-l,size:0};c=a.reduce(function(S,x){var A={item:x.item,position:{offset:y.offset+y.size+l,size:d?p:x.barSize}},b=[].concat(HC(S),[A]);return y=b[b.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){b.push({item:T,position:y})}),b},f)}else{var v=Va(r,i,0,!0);i-2*v-(u-1)*l<=0&&(l=0);var w=(i-2*v-(u-1)*l)/u;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;c=a.reduce(function(S,x,A){var b=[].concat(HC(S),[{item:x.item,position:{offset:v+(w+l)*A+(w-_)/2,size:_}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){b.push({item:T,position:b[b.length-1].position})}),b},f)}return c},y0e=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,u=a-(s.left||0)-(s.right||0),l=G4({children:o,legendWidth:u});if(l){var c=i||{},f=c.width,d=c.height,p=l.align,m=l.verticalAlign,g=l.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ae(e[p]))return ht(ht({},e),{},iu({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ae(e[m]))return ht(ht({},e),{},iu({},m,e[m]+(d||0)))}return e},v0e=function(e,n,r){return Pe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},K4=function(e,n,r,i,o){var a=n.props.children,s=rr(a,Dd).filter(function(l){return v0e(i,o,l.props.direction)});if(s&&s.length){var u=s.map(function(l){return l.props.dataKey});return e.reduce(function(l,c){var f=Un(c,r);if(Pe(f))return l;var d=Array.isArray(f)?[rv(f),nv(f)]:[f,f],p=u.reduce(function(m,g){var y=Un(c,g,0),v=d[0]-Math.abs(Array.isArray(y)?y[0]:y),w=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],l[0]),Math.max(p[1],l[1])]},[1/0,-1/0])}return null},_0e=function(e,n,r,i,o){var a=n.map(function(s){return K4(e,s,r,o,i)}).filter(function(s){return!Pe(s)});return a&&a.length?a.reduce(function(s,u){return[Math.min(s[0],u[0]),Math.max(s[1],u[1])]},[1/0,-1/0]):null},X4=function(e,n,r,i,o){var a=n.map(function(u){var l=u.props.dataKey;return r==="number"&&l&&K4(e,u,l,i)||Lc(e,l,r,o)});if(r==="number")return a.reduce(function(u,l){return[Math.min(u[0],l[0]),Math.max(u[1],l[1])]},[1/0,-1/0]);var s={};return a.reduce(function(u,l){for(var c=0,f=l.length;c<f;c++)s[l[c]]||(s[l[c]]=!0,u.push(l[c]));return u},[])},Y4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Q4=function(e,n,r,i){if(i)return e.map(function(u){return u.coordinate});var o,a,s=e.map(function(u){return u.coordinate===n&&(o=!0),u.coordinate===r&&(a=!0),u.coordinate});return o||s.push(n),a||s.push(r),s},bi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;if(l=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ar(s[0]-s[1])*2*l:l,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+l,value:f,offset:l}});return c.filter(function(f){return!Cd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+l,value:f,index:d,offset:l}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+l,value:f,offset:l}}):i.domain().map(function(f,d){return{coordinate:i(f)+l,value:o?o[f]:f,index:d,offset:l}})},G0=new WeakMap,ep=function(e,n){if(typeof n!="function")return e;G0.has(e)||G0.set(e,new WeakMap);var r=G0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},w0e=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Mf(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:eg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jc(),realScaleType:"point"}:o==="category"?{scale:Mf(),realScaleType:"band"}:{scale:eg(),realScaleType:"linear"};if(Od(i)){var u="scale".concat(zy(i));return{scale:(VC[u]||jc)(),realScaleType:VC[u]?u:"point"}}return Se(i)?{scale:i}:{scale:jc(),realScaleType:"point"}},GC=1e-4,b0e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-GC,a=Math.max(i[0],i[1])+GC,s=e(n[0]),u=e(n[r-1]);(s<o||s>a||u<o||u>a)&&e.domain([n[0],n[r-1]])}},E0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},x0e=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(o[0]=r),(!ae(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},S0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var u=Cd(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=o,e[s][r][1]=o+u,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1])}},T0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Cd(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},A0e={sign:S0e,expand:cae,none:Pu,silhouette:fae,wiggle:dae,positive:T0e},P0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=A0e[r],a=lae().keys(i).value(function(s,u){return+Un(s,u,0)}).order(Xw).offset(o);return a(e)},I0e=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,u={},l=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ht(ht({},d.type.defaultProps),d.props):d.props,g=m.stackId,y=m.hide;if(y)return f;var v=m[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(kt(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(d),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[kd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return ht(ht({},f),{},iu({},v,w))},u),c={};return Object.keys(l).reduce(function(f,d){var p=l[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var v=p.stackGroups[y];return ht(ht({},g),{},iu({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:P0e(e,v.items,o)}))},m)}return ht(ht({},f),{},iu({},d,p))},c)},O0e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=Fve(l,o,s);return e.domain([rv(c),nv(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=Bve(f,o,s);return{niceTicks:d}}return null};function KC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pe(i[e.dataKey])){var s=Mm(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var u=Un(i,Pe(a)?e.dataKey:a);return Pe(u)?null:e.scale(u)}var XC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var u=Un(a,n.dataKey,n.domain[s]);return Pe(u)?null:n.scale(u)-o/2+i},C0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},k0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(kt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},N0e=function(e){return e.reduce(function(n,r){return[rv(r.concat([n[0]]).filter(ae)),nv(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},J4=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,u=s.reduce(function(l,c){var f=N0e(c.slice(n,r+1));return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xb=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(YC.test(e[0])){var o=+YC.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(QC.test(e[1])){var a=+QC.exec(e[1])[1];i[1]=n[1]+a}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},sg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=F1(n,function(f){return f.coordinate}),a=1/0,s=1,u=o.length;s<u;s++){var l=o[s],c=o[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},JC=function(e,n,r){return!e||!e.length||iv(e,nr(r,"type.defaultProps.domain"))?n:e},Z4=function(e,n){var r=e.type.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,u=r.tooltipType,l=r.chartType,c=r.hide;return ht(ht({},Oe(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:lS(e),value:Un(n,i),type:u,payload:n,chartType:l,hide:c})};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){R0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R0e(t,e,n){return e=M0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0e(t){var e=$0e(t,"string");return Ff(e)=="symbol"?e:e+""}function $0e(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ug=Math.PI/180,D0e=function(e){return e*180/Math.PI},Wt=function(e,n,r,i){return{x:e+Math.cos(-ug*i)*r,y:n+Math.sin(-ug*i)*r}},j0e=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},L0e=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=j0e({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var u=(r-o)/s,l=Math.acos(u);return i>a&&(l=2*Math.PI-l),{radius:s,angle:D0e(l),angleInRadian:l}},V0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},F0e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},tk=function(e,n){var r=e.x,i=e.y,o=L0e({x:r,y:i},n),a=o.radius,s=o.angle,u=n.innerRadius,l=n.outerRadius;if(a<u||a>l)return!1;if(a===0)return!0;var c=V0e(n),f=c.startAngle,d=c.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?ek(ek({},n),{},{radius:a,angle:F0e(p,n)}):null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var B0e=["offset"];function U0e(t){return q0e(t)||H0e(t)||W0e(t)||z0e()}function z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W0e(t,e){if(t){if(typeof t=="string")return Sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(t,e)}}function H0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q0e(t){if(Array.isArray(t))return Sb(t)}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G0e(t,e){if(t==null)return{};var n=K0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){X0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X0e(t,e,n){return e=Y0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0e(t){var e=Q0e(t,"string");return Bf(e)=="symbol"?e:e+""}function Q0e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}var J0e=function(e){var n=e.value,r=e.formatter,i=Pe(e.children)?n:e.children;return Se(r)?r(i):i},Z0e=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},e_e=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,u=o,l=u.cx,c=u.cy,f=u.innerRadius,d=u.outerRadius,p=u.startAngle,m=u.endAngle,g=u.clockWise,y=(f+d)/2,v=Z0e(p,m),w=v>=0?1:-1,_,S;i==="insideStart"?(_=p+w*a,S=g):i==="insideEnd"?(_=m-w*a,S=!g):i==="end"&&(_=m+w*a,S=g),S=v<=0?S:!S;var x=Wt(l,c,y,_),A=Wt(l,c,y,_+(S?1:-1)*359),b="M".concat(x.x,",").concat(x.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),T=Pe(e.id)?kd("recharts-radial-line-"):e.id;return z.createElement("text",Uf({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",s)}),z.createElement("defs",null,z.createElement("path",{id:T,d:b})),z.createElement("textPath",{xlinkHref:"#".concat(T)},n))},t_e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,u=o.innerRadius,l=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Wt(a,s,l+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(u+l)/2,v=Wt(a,s,y,d),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},n_e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,u=a.y,l=a.width,c=a.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=l>=0?1:-1,y=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var _={x:s+l/2,y:u-f*i,textAnchor:"middle",verticalAnchor:p};return It(It({},_),r?{height:Math.max(u-r.y,0),width:l}:{})}if(o==="bottom"){var S={x:s+l/2,y:u+c+d,textAnchor:"middle",verticalAnchor:m};return It(It({},S),r?{height:Math.max(r.y+r.height-(u+c),0),width:l}:{})}if(o==="left"){var x={x:s-y,y:u+c/2,textAnchor:v,verticalAnchor:"middle"};return It(It({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:s+l+y,y:u+c/2,textAnchor:w,verticalAnchor:"middle"};return It(It({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return o==="insideLeft"?It({x:s+y,y:u+c/2,textAnchor:w,verticalAnchor:"middle"},b):o==="insideRight"?It({x:s+l-y,y:u+c/2,textAnchor:v,verticalAnchor:"middle"},b):o==="insideTop"?It({x:s+l/2,y:u+d,textAnchor:"middle",verticalAnchor:m},b):o==="insideBottom"?It({x:s+l/2,y:u+c-d,textAnchor:"middle",verticalAnchor:p},b):o==="insideTopLeft"?It({x:s+y,y:u+d,textAnchor:w,verticalAnchor:m},b):o==="insideTopRight"?It({x:s+l-y,y:u+d,textAnchor:v,verticalAnchor:m},b):o==="insideBottomLeft"?It({x:s+y,y:u+c-d,textAnchor:w,verticalAnchor:p},b):o==="insideBottomRight"?It({x:s+l-y,y:u+c-d,textAnchor:v,verticalAnchor:p},b):sl(o)&&(ae(o.x)||ha(o.x))&&(ae(o.y)||ha(o.y))?It({x:s+Va(o.x,l),y:u+Va(o.y,c),textAnchor:"end",verticalAnchor:"end"},b):It({x:s+l/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)},r_e=function(e){return"cx"in e&&ae(e.cx)};function on(t){var e=t.offset,n=e===void 0?5:e,r=G0e(t,B0e),i=It({offset:n},r),o=i.viewBox,a=i.position,s=i.value,u=i.children,l=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Pe(s)&&Pe(u)&&!L.isValidElement(l)&&!Se(l))return null;if(L.isValidElement(l))return L.cloneElement(l,i);var p;if(Se(l)){if(p=L.createElement(l,i),L.isValidElement(p))return p}else p=J0e(i);var m=r_e(o),g=Oe(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return e_e(i,p,g);var y=m?t_e(i):n_e(i);return z.createElement(Ym,Uf({className:De("recharts-label",f)},g,y,{breakAll:d}),p)}on.displayName="Label";var eF=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,u=e.radius,l=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,y=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(ae(g)&&ae(y)){if(ae(f)&&ae(d))return{x:f,y:d,width:g,height:y};if(ae(p)&&ae(m))return{x:p,y:m,width:g,height:y}}return ae(f)&&ae(d)?{x:f,y:d,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:l||0,outerRadius:c||u||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},i_e=function(e,n){return e?e===!0?z.createElement(on,{key:"label-implicit",viewBox:n}):kt(e)?z.createElement(on,{key:"label-implicit",viewBox:n,value:e}):L.isValidElement(e)?e.type===on?L.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(on,{key:"label-implicit",content:e,viewBox:n}):Se(e)?z.createElement(on,{key:"label-implicit",content:e,viewBox:n}):sl(e)?z.createElement(on,Uf({viewBox:n},e,{key:"label-implicit"})):null:null},o_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=eF(e),a=rr(i,on).map(function(u,l){return L.cloneElement(u,{viewBox:n||o,key:"label-".concat(l)})});if(!r)return a;var s=i_e(e.label,n||o);return[s].concat(U0e(a))};on.parseViewBox=eF;on.renderCallByParent=o_e;function a_e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var s_e=a_e;const u_e=ze(s_e);function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}var l_e=["valueAccessor"],c_e=["data","dataKey","clockWise","id","textBreakAll"];function f_e(t){return m_e(t)||p_e(t)||h_e(t)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_e(t,e){if(t){if(typeof t=="string")return Tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tb(t,e)}}function p_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m_e(t){if(Array.isArray(t))return Tb(t)}function Tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){g_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_e(t,e,n){return e=y_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y_e(t){var e=v_e(t,"string");return zf(e)=="symbol"?e:e+""}function v_e(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ok(t,e){if(t==null)return{};var n=__e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function __e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var w_e=function(e){return Array.isArray(e.value)?u_e(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?w_e:e,r=ok(t,l_e),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,u=r.textBreakAll,l=ok(r,c_e);return!i||!i.length?null:z.createElement(yt,{className:"recharts-label-list"},i.map(function(c,f){var d=Pe(o)?n(c,f):Un(c&&c.payload,o),p=Pe(s)?{}:{id:"".concat(s,"-").concat(f)};return z.createElement(on,lg({},Oe(c,!0),l,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:u,viewBox:on.parseViewBox(Pe(a)?c:ik(ik({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}ko.displayName="LabelList";function b_e(t,e){return t?t===!0?z.createElement(ko,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Se(t)?z.createElement(ko,{key:"labelList-implicit",data:e,content:t}):sl(t)?z.createElement(ko,lg({data:e},t,{key:"labelList-implicit"})):null:null}function E_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=rr(r,ko).map(function(a,s){return L.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=b_e(t.label,e);return[o].concat(f_e(i))}ko.renderCallByParent=E_e;function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){x_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x_e(t,e,n){return e=S_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_e(t){var e=T_e(t,"string");return Wf(e)=="symbol"?e:e+""}function T_e(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A_e=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},tp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,u=e.cornerRadius,l=e.cornerIsExternal,c=u*(s?1:-1)+i,f=Math.asin(u/c)/ug,d=l?o:o+a*f,p=Wt(n,r,c,d),m=Wt(n,r,i,d),g=l?o-a*f:o,y=Wt(n,r,c*Math.cos(f*ug),g);return{center:p,circleTangency:m,lineTangency:y,theta:f}},tF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,u=A_e(a,s),l=a+u,c=Wt(n,r,o,a),f=Wt(n,r,o,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>l),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Wt(n,r,i,a),m=Wt(n,r,i,l);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},P_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,u=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,f=Ar(c-l),d=tp({cx:n,cy:r,radius:o,angle:l,sign:f,cornerRadius:a,cornerIsExternal:u}),p=d.circleTangency,m=d.lineTangency,g=d.theta,y=tp({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:u}),v=y.circleTangency,w=y.lineTangency,_=y.theta,S=u?Math.abs(l-c):Math.abs(l-c)-g-_;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):tF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=tp({cx:n,cy:r,radius:i,angle:l,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),b=A.circleTangency,T=A.lineTangency,P=A.theta,O=tp({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),k=O.circleTangency,N=O.lineTangency,C=O.theta,R=u?Math.abs(l-c):Math.abs(l-c)-P-C;if(R<0&&a===0)return"".concat(x,"L").concat(n,",").concat(r,"Z");x+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else x+="L".concat(n,",").concat(r,"Z");return x},I_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nF=function(e){var n=sk(sk({},I_e),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,u=n.forceCornerRadius,l=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var p=De("recharts-sector",d),m=a-o,g=Va(s,m,0,!0),y;return g>0&&Math.abs(c-f)<360?y=P_e({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:u,cornerIsExternal:l,startAngle:c,endAngle:f}):y=tF({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),z.createElement("path",Ab({},Oe(n,!0),{className:p,d:y,role:"img"}))};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){O_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O_e(t,e,n){return e=C_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C_e(t){var e=k_e(t,"string");return Hf(e)=="symbol"?e:e+""}function k_e(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ck={curveBasisClosed:Joe,curveBasisOpen:Zoe,curveBasis:Qoe,curveBumpX:joe,curveBumpY:Loe,curveLinearClosed:eae,curveLinear:Hy,curveMonotoneX:tae,curveMonotoneY:nae,curveNatural:rae,curveStep:iae,curveStepAfter:aae,curveStepBefore:oae},np=function(e){return e.x===+e.x&&e.y===+e.y},ec=function(e){return e.x},tc=function(e){return e.y},N_e=function(e,n){if(Se(e))return e;var r="curve".concat(zy(e));return(r==="curveMonotone"||r==="curveBump")&&n?ck["".concat(r).concat(n==="vertical"?"Y":"X")]:ck[r]||Hy},R_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,u=e.connectNulls,l=u===void 0?!1:u,c=N_e(r,s),f=l?o.filter(function(g){return np(g)}):o,d;if(Array.isArray(a)){var p=l?a.filter(function(g){return np(g)}):a,m=f.map(function(g,y){return lk(lk({},g),{},{base:p[y]})});return s==="vertical"?d=Kh().y(tc).x1(ec).x0(function(g){return g.base.x}):d=Kh().x(ec).y1(tc).y0(function(g){return g.base.y}),d.defined(np).curve(c),d(m)}return s==="vertical"&&ae(a)?d=Kh().y(tc).x1(ec).x0(a):ae(a)?d=Kh().x(ec).y1(tc).y0(a):d=oV().x(ec).y(tc),d.defined(np).curve(c),d(f)},Ib=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?R_e(e):i;return z.createElement("path",Pb({},Oe(e,!1),$m(e),{className:De("recharts-curve",n),d:a,ref:o}))},rF={exports:{}},M_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$_e=M_e,D_e=$_e;function iF(){}function oF(){}oF.resetWarningCache=iF;var j_e=function(){function t(r,i,o,a,s,u){if(u!==D_e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oF,resetWarningCache:iF};return n.PropTypes=n,n};rF.exports=j_e();var L_e=rF.exports;const Le=ze(L_e);var V_e=Object.getOwnPropertyNames,F_e=Object.getOwnPropertySymbols,B_e=Object.prototype.hasOwnProperty;function fk(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function rp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var u=t(n,r,i);return o.delete(n),o.delete(r),u}}function dk(t){return V_e(t).concat(F_e(t))}var U_e=Object.hasOwn||function(t,e){return B_e.call(t,e)};function rs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var z_e="__v",W_e="__o",H_e="_owner",hk=Object.getOwnPropertyDescriptor,pk=Object.keys;function q_e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function G_e(t,e){return rs(t.getTime(),e.getTime())}function K_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function X_e(t,e){return t===e}function mk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,u=0;(a=o.next())&&!a.done;){for(var l=e.entries(),c=!1,f=0;(s=l.next())&&!s.done;){if(i[f]){f++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],u,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;u++}return!0}var Y_e=rs;function Q_e(t,e,n){var r=pk(t),i=r.length;if(pk(e).length!==i)return!1;for(;i-- >0;)if(!aF(t,e,n,r[i]))return!1;return!0}function nc(t,e,n){var r=dk(t),i=r.length;if(dk(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!aF(t,e,n,o)||(a=hk(t,o),s=hk(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function J_e(t,e){return rs(t.valueOf(),e.valueOf())}function Z_e(t,e){return t.source===e.source&&t.flags===e.flags}function gk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var u=e.values(),l=!1,c=0;(s=u.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){l=i[c]=!0;break}c++}if(!l)return!1}return!0}function ewe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function twe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aF(t,e,n,r){return(r===H_e||r===W_e||r===z_e)&&(t.$$typeof||e.$$typeof)?!0:U_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var nwe="[object Arguments]",rwe="[object Boolean]",iwe="[object Date]",owe="[object Error]",awe="[object Map]",swe="[object Number]",uwe="[object Object]",lwe="[object RegExp]",cwe="[object Set]",fwe="[object String]",dwe="[object URL]",hwe=Array.isArray,yk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vk=Object.assign,pwe=Object.prototype.toString.call.bind(Object.prototype.toString);function mwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,g,y){if(m===g)return!0;if(m==null||g==null)return!1;var v=typeof m;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?a(m,g,y):v==="function"?i(m,g,y):!1;var w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return s(m,g,y);if(hwe(m))return e(m,g,y);if(yk!=null&&yk(m))return f(m,g,y);if(w===Date)return n(m,g,y);if(w===RegExp)return l(m,g,y);if(w===Map)return o(m,g,y);if(w===Set)return c(m,g,y);var _=pwe(m);return _===iwe?n(m,g,y):_===lwe?l(m,g,y):_===awe?o(m,g,y):_===cwe?c(m,g,y):_===uwe?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,y):_===dwe?d(m,g,y):_===owe?r(m,g,y):_===nwe?s(m,g,y):_===rwe||_===swe||_===fwe?u(m,g,y):!1}}function gwe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nc:q_e,areDatesEqual:G_e,areErrorsEqual:K_e,areFunctionsEqual:X_e,areMapsEqual:r?fk(mk,nc):mk,areNumbersEqual:Y_e,areObjectsEqual:r?nc:Q_e,arePrimitiveWrappersEqual:J_e,areRegExpsEqual:Z_e,areSetsEqual:r?fk(gk,nc):gk,areTypedArraysEqual:r?nc:ewe,areUrlsEqual:twe};if(n&&(i=vk({},i,n(i))),e){var o=rp(i.areArraysEqual),a=rp(i.areMapsEqual),s=rp(i.areObjectsEqual),u=rp(i.areSetsEqual);i=vk({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:u})}return i}function ywe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function vwe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(u,l){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(u,l,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(u,l){return n(u,l,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(u,l){return n(u,l,a)}}var _we=Wo();Wo({strict:!0});Wo({circular:!0});Wo({circular:!0,strict:!0});Wo({createInternalComparator:function(){return rs}});Wo({strict:!0,createInternalComparator:function(){return rs}});Wo({circular:!0,createInternalComparator:function(){return rs}});Wo({circular:!0,createInternalComparator:function(){return rs},strict:!0});function Wo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=gwe(t),u=mwe(s),l=r?r(u):ywe(u);return vwe({circular:n,comparator:u,createState:i,equals:l,strict:a})}function wwe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _k(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):wwe(i)};requestAnimationFrame(r)}function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}function bwe(t){return Twe(t)||Swe(t)||xwe(t)||Ewe()}function Ewe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xwe(t,e){if(t){if(typeof t=="string")return wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Swe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Twe(t){if(Array.isArray(t))return t}function Awe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=bwe(a),u=s[0],l=s.slice(1);if(typeof u=="number"){_k(i.bind(null,l),u);return}i(u),_k(i.bind(null,l));return}Ob(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){sF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sF(t,e,n){return e=Pwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pwe(t){var e=Iwe(t,"string");return qf(e)==="symbol"?e:String(e)}function Iwe(t,e){if(qf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Owe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Cwe=function(e){return e},kwe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vc=function(e,n){return Object.keys(n).reduce(function(r,i){return Ek(Ek({},r),{},sF({},i,e(i,n[i])))},{})},xk=function(e,n,r){return e.map(function(i){return"".concat(kwe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Nwe(t,e){return $we(t)||Mwe(t,e)||uF(t,e)||Rwe()}function Rwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function $we(t){if(Array.isArray(t))return t}function Dwe(t){return Vwe(t)||Lwe(t)||uF(t)||jwe()}function jwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uF(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function Lwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vwe(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cg=1e-4,lF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Sk=function(e,n){return function(r){var i=lF(e,n);return cF(i,r)}},Fwe=function(e,n){return function(r){var i=lF(e,n),o=[].concat(Dwe(i.map(function(a,s){return a*s}).slice(1)),[0]);return cF(o,r)}},Tk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var l=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=Nwe(l,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=Sk(i,a),d=Sk(o,s),p=Fwe(i,a),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,_=w,S=0;S<8;++S){var x=f(_)-w,A=p(_);if(Math.abs(x-w)<cg||A<cg)return d(_);_=m(_-x/A)}return d(_)};return g.isStepper=!1,g},Bwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,u=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*s/1e3,y=d*s/1e3+c;return Math.abs(y-f)<cg&&Math.abs(g)<cg?[f,0]:[y,g]};return u.isStepper=!0,u.dt=s,u},Uwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Tk(i);case"spring":return Bwe();default:if(i.split("(")[0]==="cubic-bezier")return Tk(i)}return typeof i=="function"?i:null};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Ak(t){return Hwe(t)||Wwe(t)||fF(t)||zwe()}function zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hwe(t){if(Array.isArray(t))return Nb(t)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){kb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kb(t,e,n){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Gwe(t,"string");return Gf(e)==="symbol"?e:String(e)}function Gwe(t,e){if(Gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kwe(t,e){return Qwe(t)||Ywe(t,e)||fF(t,e)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(t,e){if(t){if(typeof t=="string")return Nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nb(t,e)}}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ywe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function Qwe(t){if(Array.isArray(t))return t}var fg=function(e,n,r){return e+(n-e)*r},Rb=function(e){var n=e.from,r=e.to;return n!==r},Jwe=function t(e,n,r){var i=Vc(function(o,a){if(Rb(a)){var s=e(a.from,a.to,a.velocity),u=Kwe(s,2),l=u[0],c=u[1];return Ft(Ft({},a),{},{from:l,velocity:c})}return a},n);return r<1?Vc(function(o,a){return Rb(a)?Ft(Ft({},a),{},{velocity:fg(a.velocity,i[o].velocity,r),from:fg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Zwe=function(t,e,n,r,i){var o=Owe(t,e),a=o.reduce(function(y,v){return Ft(Ft({},y),{},kb({},v,[t[v],e[v]]))},{}),s=o.reduce(function(y,v){return Ft(Ft({},y),{},kb({},v,{from:t[v],velocity:0,to:e[v]}))},{}),u=-1,l,c,f=function(){return null},d=function(){return Vc(function(v,w){return w.from},s)},p=function(){return!Object.values(s).filter(Rb).length},m=function(v){l||(l=v);var w=v-l,_=w/n.dt;s=Jwe(n,s,_),i(Ft(Ft(Ft({},t),e),d())),l=v,p()||(u=requestAnimationFrame(f))},g=function(v){c||(c=v);var w=(v-c)/r,_=Vc(function(x,A){return fg.apply(void 0,Ak(A).concat([n(w)]))},a);if(i(Ft(Ft(Ft({},t),e),_)),w<1)u=requestAnimationFrame(f);else{var S=Vc(function(x,A){return fg.apply(void 0,Ak(A).concat([n(1)]))},a);i(Ft(Ft(Ft({},t),e),S))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}};function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}var ebe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tbe(t,e){if(t==null)return{};var n=nbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function K0(t){return abe(t)||obe(t)||ibe(t)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ibe(t,e){if(t){if(typeof t=="string")return Mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mb(t,e)}}function obe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function abe(t){if(Array.isArray(t))return Mb(t)}function Mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){yc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yc(t,e,n){return e=dF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ube(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dF(r.key),r)}}function lbe(t,e,n){return e&&ube(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dF(t){var e=cbe(t,"string");return Du(e)==="symbol"?e:String(e)}function cbe(t,e){if(Du(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$b(t,e)}function $b(t,e){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$b(t,e)}function dbe(t){var e=hbe();return function(){var r=dg(t),i;if(e){var o=dg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Db(this,i)}}function Db(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jb(t)}function jb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}var Vi=function(t){fbe(n,t);var e=dbe(n);function n(r,i){var o;sbe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,u=a.attributeName,l=a.from,c=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(jb(o)),o.changeStyle=o.changeStyle.bind(jb(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),Db(o);if(f&&f.length)o.state={style:f[0].style};else if(l){if(typeof d=="function")return o.state={style:l},Db(o);o.state={style:u?yc({},u,l):l}}else o.state={style:{}};return o}return lbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,u=o.attributeName,l=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:u?yc({},u,c):c};this.state&&d&&(u&&d[u]!==c||!u&&d!==c)&&this.setState(p);return}if(!(_we(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||l?f:i.to;if(this.state&&d){var y={style:u?yc({},u,g):g};(u&&d[u]!==g||!u&&d!==g)&&this.setState(y)}this.runAnimation(pr(pr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,u=i.duration,l=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Zwe(a,s,Uwe(l),u,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,u,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,u=i.onAnimationStart,l=a[0],c=l.style,f=l.duration,d=f===void 0?0:f,p=function(g,y,v){if(v===0)return g;var w=y.duration,_=y.easing,S=_===void 0?"ease":_,x=y.style,A=y.properties,b=y.onAnimationEnd,T=v>0?a[v-1]:y,P=A||Object.keys(x);if(typeof S=="function"||S==="spring")return[].concat(K0(g),[o.runJSAnimation.bind(o,{from:T.style,to:x,duration:w,easing:S}),w]);var O=xk(P,w,S),k=pr(pr(pr({},T.style),x),{},{transition:O});return[].concat(K0(g),[k,w,b]).filter(Cwe)};return this.manager.start([u].concat(K0(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Awe());var o=i.begin,a=i.duration,s=i.attributeName,u=i.to,l=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof l=="function"||typeof p=="function"||l==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?yc({},s,u):u,y=xk(Object.keys(g),a,l);m.start([c,o,pr(pr({},g),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=tbe(i,ebe),l=L.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||l===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,v=m.className,w=L.cloneElement(p,pr(pr({},u),{},{style:pr(pr({},y),c),className:v}));return w};return l===1?f(L.Children.only(o)):z.createElement("div",null,L.Children.map(o,function(d){return f(d)}))}}]),n}(L.PureComponent);Vi.displayName="Animate";Vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vi.propTypes={from:Le.oneOfType([Le.object,Le.string]),to:Le.oneOfType([Le.object,Le.string]),attributeName:Le.string,duration:Le.number,begin:Le.number,easing:Le.oneOfType([Le.string,Le.func]),steps:Le.arrayOf(Le.shape({duration:Le.number.isRequired,style:Le.object.isRequired,easing:Le.oneOfType([Le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Le.func]),properties:Le.arrayOf("string"),onAnimationEnd:Le.func})),children:Le.oneOfType([Le.node,Le.func]),isActive:Le.bool,canBegin:Le.bool,onAnimationEnd:Le.func,shouldReAnimate:Le.bool,onAnimationStart:Le.func,onAnimationReStart:Le.func};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function pbe(t,e){return vbe(t)||ybe(t,e)||gbe(t,e)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t,e){if(t){if(typeof t=="string")return Ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(t,e)}}function Ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ybe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function vbe(t){if(Array.isArray(t))return t}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){_be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _be(t,e,n){return e=wbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wbe(t){var e=bbe(t,"string");return Kf(e)=="symbol"?e:e+""}function bbe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nk=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,u=r>=0?1:-1,l=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(l,",").concat(e+u*f[0],",").concat(n)),c+="L ".concat(e+r-u*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(l,`,
        `).concat(e+r-u*f[2],",").concat(n+i)),c+="L ".concat(e+u*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+u*m,",").concat(n,`
            L `).concat(e+r-u*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-u*m,",").concat(n+i,`
            L `).concat(e+u*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Ebe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,u=n.height;if(Math.abs(s)>0&&Math.abs(u)>0){var l=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+u),d=Math.max(a,a+u);return r>=l&&r<=c&&i>=f&&i<=d}return!1},xbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cS=function(e){var n=kk(kk({},xbe),e),r=L.useRef(),i=L.useState(-1),o=pbe(i,2),a=o[0],s=o[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var u=n.x,l=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var _=De("recharts-rectangle",p);return w?z.createElement(Vi,{canBegin:a>0,from:{width:c,height:f,x:u,y:l},to:{width:c,height:f,x:u,y:l},duration:g,animationEasing:m,isActive:w},function(S){var x=S.width,A=S.height,b=S.x,T=S.y;return z.createElement(Vi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:m},z.createElement("path",hg({},Oe(n,!0),{className:_,d:Nk(b,T,x,A,d),ref:r})))}):z.createElement("path",hg({},Oe(n,!0),{className:_,d:Nk(u,l,c,f,d)}))};function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}var fS=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=De("recharts-dot",o);return n===+n&&r===+r&&i===+i?z.createElement("circle",Lb({},Oe(e,!1),$m(e),{className:a,cx:n,cy:r,r:i})):null};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}var Sbe=["x","y","top","left","width","height","className"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){Abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Abe(t,e,n){return e=Pbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=Ibe(t,"string");return Xf(e)=="symbol"?e:e+""}function Ibe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Obe(t,e){if(t==null)return{};var n=Cbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kbe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Nbe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,u=e.left,l=u===void 0?0:u,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=Obe(e,Sbe),y=Tbe({x:r,y:o,top:s,left:l,width:f,height:p},g);return!ae(r)||!ae(o)||!ae(f)||!ae(p)||!ae(s)||!ae(l)?null:z.createElement("path",Vb({},Oe(y,!0),{className:De("recharts-cross",m),d:kbe(r,o,f,p,s,l)}))},Rbe=OV,Mbe=Rbe(Object.getPrototypeOf,Object),$be=Mbe,Dbe=Hi,jbe=$be,Lbe=qi,Vbe="[object Object]",Fbe=Function.prototype,Bbe=Object.prototype,hF=Fbe.toString,Ube=Bbe.hasOwnProperty,zbe=hF.call(Object);function Wbe(t){if(!Lbe(t)||Dbe(t)!=Vbe)return!1;var e=jbe(t);if(e===null)return!0;var n=Ube.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hF.call(n)==zbe}var Hbe=Wbe;const qbe=ze(Hbe);var Gbe=Hi,Kbe=qi,Xbe="[object Boolean]";function Ybe(t){return t===!0||t===!1||Kbe(t)&&Gbe(t)==Xbe}var Qbe=Ybe;const Jbe=ze(Qbe);function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function Zbe(t,e){return rEe(t)||nEe(t,e)||tEe(t,e)||eEe()}function eEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tEe(t,e){if(t){if(typeof t=="string")return Mk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mk(t,e)}}function Mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function rEe(t){if(Array.isArray(t))return t}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){iEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iEe(t,e,n){return e=oEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oEe(t){var e=aEe(t,"string");return Yf(e)=="symbol"?e:e+""}function aEe(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jk=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},sEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uEe=function(e){var n=Dk(Dk({},sEe),e),r=L.useRef(),i=L.useState(-1),o=Zbe(i,2),a=o[0],s=o[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var u=n.x,l=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var w=De("recharts-trapezoid",p);return v?z.createElement(Vi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:u,y:l},to:{upperWidth:c,lowerWidth:f,height:d,x:u,y:l},duration:g,animationEasing:m,isActive:v},function(_){var S=_.upperWidth,x=_.lowerWidth,A=_.height,b=_.x,T=_.y;return z.createElement(Vi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},z.createElement("path",pg({},Oe(n,!0),{className:w,d:jk(b,T,S,x,A),ref:r})))}):z.createElement("g",null,z.createElement("path",pg({},Oe(n,!0),{className:w,d:jk(u,l,c,f,d)})))},lEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function cEe(t,e){if(t==null)return{};var n=fEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){dEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dEe(t,e,n){return e=hEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hEe(t){var e=pEe(t,"string");return Qf(e)=="symbol"?e:e+""}function pEe(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mEe(t,e){return mg(mg({},e),t)}function gEe(t,e){return t==="symbols"}function Vk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(cS,n);case"trapezoid":return z.createElement(uEe,n);case"sector":return z.createElement(nF,n);case"symbols":if(gEe(e))return z.createElement(N1,n);break;default:return null}}function yEe(t){return L.isValidElement(t)?t.props:t}function vEe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?mEe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,u=cEe(t,lEe),l;if(L.isValidElement(e))l=L.cloneElement(e,mg(mg({},u),yEe(e)));else if(Se(e))l=e(u);else if(qbe(e)&&!Jbe(e)){var c=i(e,u);l=z.createElement(Vk,{shapeType:n,elementProps:c})}else{var f=u;l=z.createElement(Vk,{shapeType:n,elementProps:f})}return s?z.createElement(yt,{className:a},l):l}function sv(t,e){return e!=null&&"trapezoids"in t.props}function uv(t,e){return e!=null&&"sectors"in t.props}function Jf(t,e){return e!=null&&"points"in t.props}function _Ee(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function wEe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function bEe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function EEe(t,e){var n;return sv(t,e)?n=_Ee:uv(t,e)?n=wEe:Jf(t,e)&&(n=bEe),n}function xEe(t,e){var n;return sv(t,e)?n="trapezoids":uv(t,e)?n="sectors":Jf(t,e)&&(n="points"),n}function SEe(t,e){if(sv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(uv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Jf(t,e)?e.payload:{}}function TEe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=xEe(n,e),o=SEe(n,e),a=r.filter(function(u,l){var c=iv(o,u),f=n.props[i].filter(function(m){var g=EEe(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=l===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var AEe=Math.ceil,PEe=Math.max;function IEe(t,e,n,r){for(var i=-1,o=PEe(AEe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var OEe=IEe,CEe=KV,kEe=1/0,NEe=17976931348623157e292;function REe(t){if(!t)return t===0?t:0;if(t=CEe(t),t===kEe||t===-1/0){var e=t<0?-1:1;return e*NEe}return t===t?t:0}var pF=REe,MEe=OEe,$Ee=Xy,X0=pF;function DEe(t){return function(e,n,r){return r&&typeof r!="number"&&$Ee(e,n,r)&&(n=r=void 0),e=X0(e),n===void 0?(n=e,e=0):n=X0(n),r=r===void 0?e<n?1:-1:X0(r),MEe(e,n,r,t)}}var jEe=DEe,LEe=jEe,VEe=LEe(),FEe=VEe;const gg=ze(FEe);function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){mF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mF(t,e,n){return e=BEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BEe(t){var e=UEe(t,"string");return Zf(e)=="symbol"?e:e+""}function UEe(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zEe=["Webkit","Moz","O","ms"],WEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=zEe.reduce(function(o,a){return Bk(Bk({},o),{},mF({},a+r,n))},{});return i[e]=n,i};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yF(r.key),r)}}function qEe(t,e,n){return e&&zk(t.prototype,e),n&&zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GEe(t,e,n){return e=vg(e),KEe(t,gF()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function KEe(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(t)}function XEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function YEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fb(t,e)}function kn(t,e,n){return e=yF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yF(t){var e=QEe(t,"string");return ju(e)=="symbol"?e:e+""}function QEe(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,l=jc().domain(gg(0,u)).range([o,o+a-s]),c=l.domain().map(function(f){return l(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(i),scale:l,scaleValues:c}},Wk=function(e){return e.changedTouches&&!!e.changedTouches.length},Lu=function(t){function e(n){var r;return HEe(this,e),r=GEe(this,e,[n]),kn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),kn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),kn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),kn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),kn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),kn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),kn(r,"handleSlideDragStart",function(i){var o=Wk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return YEe(e,t),qEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,u=s.gap,l=s.data,c=l.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:p-p%u,endIndex:m===c?c:m-m%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,u=Un(o[r],s,r);return Se(a)?a(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,u=this.props,l=u.x,c=u.width,f=u.travellerWidth,d=u.startIndex,p=u.endIndex,m=u.onChange,g=r.pageX-o;g>0?g=Math.min(g,l+c-f-s,l+c-f-a):g<0&&(g=Math.max(g,l-a,l-s));var y=this.getIndex({startX:a+g,endX:s+g});(y.startIndex!==d||y.endIndex!==p)&&m&&m(y),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=Wk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,u=i.startX,l=this.state[a],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,y=c.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+d-p-l):w<0&&(w=Math.max(w,f-l)),v[a]=l+w;var _=this.getIndex(v),S=_.startIndex,x=_.endIndex,A=function(){var T=y.length-1;return a==="startX"&&(s>u?S%g===0:x%g===0)||s<u&&x===T||a==="endX"&&(s>u?x%g===0:S%g===0)||s>u&&x===T};this.setState(kn(kn({},a,l+w),"brushMoveStartX",r.pageX),function(){m&&A()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,u=a.startX,l=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=l||i==="endX"&&p<=u||this.setState(kn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.fill,l=r.stroke;return z.createElement("rect",{stroke:l,fill:u,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.data,l=r.children,c=r.padding,f=L.Children.only(l);return f?z.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,u=this.props,l=u.y,c=u.travellerWidth,f=u.height,d=u.traveller,p=u.ariaLabel,m=u.data,g=u.startIndex,y=u.endIndex,v=Math.max(r,this.props.x),w=Y0(Y0({},Oe(this.props,!1)),{},{x:v,y:l,width:c,height:f}),_=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[y])===null||a===void 0?void 0:a.name);return z.createElement(yt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,u=o.stroke,l=o.travellerWidth,c=Math.min(r,i)+l,f=Math.max(Math.abs(i-r)-l,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,u=r.travellerWidth,l=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:l};return z.createElement(yt,{className:"recharts-brush-texts"},z.createElement(Ym,yg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},m),this.getTextOfTick(i)),z.createElement(Ym,yg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+u+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,u=r.y,l=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,y=d.isSlideMoving,v=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!ae(s)||!ae(u)||!ae(l)||!ae(c)||l<=0||c<=0)return null;var _=De("recharts-brush",o),S=z.Children.count(a)===1,x=WEe("userSelect","none");return z.createElement(yt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,u=r.stroke,l=Math.floor(o+s/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:a,height:s,fill:u,stroke:"none"}),z.createElement("line",{x1:i+1,y1:l,x2:i+a-1,y2:l,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:l+2,x2:i+a-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,u=r.travellerWidth,l=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||l!==i.prevUpdateId)return Y0({prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:a},o&&o.length?JEe({data:o,width:a,x:s,travellerWidth:u,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([s,s+a-u]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var u=Math.floor((a+s)/2);r[u]>i?s=u:a=u}return i>=r[s]?s:a}}])}(L.PureComponent);kn(Lu,"displayName","Brush");kn(Lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ZEe=V1;function exe(t,e){var n;return ZEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var txe=exe,nxe=bV,rxe=Bo,ixe=txe,oxe=An,axe=Xy;function sxe(t,e,n){var r=oxe(t)?nxe:ixe;return n&&axe(t,e,n)&&(e=void 0),r(t,rxe(e))}var uxe=sxe;const lxe=ze(uxe);var Zr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Hk=zV;function cxe(t,e,n){e=="__proto__"&&Hk?Hk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fxe=cxe,dxe=fxe,hxe=BV,pxe=Bo;function mxe(t,e){var n={};return e=pxe(e),hxe(t,function(r,i,o){dxe(n,i,e(r,i,o))}),n}var gxe=mxe;const yxe=ze(gxe);function vxe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var _xe=vxe,wxe=V1;function bxe(t,e){var n=!0;return wxe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Exe=bxe,xxe=_xe,Sxe=Exe,Txe=Bo,Axe=An,Pxe=Xy;function Ixe(t,e,n){var r=Axe(t)?xxe:Sxe;return n&&Pxe(t,e,n)&&(e=void 0),r(t,Txe(e))}var Oxe=Ixe;const vF=ze(Oxe);var Cxe=["x","y"];function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(this,arguments)}function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){kxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kxe(t,e,n){return e=Nxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nxe(t){var e=Rxe(t,"string");return ed(e)=="symbol"?e:e+""}function Rxe(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mxe(t,e){if(t==null)return{};var n=$xe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $xe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dxe(t,e){var n=t.x,r=t.y,i=Mxe(t,Cxe),o="".concat(n),a=parseInt(o,10),s="".concat(r),u=parseInt(s,10),l="".concat(e.height||i.height),c=parseInt(l,10),f="".concat(e.width||i.width),d=parseInt(f,10);return rc(rc(rc(rc(rc({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function Gk(t){return z.createElement(vEe,Bb({shapeType:"rectangle",propTransformer:Dxe,activeClassName:"recharts-active-bar"},t))}var jxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Ba(),n)}},Lxe=["value","background"],_F;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function Vxe(t,e){if(t==null)return{};var n=Fxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){go(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bF(r.key),r)}}function Uxe(t,e,n){return e&&Xk(t.prototype,e),n&&Xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zxe(t,e,n){return e=wg(e),Wxe(t,wF()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function Wxe(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hxe(t)}function Hxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function qxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}function Ub(t,e){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ub(t,e)}function go(t,e,n){return e=bF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bF(t){var e=Gxe(t,"string");return Vu(e)=="symbol"?e:e+""}function Gxe(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jd=function(t){function e(){var n;Bxe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zxe(this,e,[].concat(i)),go(n,"state",{isAnimationFinished:!1}),go(n,"id",kd("recharts-bar-")),go(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),go(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return qxe(e,t),Uxe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,u=o.activeIndex,l=o.activeBar,c=Oe(this.props,!1);return r&&r.map(function(f,d){var p=d===u,m=p?l:a,g=bt(bt(bt({},c),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(yt,_g({className:"recharts-bar-rectangle"},Dm(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),z.createElement(Gk,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,u=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return z.createElement(Vi,{begin:u,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(y,v){var w=d&&d[v];if(w){var _=Er(w.x,y.x),S=Er(w.y,y.y),x=Er(w.width,y.width),A=Er(w.height,y.height);return bt(bt({},y),{},{x:_(m),y:S(m),width:x(m),height:A(m)})}if(a==="horizontal"){var b=Er(0,y.height),T=b(m);return bt(bt({},y),{},{y:y.y+y.height-T,height:T})}var P=Er(0,y.width),O=P(m);return bt(bt({},y),{},{width:O})});return z.createElement(yt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!iv(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,u=Oe(this.props.background,!1);return o.map(function(l,c){l.value;var f=l.background,d=Vxe(l,Lxe);if(!f)return null;var p=bt(bt(bt(bt(bt({},d),{},{fill:"#eee"},f),u),Dm(r.props,l,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return z.createElement(Gk,_g({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,u=o.yAxis,l=o.layout,c=o.children,f=rr(c,Dd);if(!f)return null;var d=l==="vertical"?a[0].height/2:a[0].width/2,p=function(y,v){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Un(y,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(yt,m,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:u,layout:l,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,u=r.yAxis,l=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,v=De("recharts-bar",a),w=s&&s.allowDataOverflow,_=u&&u.allowDataOverflow,S=w||_,x=Pe(g)?this.id:g;return z.createElement(yt,{className:v},w||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(x)},z.createElement("rect",{x:w?l:l-f/2,y:_?c:c-d/2,width:w?f:f*2,height:_?d:d*2}))):null,z.createElement(yt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!p||y)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(L.PureComponent);_F=jd;go(jd,"displayName","Bar");go(jd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});go(jd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,u=t.yAxisTicks,l=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=E0e(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?bt(bt({},g),n.props):n.props,v=y.dataKey,w=y.children,_=y.minPointSize,S=m==="horizontal"?a:o,x=l?S.scale.domain():null,A=C0e({numericAxis:S}),b=rr(w,YV),T=f.map(function(P,O){var k,N,C,R,V,$;l?k=x0e(l[c+O],x):(k=Un(P,v),Array.isArray(k)||(k=[A,k]));var F=jxe(_,_F.defaultProps.minPointSize)(k[1],O);if(m==="horizontal"){var D,B=[a.scale(k[0]),a.scale(k[1])],U=B[0],q=B[1];N=XC({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:P,index:O}),C=(D=q??U)!==null&&D!==void 0?D:void 0,R=p.size;var W=U-q;if(V=Number.isNaN(W)?0:W,$={x:N,y:a.y,width:R,height:a.height},Math.abs(F)>0&&Math.abs(V)<Math.abs(F)){var Y=Ar(V||F)*(Math.abs(F)-Math.abs(V));C-=Y,V+=Y}}else{var ee=[o.scale(k[0]),o.scale(k[1])],ne=ee[0],ue=ee[1];if(N=ne,C=XC({axis:a,ticks:u,bandSize:i,offset:p.offset,entry:P,index:O}),R=ue-ne,V=p.size,$={x:o.x,y:C,width:o.width,height:V},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var re=Ar(R||F)*(Math.abs(F)-Math.abs(R));R+=re}}return bt(bt(bt({},P),{},{x:N,y:C,width:R,height:V,value:l?k:k[1],payload:P,background:$},b&&b[O]&&b[O].props),{},{tooltipPayload:[Z4(n,P)],tooltipPosition:{x:N+R/2,y:C+V/2}})});return bt({data:T,layout:m},d)});function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Kxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EF(r.key),r)}}function Xxe(t,e,n){return e&&Yk(t.prototype,e),n&&Yk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lv(t,e,n){return e=EF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t){var e=Yxe(t,"string");return td(e)=="symbol"?e:e+""}function Yxe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qxe=function(e,n,r,i,o){var a=e.width,s=e.height,u=e.layout,l=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Rn(l,jd);return c.reduce(function(p,m){var g=n[m],y=g.orientation,v=g.domain,w=g.padding,_=w===void 0?{}:w,S=g.mirror,x=g.reversed,A="".concat(y).concat(S?"Mirror":""),b,T,P,O,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=v[1]-v[0],C=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(ee,ne){ne>0&&(C=Math.min((ee||0)-(R[ne-1]||0),C))}),Number.isFinite(C)){var V=C/N,$=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(b=V*$/2),g.padding==="no-gap"){var F=Va(e.barCategoryGap,V*$),D=V*$/2;b=D-F-(D-F)/$*F}}}i==="xAxis"?T=[r.left+(_.left||0)+(b||0),r.left+r.width-(_.right||0)-(b||0)]:i==="yAxis"?T=u==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(b||0),r.top+r.height-(_.bottom||0)-(b||0)]:T=g.range,x&&(T=[T[1],T[0]]);var B=w0e(g,o,d),U=B.scale,q=B.realScaleType;U.domain(v).range(T),b0e(U);var W=O0e(U,vr(vr({},g),{},{realScaleType:q}));i==="xAxis"?(k=y==="top"&&!S||y==="bottom"&&S,P=r.left,O=f[A]-k*g.height):i==="yAxis"&&(k=y==="left"&&!S||y==="right"&&S,P=f[A]-k*g.width,O=r.top);var Y=vr(vr(vr({},g),W),{},{realScaleType:q,x:P,y:O,scale:U,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Y.bandSize=sg(Y,W),!g.hide&&i==="xAxis"?f[A]+=(k?-1:1)*Y.height:g.hide||(f[A]+=(k?-1:1)*Y.width),vr(vr({},p),{},lv({},m,Y))},{})},xF=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Jxe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return xF({x:n,y:r},{x:i,y:o})},SF=function(){function t(e){Kxe(this,t),this.scale=e}return Xxe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();lv(SF,"EPS",1e-4);var dS=function(e){var n=Object.keys(e).reduce(function(r,i){return vr(vr({},r),{},lv({},i,SF.create(e[i])))},{});return vr(vr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return yxe(i,function(u,l){return n[l].apply(u,{bandAware:a,position:s})})},isInRange:function(i){return vF(i,function(o,a){return n[a].isInRange(o)})}})};function Zxe(t){return(t%180+180)%180}var e1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Zxe(i),a=o*Math.PI/180,s=Math.atan(r/n),u=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},t1e=Bo,n1e=Nd,r1e=Gy;function i1e(t){return function(e,n,r){var i=Object(e);if(!n1e(e)){var o=t1e(n);e=r1e(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var o1e=i1e,a1e=pF;function s1e(t){var e=a1e(t),n=e%1;return e===e?n?e-n:e:0}var u1e=s1e,l1e=$V,c1e=Bo,f1e=u1e,d1e=Math.max;function h1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:f1e(n);return i<0&&(i=d1e(r+i,0)),l1e(t,c1e(e),i)}var p1e=h1e,m1e=o1e,g1e=p1e,y1e=m1e(g1e),v1e=y1e;const _1e=ze(v1e);var w1e=Cre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hS=L.createContext(void 0),pS=L.createContext(void 0),TF=L.createContext(void 0),AF=L.createContext({}),PF=L.createContext(void 0),IF=L.createContext(0),OF=L.createContext(0),Jk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,u=e.width,l=e.height,c=w1e(o);return z.createElement(hS.Provider,{value:r},z.createElement(pS.Provider,{value:i},z.createElement(AF.Provider,{value:o},z.createElement(TF.Provider,{value:c},z.createElement(PF.Provider,{value:a},z.createElement(IF.Provider,{value:l},z.createElement(OF.Provider,{value:u},s)))))))},b1e=function(){return L.useContext(PF)},CF=function(e){var n=L.useContext(hS);n==null&&Ba();var r=n[e];return r==null&&Ba(),r},E1e=function(){var e=L.useContext(hS);return co(e)},x1e=function(){var e=L.useContext(pS),n=_1e(e,function(r){return vF(r.domain,Number.isFinite)});return n||co(e)},kF=function(e){var n=L.useContext(pS);n==null&&Ba();var r=n[e];return r==null&&Ba(),r},S1e=function(){var e=L.useContext(TF);return e},T1e=function(){return L.useContext(AF)},mS=function(){return L.useContext(OF)},gS=function(){return L.useContext(IF)};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function A1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function I1e(t,e,n){return e&&P1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O1e(t,e,n){return e=bg(e),C1e(t,NF()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function C1e(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(t)}function k1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function N1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zb(t,e)}function zb(t,e){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zb(t,e)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){yS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yS(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=R1e(t,"string");return Fu(e)=="symbol"?e:e+""}function R1e(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function M1e(t,e){return L1e(t)||j1e(t,e)||D1e(t,e)||$1e()}function $1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1e(t,e){if(t){if(typeof t=="string")return tN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tN(t,e)}}function tN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function L1e(t){if(Array.isArray(t))return t}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(this,arguments)}var V1e=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):Se(e)?r=e(n):r=z.createElement("line",Wb({},n,{className:"recharts-reference-line-line"})),r},F1e=function(e,n,r,i,o,a,s,u,l){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=l.y,g=e.y.apply(m,{position:a});if(Zr(l,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+d,y:g},{x:c,y:g}];return u==="left"?y.reverse():y}if(n){var v=l.x,w=e.x.apply(v,{position:a});if(Zr(l,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+p},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var S=l.segment,x=S.map(function(A){return e.apply(A,{position:a})});return Zr(l,"discard")&&lxe(x,function(A){return!e.isInRange(A)})?null:x}return null};function B1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,u=t.alwaysShow,l=b1e(),c=CF(i),f=kF(o),d=S1e();if(!l||!d)return null;Ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=dS({x:c.scale,y:f.scale}),m=kt(e),g=kt(n),y=r&&r.length===2,v=F1e(p,m,g,y,d,t.position,c.orientation,f.orientation,t);if(!v)return null;var w=M1e(v,2),_=w[0],S=_.x,x=_.y,A=w[1],b=A.x,T=A.y,P=Zr(t,"hidden")?"url(#".concat(l,")"):void 0,O=eN(eN({clipPath:P},Oe(t,!0)),{},{x1:S,y1:x,x2:b,y2:T});return z.createElement(yt,{className:De("recharts-reference-line",s)},V1e(a,O),on.renderCallByParent(t,Jxe({x1:S,y1:x,x2:b,y2:T})))}var vS=function(t){function e(){return A1e(this,e),O1e(this,e,arguments)}return N1e(e,t),I1e(e,[{key:"render",value:function(){return z.createElement(B1e,this.props)}}])}(z.Component);yS(vS,"displayName","ReferenceLine");yS(vS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$F(r.key),r)}}function W1e(t,e,n){return e&&z1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H1e(t,e,n){return e=Eg(e),q1e(t,MF()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function q1e(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(t)}function G1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function K1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qb(t,e)}function cv(t,e,n){return e=$F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $F(t){var e=X1e(t,"string");return Bu(e)=="symbol"?e:e+""}function X1e(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y1e=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=dS({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Zr(e,"discard")&&!a.isInRange(s)?null:s},fv=function(t){function e(){return U1e(this,e),H1e(this,e,arguments)}return K1e(e,t),W1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,u=r.clipPathId,l=kt(i),c=kt(o);if(Ti(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var f=Y1e(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,y=m.className,v=Zr(this.props,"hidden")?"url(#".concat(u,")"):void 0,w=rN(rN({clipPath:v},Oe(this.props,!0)),{},{cx:d,cy:p});return z.createElement(yt,{className:De("recharts-reference-dot",y)},e.renderDot(g,w),on.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(z.Component);cv(fv,"displayName","ReferenceDot");cv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cv(fv,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Se(t)?n=t(e):n=z.createElement(fS,Hb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){dv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jF(r.key),r)}}function Z1e(t,e,n){return e&&J1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eSe(t,e,n){return e=xg(e),tSe(t,DF()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function tSe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nSe(t)}function nSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DF=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function rSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kb(t,e)}function dv(t,e,n){return e=jF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t){var e=iSe(t,"string");return Uu(e)=="symbol"?e:e+""}function iSe(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oSe=function(e,n,r,i,o){var a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=dS({x:c.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(u,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(l,{position:"end"}):d.y.rangeMax};return Zr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:xF(p,m)},hv=function(t){function e(){return Q1e(this,e),eSe(this,e,arguments)}return rSe(e,t),Z1e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,u=r.className,l=r.alwaysShow,c=r.clipPathId;Ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=kt(i),d=kt(o),p=kt(a),m=kt(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var y=oSe(f,d,p,m,this.props);if(!y&&!g)return null;var v=Zr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return z.createElement(yt,{className:De("recharts-reference-area",u)},e.renderRect(g,oN(oN({clipPath:v},Oe(this.props,!0)),y)),on.renderCallByParent(this.props,y))}}])}(z.Component);dv(hv,"displayName","ReferenceArea");dv(hv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dv(hv,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Se(t)?n=t(e):n=z.createElement(cS,Gb({},e,{className:"recharts-reference-area-rect"})),n});function LF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function aSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return e1e(r,n)}function sSe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Sg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function uSe(t,e){return LF(t,e+1)}function lSe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,u=0,l=1,c=a,f=function(){var m=r==null?void 0:r[u];if(m===void 0)return{v:LF(r,l)};var g=u,y,v=function(){return y===void 0&&(y=n(m,g)),y},w=m.coordinate,_=u===0||Sg(t,w,v,c,s);_||(u=0,c=a,l+=1),_&&(c=w+t*(v()/2+i),u+=l)},d;l<=o.length;)if(d=f(),d)return d.v;return[]}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){cSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cSe(t,e,n){return e=fSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fSe(t){var e=dSe(t,"string");return nd(e)=="symbol"?e:e+""}function dSe(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hSe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,u=e.end,l=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var y=t*(p.coordinate+t*g()/2-u);o[d]=p=en(en({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[d]=p=en(en({},p),{},{tickCoord:p.coordinate});var v=Sg(t,p.tickCoord,g,s,u);v&&(u=p.tickCoord-t*(g()/2+i),o[d]=en(en({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)l(c);return o}function pSe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,u=e.start,l=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-l);a[s-1]=c=en(en({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Sg(t,c.tickCoord,function(){return f},u,l);p&&(l=c.tickCoord-t*(f/2+i),a[s-1]=en(en({},c),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(w){var _=a[w],S,x=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var A=t*(_.coordinate-t*x()/2-u);a[w]=_=en(en({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else a[w]=_=en(en({},_),{},{tickCoord:_.coordinate});var b=Sg(t,_.tickCoord,x,u,l);b&&(u=_.tickCoord+t*(x()/2+i),a[w]=en(en({},_),{},{isShow:!0}))},y=0;y<m;y++)g(y);return a}function _S(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,u=t.interval,l=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ae(u)||pl.isSsr)return uSe(i,typeof u=="number"&&ae(u)?u:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?Dc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,S){var x=Se(l)?l(_.value,S):_.value;return p==="width"?aSe(Dc(x,{fontSize:e,letterSpacing:n}),m,f):Dc(x,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,v=sSe(o,y,p);return u==="equidistantPreserveStart"?lSe(y,v,g,i,a):(u==="preserveStart"||u==="preserveStartEnd"?d=pSe(y,v,g,i,a,u==="preserveStartEnd"):d=hSe(y,v,g,i,a),d.filter(function(w){return w.isShow}))}var mSe=["viewBox"],gSe=["viewBox"],ySe=["ticks"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(this,arguments)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){wS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0(t,e){if(t==null)return{};var n=vSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FF(r.key),r)}}function wSe(t,e,n){return e&&uN(t.prototype,e),n&&uN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bSe(t,e,n){return e=Tg(e),ESe(t,VF()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function ESe(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(t)}function xSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VF=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function SSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xb(t,e)}function wS(t,e,n){return e=FF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FF(t){var e=TSe(t,"string");return zu(e)=="symbol"?e:e+""}function TSe(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yl=function(t){function e(n){var r;return _Se(this,e),r=bSe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return SSe(e,t),wSe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Q0(r,mSe),s=this.props,u=s.viewBox,l=Q0(s,gSe);return!nu(o,u)||!nu(a,l)||!nu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,u=i.height,l=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,y,v,w,_=f?-1:1,S=r.tickSize||c,x=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":p=m=r.coordinate,y=a+ +!f*u,g=y-_*S,w=g-_*d,v=x;break;case"left":g=y=r.coordinate,m=o+ +!f*s,p=m-_*S,v=p-_*d,w=x;break;case"right":g=y=r.coordinate,m=o+ +f*s,p=m+_*S,v=p+_*d,w=x;break;default:p=m=r.coordinate,y=a+ +f*u,g=y+_*S,w=g+_*d,v=x;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,u=r.orientation,l=r.mirror,c=r.axisLine,f=cn(cn(cn({},Oe(this.props,!1)),Oe(c,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var d=+(u==="top"&&!l||u==="bottom"&&l);f=cn(cn({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(u==="left"&&!l||u==="right"&&l);f=cn(cn({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return z.createElement("line",Bs({},f,{className:De("recharts-cartesian-axis-line",nr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,u=s.tickLine,l=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=_S(cn(cn({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Oe(this.props,!1),v=Oe(c,!1),w=cn(cn({},y),{},{fill:"none"},Oe(u,!1)),_=p.map(function(S,x){var A=a.getTickLineCoord(S),b=A.line,T=A.tick,P=cn(cn(cn(cn({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:l},v),T),{},{index:x,payload:S,visibleTicksCount:p.length,tickFormatter:f});return z.createElement(yt,Bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Dm(a.props,S,x)),u&&z.createElement("line",Bs({},w,b,{className:De("recharts-cartesian-axis-tick-line",nr(u,"className"))})),c&&e.renderTickItem(c,P,"".concat(Se(f)?f(S.value,x):S.value).concat(d||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,u=i.ticksGenerator,l=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=Q0(f,ySe),m=d;return Se(u)&&(m=d&&d.length>0?u(this.props):u(p)),a<=0||s<=0||!m||!m.length?null:z.createElement(yt,{className:De("recharts-cartesian-axis",l),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),on.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):Se(r)?a=r(i):a=z.createElement(Ym,Bs({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(L.Component);wS(yl,"displayName","CartesianAxis");wS(yl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ASe=["x1","y1","x2","y2","key"],PSe=["offset"];function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){ISe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ISe(t,e,n){return e=OSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OSe(t){var e=CSe(t,"string");return Ua(e)=="symbol"?e:e+""}function CSe(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function cN(t,e){if(t==null)return{};var n=kSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,u=e.ry;return z.createElement("rect",{x:i,y:o,ry:u,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function BF(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,u=cN(e,ASe),l=Oe(u,!1);l.offset;var c=cN(l,PSe);n=z.createElement("line",ma({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function RSe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,u){var l=an(an({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(u),index:u});return BF(i,l)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function MSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,u){var l=an(an({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(u),index:u});return BF(i,l)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function $Se(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,u=t.horizontal,l=u===void 0?!0:u;if(!l||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+a-d:c[p+1]-d;if(g<=0)return null;var y=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function DSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,u=t.height,l=t.verticalPoints;if(!n||!r||!r.length)return null;var c=l.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+s-d:c[p+1]-d;if(g<=0)return null;var y=p%r.length;return z.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:u,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jSe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return Q4(_S(an(an(an({},yl.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},LSe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return Q4(_S(an(an(an({},yl.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},ws={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UF(t){var e,n,r,i,o,a,s=mS(),u=gS(),l=T1e(),c=an(an({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ws.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ws.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ws.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ws.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ws.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ws.verticalFill,x:ae(t.x)?t.x:l.left,y:ae(t.y)?t.y:l.top,width:ae(t.width)?t.width:l.width,height:ae(t.height)?t.height:l.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,y=c.horizontalValues,v=c.verticalValues,w=E1e(),_=x1e();if(!ae(p)||p<=0||!ae(m)||m<=0||!ae(f)||f!==+f||!ae(d)||d!==+d)return null;var S=c.verticalCoordinatesGenerator||jSe,x=c.horizontalCoordinatesGenerator||LSe,A=c.horizontalPoints,b=c.verticalPoints;if((!A||!A.length)&&Se(x)){var T=y&&y.length,P=x({yAxis:_?an(an({},_),{},{ticks:T?y:_.ticks}):void 0,width:s,height:u,offset:l},T?!0:g);Ti(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ua(P),"]")),Array.isArray(P)&&(A=P)}if((!b||!b.length)&&Se(S)){var O=v&&v.length,k=S({xAxis:w?an(an({},w),{},{ticks:O?v:w.ticks}):void 0,width:s,height:u,offset:l},O?!0:g);Ti(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ua(k),"]")),Array.isArray(k)&&(b=k)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(NSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),z.createElement(RSe,ma({},c,{offset:l,horizontalPoints:A,xAxis:w,yAxis:_})),z.createElement(MSe,ma({},c,{offset:l,verticalPoints:b,xAxis:w,yAxis:_})),z.createElement($Se,ma({},c,{horizontalPoints:A})),z.createElement(DSe,ma({},c,{verticalPoints:b})))}UF.displayName="CartesianGrid";var VSe=["type","layout","connectNulls","ref"],FSe=["key"];function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function fN(t,e){if(t==null)return{};var n=BSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bs(t){return HSe(t)||WSe(t)||zSe(t)||USe()}function USe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zSe(t,e){if(t){if(typeof t=="string")return Yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(t,e)}}function WSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HSe(t){if(Array.isArray(t))return Yb(t)}function Yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WF(r.key),r)}}function GSe(t,e,n){return e&&hN(t.prototype,e),n&&hN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KSe(t,e,n){return e=Ag(e),XSe(t,zF()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function XSe(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YSe(t)}function YSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function QSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,e)}function _r(t,e,n){return e=WF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WF(t){var e=JSe(t,"string");return Wu(e)=="symbol"?e:e+""}function JSe(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ld=function(t){function e(){var n;qSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=KSe(this,e,[].concat(i)),_r(n,"state",{isAnimationFinished:!0,totalLength:0}),_r(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),_r(n,"getStrokeDasharray",function(a,s,u){var l=u.reduce(function(v,w){return v+w});if(!l)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/l),f=a%l,d=s-a,p=[],m=0,g=0;m<u.length;g+=u[m],++m)if(g+u[m]>f){p=[].concat(bs(u.slice(0,m)),[f-g]);break}var y=p.length%2===0?[0,d]:[d];return[].concat(bs(e.repeat(u,c)),bs(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),_r(n,"id",kd("recharts-line-")),_r(n,"pathRef",function(a){n.mainCurve=a}),_r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return QSe(e,t),GSe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,u=o.yAxis,l=o.layout,c=o.children,f=rr(c,Dd);if(!f)return null;var d=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Un(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(yt,p,f.map(function(m){return z.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:u,layout:l,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,u=s.dot,l=s.points,c=s.dataKey,f=Oe(this.props,!1),d=Oe(u,!0),p=l.map(function(g,y){var v=Cn(Cn(Cn({key:"dot-".concat(y),r:3},f),d),{},{value:g.value,dataKey:c,cx:g.x,cy:g.y,index:y,payload:g.payload});return e.renderDotItem(u,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(yt,Fc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,u=s.type,l=s.layout,c=s.connectNulls;s.ref;var f=fN(s,VSe),d=Cn(Cn(Cn({},Oe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:u,layout:l,connectNulls:c});return z.createElement(Ib,Fc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,u=a.strokeDasharray,l=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,y=a.height,v=this.state,w=v.prevPoints,_=v.totalLength;return z.createElement(Vi,{begin:c,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var x=S.t;if(w){var A=w.length/s.length,b=s.map(function(N,C){var R=Math.floor(C*A);if(w[R]){var V=w[R],$=Er(V.x,N.x),F=Er(V.y,N.y);return Cn(Cn({},N),{},{x:$(x),y:F(x)})}if(m){var D=Er(g*2,N.x),B=Er(y/2,N.y);return Cn(Cn({},N),{},{x:D(x),y:B(x)})}return Cn(Cn({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(b,r,i)}var T=Er(0,_),P=T(x),O;if(u){var k="".concat(u).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});O=o.getStrokeDasharray(P,_,k)}else O=o.generateSimpleStrokeDasharray(_,P);return o.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,u=this.state,l=u.prevPoints,c=u.totalLength;return s&&a&&a.length&&(!l&&c>0||!iv(l,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,u=i.className,l=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=s.length===1,_=De("recharts-line",u),S=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,A=S||x,b=Pe(y)?this.id:y,T=(r=Oe(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,O=P===void 0?3:P,k=T.strokeWidth,N=k===void 0?2:k,C=Mie(a)?a:{},R=C.clipDot,V=R===void 0?!0:R,$=O*2+N;return z.createElement(yt,{className:_},S||x?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(b)},z.createElement("rect",{x:S?d:d-p/2,y:x?f:f-m/2,width:S?p:p*2,height:x?m:m*2})),!V&&z.createElement("clipPath",{id:"clipPath-dots-".concat(b)},z.createElement("rect",{x:d-$/2,y:f-$/2,width:p+$,height:m+$}))):null,!w&&this.renderCurve(A,b),this.renderErrorBar(A,b),(w||a)&&this.renderDots(A,V,b),(!g||v)&&ko.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(bs(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(bs(a),bs(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(z.isValidElement(r))o=z.cloneElement(r,i);else if(Se(r))o=r(i);else{var a=i.key,s=fN(i,FSe),u=De("recharts-line-dot",typeof r!="boolean"?r.className:"");o=z.createElement(fS,Fc({key:a},s,{className:u}))}return o}}])}(L.PureComponent);_r(Ld,"displayName","Line");_r(Ld,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_r(Ld,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,u=t.displayedData,l=t.offset,c=e.layout,f=u.map(function(d,p){var m=Un(d,a);return c==="horizontal"?{x:KC({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:Pe(m)?null:r.scale(m),value:m,payload:d}:{x:Pe(m)?null:n.scale(m),y:KC({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:m,payload:d}});return Cn({points:f,layout:c},l)});function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function ZSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GF(r.key),r)}}function tTe(t,e,n){return e&&eTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nTe(t,e,n){return e=Pg(e),rTe(t,HF()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function rTe(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iTe(t)}function iTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function oTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function qF(t,e,n){return e=GF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GF(t){var e=aTe(t,"string");return Hu(e)=="symbol"?e:e+""}function aTe(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function sTe(t){var e=t.xAxisId,n=mS(),r=gS(),i=CF(e);return i==null?null:z.createElement(yl,Zb({},i,{className:De("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return bi(a,!0)}}))}var pv=function(t){function e(){return ZSe(this,e),nTe(this,e,arguments)}return oTe(e,t),tTe(e,[{key:"render",value:function(){return z.createElement(sTe,this.props)}}])}(z.Component);qF(pv,"displayName","XAxis");qF(pv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function uTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YF(r.key),r)}}function cTe(t,e,n){return e&&lTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fTe(t,e,n){return e=Ig(e),dTe(t,KF()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function dTe(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hTe(t)}function hTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function pTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function XF(t,e,n){return e=YF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YF(t){var e=mTe(t,"string");return qu(e)=="symbol"?e:e+""}function mTe(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}var gTe=function(e){var n=e.yAxisId,r=mS(),i=gS(),o=kF(n);return o==null?null:z.createElement(yl,tE({},o,{className:De("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return bi(s,!0)}}))},mv=function(t){function e(){return uTe(this,e),fTe(this,e,arguments)}return pTe(e,t),cTe(e,[{key:"render",value:function(){return z.createElement(gTe,this.props)}}])}(z.Component);XF(mv,"displayName","YAxis");XF(mv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pN(t){return wTe(t)||_Te(t)||vTe(t)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vTe(t,e){if(t){if(typeof t=="string")return nE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(t,e)}}function _Te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wTe(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rE=function(e,n,r,i,o){var a=rr(e,vS),s=rr(e,fv),u=[].concat(pN(a),pN(s)),l=rr(e,hv),c="".concat(i,"Id"),f=i[0],d=n;if(u.length&&(d=u.reduce(function(g,y){if(y.props[c]===r&&Zr(y.props,"extendDomain")&&ae(y.props[f])){var v=y.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},d)),l.length){var p="".concat(f,"1"),m="".concat(f,"2");d=l.reduce(function(g,y){if(y.props[c]===r&&Zr(y.props,"extendDomain")&&ae(y.props[p])&&ae(y.props[m])){var v=y.props[p],w=y.props[m];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,y){return ae(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},d)),d},QF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||u,d),m=n?n+l:l;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],p]:u._events[m].push(p):(u._events[m]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,c,f,d,p,m){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,w,_;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,d),!0;case 5:return y.fn.call(y.context,c,f,d,p),!0;case 6:return y.fn.call(y.context,c,f,d,p,m),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];y.fn.apply(y.context,w)}else{var S=y.length,x;for(_=0;_<S;_++)switch(y[_].once&&this.removeListener(l,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,c);break;case 3:y[_].fn.call(y[_].context,c,f);break;case 4:y[_].fn.call(y[_].context,c,f,d);break;default:if(!w)for(x=1,w=new Array(v-1);x<v;x++)w[x-1]=arguments[x];y[_].fn.apply(y[_].context,w)}}return!0},s.prototype.on=function(l,c,f){return o(this,l,c,f,!1)},s.prototype.once=function(l,c,f){return o(this,l,c,f,!0)},s.prototype.removeListener=function(l,c,f,d){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(QF);var bTe=QF.exports;const ETe=ze(bTe);var J0=new ETe,Z0="recharts.syncMouseEvents";function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function xTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function STe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JF(r.key),r)}}function TTe(t,e,n){return e&&STe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e_(t,e,n){return e=JF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JF(t){var e=ATe(t,"string");return rd(e)=="symbol"?e:e+""}function ATe(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PTe=function(){function t(){xTe(this,t),e_(this,"activeIndex",0),e_(this,"coordinateList",[]),e_(this,"layout","horizontal")}return TTe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,u=n.layout,l=u===void 0?null:u,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,u=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+u+l,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function ITe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function OTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ZF(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Wt(e,n,r,i),s=Wt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function CTe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,u=e.cy,l=e.innerRadius,c=e.outerRadius,f=e.angle,d=Wt(s,u,l,f),p=Wt(s,u,c,f);r=d.x,i=d.y,o=p.x,a=p.y}else return ZF(e);return[{x:r,y:i},{x:o,y:a}]}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){kTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kTe(t,e,n){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NTe(t){var e=RTe(t,"string");return id(e)=="symbol"?e:e+""}function RTe(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MTe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,u=t.offset,l=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Ib;if(d==="ScatterChart")m=a,g=Nbe;else if(d==="BarChart")m=OTe(f,a,u,c),g=cS;else if(f==="radial"){var y=ZF(a),v=y.cx,w=y.cy,_=y.radius,S=y.startAngle,x=y.endAngle;m={cx:v,cy:w,startAngle:S,endAngle:x,innerRadius:_,outerRadius:_},g=nF}else m={points:CTe(f,a,u)},g=Ib;var A=ip(ip(ip(ip({stroke:"#ccc",pointerEvents:"none"},u),m),Oe(p,!1)),{},{payload:s,payloadIndex:l,className:De("recharts-tooltip-cursor",p.className)});return L.isValidElement(p)?L.cloneElement(p,A):L.createElement(g,A)}var $Te=["item"],DTe=["children","className","width","height","style","compact","title","desc"];function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Us.apply(this,arguments)}function gN(t,e){return VTe(t)||LTe(t,e)||t3(t,e)||jTe()}function jTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function VTe(t){if(Array.isArray(t))return t}function yN(t,e){if(t==null)return{};var n=FTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n3(r.key),r)}}function zTe(t,e,n){return e&&UTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WTe(t,e,n){return e=Og(e),HTe(t,e3()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function HTe(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qTe(t)}function qTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function GTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function Ku(t){return YTe(t)||XTe(t)||t3(t)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t3(t,e){if(t){if(typeof t=="string")return oE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(t,e)}}function XTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YTe(t){if(Array.isArray(t))return oE(t)}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=n3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n3(t){var e=QTe(t,"string");return Gu(e)=="symbol"?e:e+""}function QTe(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JTe={xAxis:["bottom","top"],yAxis:["left","right"]},ZTe={width:"100%",height:"100%"},r3={x:0,y:0};function op(t){return t}var eAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},tAe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return X(X(X({},i),Wt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var u=o.coordinate,l=i.angle;return X(X(X({},i),Wt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}return r3},gv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,u){var l=u.props.data;return l&&l.length?[].concat(Ku(s),Ku(l)):s},[]);return a.length>0?a:e&&e.length&&ae(i)&&ae(o)?e.slice(i,o+1):[]};function i3(t){return t==="number"?[0,"auto"]:void 0}var aE=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=gv(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(u,l){var c,f=(c=l.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=Mm(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Ku(u),[Z4(l,d)]):u},[])},_N=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=eAe(o,r),s=e.orderedTooltipTicks,u=e.tooltipAxis,l=e.tooltipTicks,c=p0e(a,s,l,u);if(c>=0&&l){var f=l[c]&&l[c].value,d=aE(e,n,c,f),p=tAe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},nAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=Y4(c,o);return r.reduce(function(m,g){var y,v=g.type.defaultProps!==void 0?X(X({},g.type.defaultProps),g.props):g.props,w=v.type,_=v.dataKey,S=v.allowDataOverflow,x=v.allowDuplicatedCategory,A=v.scale,b=v.ticks,T=v.includeHidden,P=v[a];if(m[P])return m;var O=gv(e.data,{graphicalItems:i.filter(function(W){var Y,ee=a in W.props?W.props[a]:(Y=W.type.defaultProps)===null||Y===void 0?void 0:Y[a];return ee===P}),dataStartIndex:u,dataEndIndex:l}),k=O.length,N,C,R;ITe(v.domain,S,w)&&(N=xb(v.domain,null,S),p&&(w==="number"||A!=="auto")&&(R=Lc(O,_,"category")));var V=i3(w);if(!N||N.length===0){var $,F=($=v.domain)!==null&&$!==void 0?$:V;if(_){if(N=Lc(O,_,w),w==="category"&&p){var D=Tie(N);x&&D?(C=N,N=gg(0,k)):x||(N=JC(F,N,g).reduce(function(W,Y){return W.indexOf(Y)>=0?W:[].concat(Ku(W),[Y])},[]))}else if(w==="category")x?N=N.filter(function(W){return W!==""&&!Pe(W)}):N=JC(F,N,g).reduce(function(W,Y){return W.indexOf(Y)>=0||Y===""||Pe(Y)?W:[].concat(Ku(W),[Y])},[]);else if(w==="number"){var B=_0e(O,i.filter(function(W){var Y,ee,ne=a in W.props?W.props[a]:(Y=W.type.defaultProps)===null||Y===void 0?void 0:Y[a],ue="hide"in W.props?W.props.hide:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ne===P&&(T||!ue)}),_,o,c);B&&(N=B)}p&&(w==="number"||A!=="auto")&&(R=Lc(O,_,"category"))}else p?N=gg(0,k):s&&s[P]&&s[P].hasStack&&w==="number"?N=d==="expand"?[0,1]:J4(s[P].stackGroups,u,l):N=X4(O,i.filter(function(W){var Y=a in W.props?W.props[a]:W.type.defaultProps[a],ee="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return Y===P&&(T||!ee)}),w,c,!0);if(w==="number")N=rE(f,N,P,o,b),F&&(N=xb(F,N,S));else if(w==="category"&&F){var U=F,q=N.every(function(W){return U.indexOf(W)>=0});q&&(N=U)}}return X(X({},m),{},ve({},P,X(X({},v),{},{axisType:o,domain:N,categoricalDomain:R,duplicateDomain:C,originalDomain:(y=v.domain)!==null&&y!==void 0?y:V,isCategorical:p,layout:c})))},{})},rAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,d=gv(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:l}),p=d.length,m=Y4(c,o),g=-1;return r.reduce(function(y,v){var w=v.type.defaultProps!==void 0?X(X({},v.type.defaultProps),v.props):v.props,_=w[a],S=i3("number");if(!y[_]){g++;var x;return m?x=gg(0,p):s&&s[_]&&s[_].hasStack?(x=J4(s[_].stackGroups,u,l),x=rE(f,x,_,o)):(x=xb(S,X4(d,r.filter(function(A){var b,T,P=a in A.props?A.props[a]:(b=A.type.defaultProps)===null||b===void 0?void 0:b[a],O="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===_&&!O}),"number",c),i.defaultProps.allowDataOverflow),x=rE(f,x,_,o)),X(X({},y),{},ve({},_,X(X({axisType:o},i.defaultProps),{},{hide:!0,orientation:nr(JTe,"".concat(o,".").concat(g%2),null),domain:x,originalDomain:S,isCategorical:m,layout:c})))}return y},{})},iAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=rr(c,o),p={};return d&&d.length?p=nAe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:u,dataEndIndex:l}):a&&a.length&&(p=rAe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:u,dataEndIndex:l})),p},oAe=function(e){var n=co(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:F1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:sg(n,r)}},wN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Rn(n,Lu),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},aAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Si(n&&n.type);return r&&r.indexOf("Bar")>=0})},bN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sAe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,u=s===void 0?{}:s,l=r.width,c=r.height,f=r.children,d=r.margin||{},p=Rn(f,Lu),m=Rn(f,ru),g=Object.keys(u).reduce(function(x,A){var b=u[A],T=b.orientation;return!b.mirror&&!b.hide?X(X({},x),{},ve({},T,x[T]+b.width)):x},{left:d.left||0,right:d.right||0}),y=Object.keys(a).reduce(function(x,A){var b=a[A],T=b.orientation;return!b.mirror&&!b.hide?X(X({},x),{},ve({},T,nr(x,"".concat(T))+b.height)):x},{top:d.top||0,bottom:d.bottom||0}),v=X(X({},y),g),w=v.bottom;p&&(v.bottom+=p.props.height||Lu.defaultProps.height),m&&n&&(v=y0e(v,i,r,n));var _=l-v.left-v.right,S=c-v.top-v.bottom;return X(X({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(S,0)})},uAe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},lAe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,u=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(v,w){var _=w.graphicalItems,S=w.stackGroups,x=w.offset,A=w.updateId,b=w.dataStartIndex,T=w.dataEndIndex,P=v.barSize,O=v.layout,k=v.barGap,N=v.barCategoryGap,C=v.maxBarSize,R=bN(O),V=R.numericAxisName,$=R.cateAxisName,F=aAe(_),D=[];return _.forEach(function(B,U){var q=gv(v.data,{graphicalItems:[B],dataStartIndex:b,dataEndIndex:T}),W=B.type.defaultProps!==void 0?X(X({},B.type.defaultProps),B.props):B.props,Y=W.dataKey,ee=W.maxBarSize,ne=W["".concat(V,"Id")],ue=W["".concat($,"Id")],re={},le=u.reduce(function(vn,ln){var In=w["".concat(ln.axisType,"Map")],jr=W["".concat(ln.axisType,"Id")];In&&In[jr]||ln.axisType==="zAxis"||Ba();var cr=In[jr];return X(X({},vn),{},ve(ve({},ln.axisType,cr),"".concat(ln.axisType,"Ticks"),bi(cr)))},re),Q=le[$],se=le["".concat($,"Ticks")],ie=S&&S[ne]&&S[ne].hasStack&&k0e(B,S[ne].stackGroups),G=Si(B.type).indexOf("Bar")>=0,me=sg(Q,se),he=[],xe=F&&m0e({barSize:P,stackGroups:S,totalSize:uAe(le,$)});if(G){var Ce,vt,gn=Pe(ee)?C:ee,Pn=(Ce=(vt=sg(Q,se,!0))!==null&&vt!==void 0?vt:gn)!==null&&Ce!==void 0?Ce:0;he=g0e({barGap:k,barCategoryGap:N,bandSize:Pn!==me?Pn:me,sizeList:xe[ue],maxBarSize:gn}),Pn!==me&&(he=he.map(function(vn){return X(X({},vn),{},{position:X(X({},vn.position),{},{offset:vn.position.offset-Pn/2})})}))}var yn=B&&B.type&&B.type.getComposedData;yn&&D.push({props:X(X({},yn(X(X({},le),{},{displayedData:q,props:v,dataKey:Y,item:B,bandSize:me,barPosition:he,offset:x,stackedData:ie,layout:O,dataStartIndex:b,dataEndIndex:T}))),{},ve(ve(ve({key:B.key||"item-".concat(U)},V,le[V]),$,le[$]),"animationId",A)),childIndex:jie(B,v.children),item:B})}),D},p=function(v,w){var _=v.props,S=v.dataStartIndex,x=v.dataEndIndex,A=v.updateId;if(!eO({props:_}))return null;var b=_.children,T=_.layout,P=_.stackOffset,O=_.data,k=_.reverseStackOrder,N=bN(T),C=N.numericAxisName,R=N.cateAxisName,V=rr(b,r),$=I0e(O,V,"".concat(C,"Id"),"".concat(R,"Id"),P,k),F=u.reduce(function(W,Y){var ee="".concat(Y.axisType,"Map");return X(X({},W),{},ve({},ee,iAe(_,X(X({},Y),{},{graphicalItems:V,stackGroups:Y.axisType===C&&$,dataStartIndex:S,dataEndIndex:x}))))},{}),D=sAe(X(X({},F),{},{props:_,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(F).forEach(function(W){F[W]=c(_,F[W],D,W.replace("Map",""),n)});var B=F["".concat(R,"Map")],U=oAe(B),q=d(_,X(X({},F),{},{dataStartIndex:S,dataEndIndex:x,updateId:A,graphicalItems:V,stackGroups:$,offset:D}));return X(X({formattedGraphicalItems:q,graphicalItems:V,offset:D,stackGroups:$},U),F)},m=function(y){function v(w){var _,S,x;return BTe(this,v),x=WTe(this,v,[w]),ve(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(x,"accessibilityManager",new PTe),ve(x,"handleLegendBBoxUpdate",function(A){if(A){var b=x.state,T=b.dataStartIndex,P=b.dataEndIndex,O=b.updateId;x.setState(X({legendBBox:A},p({props:x.props,dataStartIndex:T,dataEndIndex:P,updateId:O},X(X({},x.state),{},{legendBBox:A}))))}}),ve(x,"handleReceiveSyncEvent",function(A,b,T){if(x.props.syncId===A){if(T===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(b)}}),ve(x,"handleBrushChange",function(A){var b=A.startIndex,T=A.endIndex;if(b!==x.state.dataStartIndex||T!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return X({dataStartIndex:b,dataEndIndex:T},p({props:x.props,dataStartIndex:b,dataEndIndex:T,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:b,dataEndIndex:T})}}),ve(x,"handleMouseEnter",function(A){var b=x.getMouseInfo(A);if(b){var T=X(X({},b),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var P=x.props.onMouseEnter;Se(P)&&P(T,A)}}),ve(x,"triggeredAfterMouseMove",function(A){var b=x.getMouseInfo(A),T=b?X(X({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var P=x.props.onMouseMove;Se(P)&&P(T,A)}),ve(x,"handleItemMouseEnter",function(A){x.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ve(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ve(x,"handleMouseMove",function(A){A.persist(),x.throttleTriggeredAfterMouseMove(A)}),ve(x,"handleMouseLeave",function(A){x.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};x.setState(b),x.triggerSyncEvent(b);var T=x.props.onMouseLeave;Se(T)&&T(b,A)}),ve(x,"handleOuterEvent",function(A){var b=Die(A),T=nr(x.props,"".concat(b));if(b&&Se(T)){var P,O;/.*touch.*/i.test(b)?O=x.getMouseInfo(A.changedTouches[0]):O=x.getMouseInfo(A),T((P=O)!==null&&P!==void 0?P:{},A)}}),ve(x,"handleClick",function(A){var b=x.getMouseInfo(A);if(b){var T=X(X({},b),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var P=x.props.onClick;Se(P)&&P(T,A)}}),ve(x,"handleMouseDown",function(A){var b=x.props.onMouseDown;if(Se(b)){var T=x.getMouseInfo(A);b(T,A)}}),ve(x,"handleMouseUp",function(A){var b=x.props.onMouseUp;if(Se(b)){var T=x.getMouseInfo(A);b(T,A)}}),ve(x,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ve(x,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&x.handleMouseDown(A.changedTouches[0])}),ve(x,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&x.handleMouseUp(A.changedTouches[0])}),ve(x,"handleDoubleClick",function(A){var b=x.props.onDoubleClick;if(Se(b)){var T=x.getMouseInfo(A);b(T,A)}}),ve(x,"handleContextMenu",function(A){var b=x.props.onContextMenu;if(Se(b)){var T=x.getMouseInfo(A);b(T,A)}}),ve(x,"triggerSyncEvent",function(A){x.props.syncId!==void 0&&J0.emit(Z0,x.props.syncId,A,x.eventEmitterSymbol)}),ve(x,"applySyncEvent",function(A){var b=x.props,T=b.layout,P=b.syncMethod,O=x.state.updateId,k=A.dataStartIndex,N=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)x.setState(X({dataStartIndex:k,dataEndIndex:N},p({props:x.props,dataStartIndex:k,dataEndIndex:N,updateId:O},x.state)));else if(A.activeTooltipIndex!==void 0){var C=A.chartX,R=A.chartY,V=A.activeTooltipIndex,$=x.state,F=$.offset,D=$.tooltipTicks;if(!F)return;if(typeof P=="function")V=P(D,A);else if(P==="value"){V=-1;for(var B=0;B<D.length;B++)if(D[B].value===A.activeLabel){V=B;break}}var U=X(X({},F),{},{x:F.left,y:F.top}),q=Math.min(C,U.x+U.width),W=Math.min(R,U.y+U.height),Y=D[V]&&D[V].value,ee=aE(x.state,x.props.data,V),ne=D[V]?{x:T==="horizontal"?D[V].coordinate:q,y:T==="horizontal"?W:D[V].coordinate}:r3;x.setState(X(X({},A),{},{activeLabel:Y,activeCoordinate:ne,activePayload:ee,activeTooltipIndex:V}))}else x.setState(A)}),ve(x,"renderCursor",function(A){var b,T=x.state,P=T.isTooltipActive,O=T.activeCoordinate,k=T.activePayload,N=T.offset,C=T.activeTooltipIndex,R=T.tooltipAxisBandSize,V=x.getTooltipEventType(),$=(b=A.props.active)!==null&&b!==void 0?b:P,F=x.props.layout,D=A.key||"_recharts-cursor";return z.createElement(MTe,{key:D,activeCoordinate:O,activePayload:k,activeTooltipIndex:C,chartName:n,element:A,isActive:$,layout:F,offset:N,tooltipAxisBandSize:R,tooltipEventType:V})}),ve(x,"renderPolarAxis",function(A,b,T){var P=nr(A,"type.axisType"),O=nr(x.state,"".concat(P,"Map")),k=A.type.defaultProps,N=k!==void 0?X(X({},k),A.props):A.props,C=O&&O[N["".concat(P,"Id")]];return L.cloneElement(A,X(X({},C),{},{className:De(P,C.className),key:A.key||"".concat(b,"-").concat(T),ticks:bi(C,!0)}))}),ve(x,"renderPolarGrid",function(A){var b=A.props,T=b.radialLines,P=b.polarAngles,O=b.polarRadius,k=x.state,N=k.radiusAxisMap,C=k.angleAxisMap,R=co(N),V=co(C),$=V.cx,F=V.cy,D=V.innerRadius,B=V.outerRadius;return L.cloneElement(A,{polarAngles:Array.isArray(P)?P:bi(V,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(O)?O:bi(R,!0).map(function(U){return U.coordinate}),cx:$,cy:F,innerRadius:D,outerRadius:B,key:A.key||"polar-grid",radialLines:T})}),ve(x,"renderLegend",function(){var A=x.state.formattedGraphicalItems,b=x.props,T=b.children,P=b.width,O=b.height,k=x.props.margin||{},N=P-(k.left||0)-(k.right||0),C=G4({children:T,formattedGraphicalItems:A,legendWidth:N,legendContent:l});if(!C)return null;var R=C.item,V=yN(C,$Te);return L.cloneElement(R,X(X({},V),{},{chartWidth:P,chartHeight:O,margin:k,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ve(x,"renderTooltip",function(){var A,b=x.props,T=b.children,P=b.accessibilityLayer,O=Rn(T,Ur);if(!O)return null;var k=x.state,N=k.isTooltipActive,C=k.activeCoordinate,R=k.activePayload,V=k.activeLabel,$=k.offset,F=(A=O.props.active)!==null&&A!==void 0?A:N;return L.cloneElement(O,{viewBox:X(X({},$),{},{x:$.left,y:$.top}),active:F,label:V,payload:F?R:[],coordinate:C,accessibilityLayer:P})}),ve(x,"renderBrush",function(A){var b=x.props,T=b.margin,P=b.data,O=x.state,k=O.offset,N=O.dataStartIndex,C=O.dataEndIndex,R=O.updateId;return L.cloneElement(A,{key:A.key||"_recharts-brush",onChange:ep(x.handleBrushChange,A.props.onChange),data:P,x:ae(A.props.x)?A.props.x:k.left,y:ae(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(T.bottom||0),width:ae(A.props.width)?A.props.width:k.width,startIndex:N,endIndex:C,updateId:"brush-".concat(R)})}),ve(x,"renderReferenceElement",function(A,b,T){if(!A)return null;var P=x,O=P.clipPathId,k=x.state,N=k.xAxisMap,C=k.yAxisMap,R=k.offset,V=A.type.defaultProps||{},$=A.props,F=$.xAxisId,D=F===void 0?V.xAxisId:F,B=$.yAxisId,U=B===void 0?V.yAxisId:B;return L.cloneElement(A,{key:A.key||"".concat(b,"-").concat(T),xAxis:N[D],yAxis:C[U],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:O})}),ve(x,"renderActivePoints",function(A){var b=A.item,T=A.activePoint,P=A.basePoint,O=A.childIndex,k=A.isRange,N=[],C=b.props.key,R=b.item.type.defaultProps!==void 0?X(X({},b.item.type.defaultProps),b.item.props):b.item.props,V=R.activeDot,$=R.dataKey,F=X(X({index:O,dataKey:$,cx:T.x,cy:T.y,r:4,fill:lS(b.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Oe(V,!1)),$m(V));return N.push(v.renderActiveDot(V,F,"".concat(C,"-activePoint-").concat(O))),P?N.push(v.renderActiveDot(V,X(X({},F),{},{cx:P.x,cy:P.y}),"".concat(C,"-basePoint-").concat(O))):k&&N.push(null),N}),ve(x,"renderGraphicChild",function(A,b,T){var P=x.filterFormatItem(A,b,T);if(!P)return null;var O=x.getTooltipEventType(),k=x.state,N=k.isTooltipActive,C=k.tooltipAxis,R=k.activeTooltipIndex,V=k.activeLabel,$=x.props.children,F=Rn($,Ur),D=P.props,B=D.points,U=D.isRange,q=D.baseLine,W=P.item.type.defaultProps!==void 0?X(X({},P.item.type.defaultProps),P.item.props):P.item.props,Y=W.activeDot,ee=W.hide,ne=W.activeBar,ue=W.activeShape,re=!!(!ee&&N&&F&&(Y||ne||ue)),le={};O!=="axis"&&F&&F.props.trigger==="click"?le={onClick:ep(x.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(le={onMouseLeave:ep(x.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:ep(x.handleItemMouseEnter,A.props.onMouseEnter)});var Q=L.cloneElement(A,X(X({},P.props),le));function se(ln){return typeof C.dataKey=="function"?C.dataKey(ln.payload):null}if(re)if(R>=0){var ie,G;if(C.dataKey&&!C.allowDuplicatedCategory){var me=typeof C.dataKey=="function"?se:"payload.".concat(C.dataKey.toString());ie=Mm(B,me,V),G=U&&q&&Mm(q,me,V)}else ie=B==null?void 0:B[R],G=U&&q&&q[R];if(ue||ne){var he=A.props.activeIndex!==void 0?A.props.activeIndex:R;return[L.cloneElement(A,X(X(X({},P.props),le),{},{activeIndex:he})),null,null]}if(!Pe(ie))return[Q].concat(Ku(x.renderActivePoints({item:P,activePoint:ie,basePoint:G,childIndex:R,isRange:U})))}else{var xe,Ce=(xe=x.getItemByXY(x.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:Q},vt=Ce.graphicalItem,gn=vt.item,Pn=gn===void 0?A:gn,yn=vt.childIndex,vn=X(X(X({},P.props),le),{},{activeIndex:yn});return[L.cloneElement(Pn,vn),null,null]}return U?[Q,null,null]:[Q,null]}),ve(x,"renderCustomized",function(A,b,T){return L.cloneElement(A,X(X({key:"recharts-customized-".concat(T)},x.props),x.state))}),ve(x,"renderMap",{CartesianGrid:{handler:op,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:op},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:op},YAxis:{handler:op},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:kd("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=XV(x.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return GTe(v,y),zTe(v,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,x=_.data,A=_.height,b=_.layout,T=Rn(S,Ur);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=aE(this.state,x,P,O),N=this.state.tooltipTicks[P].coordinate,C=(this.state.offset.top+A)/2,R=b==="horizontal",V=R?{x:N,y:C}:{y:N,x:C},$=this.state.formattedGraphicalItems.find(function(D){var B=D.item;return B.type.name==="Scatter"});$&&(V=X(X({},V),$.props.points[P].tooltipPosition),k=$.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:V};this.setState(F),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var x,A;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){Fw([Rn(_.children,Ur)],[Rn(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Rn(this.props.children,Ur);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),A=cme(x),b={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},T=x.width/S.offsetWidth||1,P=this.inRange(b.chartX,b.chartY,T);if(!P)return null;var O=this.state,k=O.xAxisMap,N=O.yAxisMap,C=this.getTooltipEventType();if(C!=="axis"&&k&&N){var R=co(k).scale,V=co(N).scale,$=R&&R.invert?R.invert(b.chartX):null,F=V&&V.invert?V.invert(b.chartY):null;return X(X({},b),{},{xValue:$,yValue:F})}var D=_N(this.state,this.props.data,this.props.layout,P);return D?X(X({},b),D):null}},{key:"inRange",value:function(_,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,b=_/x,T=S/x;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,O=b>=P.left&&b<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return O?{x:b,y:T}:null}var k=this.state,N=k.angleAxisMap,C=k.radiusAxisMap;if(N&&C){var R=co(N);return tk({x:b,y:T},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),x=Rn(_,Ur),A={};x&&S==="axis"&&(x.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var b=$m(this.props,this.handleOuterEvent);return X(X({},b),A)}},{key:"addListener",value:function(){J0.on(Z0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){J0.removeListener(Z0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,x){for(var A=this.state.formattedGraphicalItems,b=0,T=A.length;b<T;b++){var P=A[b];if(P.item===_||P.props.key===_.key||S===Si(P.item.type)&&x===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,x=S.left,A=S.top,b=S.height,T=S.width;return z.createElement("defs",null,z.createElement("clipPath",{id:_},z.createElement("rect",{x,y:A,height:b,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,x){var A=gN(x,2),b=A[0],T=A[1];return X(X({},S),{},ve({},b,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,x){var A=gN(x,2),b=A[0],T=A[1];return X(X({},S),{},ve({},b,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,x=S.formattedGraphicalItems,A=S.activeItem;if(x&&x.length)for(var b=0,T=x.length;b<T;b++){var P=x[b],O=P.props,k=P.item,N=k.type.defaultProps!==void 0?X(X({},k.type.defaultProps),k.props):k.props,C=Si(k.type);if(C==="Bar"){var R=(O.data||[]).find(function(D){return Ebe(_,D)});if(R)return{graphicalItem:P,payload:R}}else if(C==="RadialBar"){var V=(O.data||[]).find(function(D){return tk(_,D)});if(V)return{graphicalItem:P,payload:V}}else if(sv(P,A)||uv(P,A)||Jf(P,A)){var $=TEe({graphicalItem:P,activeTooltipItem:A,itemData:N.data}),F=N.activeIndex===void 0?$:N.activeIndex;return{graphicalItem:X(X({},P),{},{childIndex:F}),payload:Jf(P,A)?N.data[$]:P.props.data[$]}}}return null}},{key:"render",value:function(){var _=this;if(!eO(this))return null;var S=this.props,x=S.children,A=S.className,b=S.width,T=S.height,P=S.style,O=S.compact,k=S.title,N=S.desc,C=yN(S,DTe),R=Oe(C,!1);if(O)return z.createElement(Jk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(Uw,Us({},R,{width:b,height:T,title:k,desc:N}),this.renderClipPath(),nO(x,this.renderMap)));if(this.props.accessibilityLayer){var V,$;R.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,R.role=($=this.props.role)!==null&&$!==void 0?$:"application",R.onKeyDown=function(D){_.accessibilityManager.keyboardEvent(D)},R.onFocus=function(){_.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return z.createElement(Jk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Us({className:De("recharts-wrapper",A),style:X({position:"relative",cursor:"default",width:b,height:T},P)},F,{ref:function(B){_.container=B}}),z.createElement(Uw,Us({},R,{width:b,height:T,title:k,desc:N,style:ZTe}),this.renderClipPath(),nO(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);ve(m,"displayName",n),ve(m,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(m,"getDerivedStateFromProps",function(y,v){var w=y.dataKey,_=y.data,S=y.children,x=y.width,A=y.height,b=y.layout,T=y.stackOffset,P=y.margin,O=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var N=wN(y);return X(X(X({},N),{},{updateId:0},p(X(X({props:y},N),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:x,prevHeight:A,prevLayout:b,prevStackOffset:T,prevMargin:P,prevChildren:S})}if(w!==v.prevDataKey||_!==v.prevData||x!==v.prevWidth||A!==v.prevHeight||b!==v.prevLayout||T!==v.prevStackOffset||!nu(P,v.prevMargin)){var C=wN(y),R={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},V=X(X({},_N(v,_,b)),{},{updateId:v.updateId+1}),$=X(X(X({},C),R),V);return X(X(X({},$),p(X({props:y},$),v)),{},{prevDataKey:w,prevData:_,prevWidth:x,prevHeight:A,prevLayout:b,prevStackOffset:T,prevMargin:P,prevChildren:S})}if(!Fw(S,v.prevChildren)){var F,D,B,U,q=Rn(S,Lu),W=q&&(F=(D=q.props)===null||D===void 0?void 0:D.startIndex)!==null&&F!==void 0?F:O,Y=q&&(B=(U=q.props)===null||U===void 0?void 0:U.endIndex)!==null&&B!==void 0?B:k,ee=W!==O||Y!==k,ne=!Pe(_),ue=ne&&!ee?v.updateId:v.updateId+1;return X(X({updateId:ue},p(X(X({props:y},v),{},{updateId:ue,dataStartIndex:W,dataEndIndex:Y}),v)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:Y})}return null}),ve(m,"renderActiveDot",function(y,v,w){var _;return L.isValidElement(y)?_=L.cloneElement(y,v):Se(y)?_=y(v):_=z.createElement(fS,v),z.createElement(yt,{className:"recharts-active-dot",key:w},_)});var g=L.forwardRef(function(v,w){return z.createElement(m,Us({},v,{ref:w}))});return g.displayName=m.displayName,g},cAe=lAe({chartName:"LineChart",GraphicalChild:Ld,axisComponents:[{axisType:"xAxis",AxisComp:pv},{axisType:"yAxis",AxisComp:mv}],formatAxisMap:Qxe});const EN=["jacob.beauchamp75@gmail.com"];function fAe(){const[t,e]=L.useState([]),[n,r]=L.useState({totalUsers:0,totalGoals:0,activeUsers:0,anonymousGoals:0}),[i,o]=L.useState([]),{currentUser:a}=Za(),s=fd();L.useEffect(()=>{if(!a||!EN.includes(a.email)){s("/");return}const c=new Date;c.setDate(c.getDate()-30);const f=Vj(Mc(Vs,"events"),eJ("timestamp",">=",Tt.fromDate(c)),Fj("timestamp","desc")),d=Wj(f,p=>{const m=p.docs.map(g=>({id:g.id,...g.data(),timestamp:g.data().timestamp.toDate()}));e(m),u(m),l(m)});return()=>d()},[a,s]);const u=c=>{const f=new Set(c.map(y=>y.userId).filter(y=>y!=="anonymous")),d=c.filter(y=>y.type==="node_submitted"),p=d.filter(y=>y.userId==="anonymous"),m=new Date(Date.now()-24*60*60*1e3),g=new Set(c.filter(y=>new Date(y.timestamp)>m).map(y=>y.userId)).size;r({totalUsers:f.size,totalGoals:d.length,activeUsers:g,anonymousGoals:p.length})},l=c=>{const f={};c.filter(m=>m.type==="node_submitted").forEach(m=>{const g=m.timestamp.toISOString().split("T")[0];f[g]=(f[g]||0)+1});const p=Object.entries(f).map(([m,g])=>({date:m,count:g})).sort((m,g)=>m.date.localeCompare(g.date));o(p)};return!a||!EN.includes(a.email)?null:M.jsxs("div",{className:"min-h-screen bg-background text-text-primary p-8",children:[M.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Analytics Dashboard"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Total Users"}),M.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Total Goals"}),M.jsx("div",{className:"text-2xl font-bold",children:n.totalGoals})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Active Users (24h)"}),M.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Anonymous Goals"}),M.jsx("div",{className:"text-2xl font-bold",children:n.anonymousGoals})]})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border mb-8",children:[M.jsx("h2",{className:"text-lg font-bold mb-4",children:"Goals Created (Last 30 Days)"}),M.jsx("div",{className:"h-[300px]",children:M.jsx(rme,{width:"100%",height:"100%",children:M.jsxs(cAe,{data:i,children:[M.jsx(UF,{strokeDasharray:"3 3",stroke:"#333"}),M.jsx(pv,{dataKey:"date",stroke:"#666",tick:{fill:"#666"}}),M.jsx(mv,{stroke:"#666",tick:{fill:"#666"}}),M.jsx(Ur,{contentStyle:{backgroundColor:"#1E1F25",border:"1px solid #333",borderRadius:"4px"}}),M.jsx(Ld,{type:"monotone",dataKey:"count",stroke:"#4C9AFF",strokeWidth:2})]})})})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h2",{className:"text-lg font-bold mb-4",children:"Recent Events"}),M.jsx("div",{className:"space-y-4",children:t.slice(0,10).map(c=>M.jsxs("div",{className:"bg-background p-4 rounded-lg border border-border",children:[M.jsx("div",{className:"font-medium",children:c.type}),M.jsxs("div",{className:"text-text-secondary text-sm",children:["User: ",c.userId]}),M.jsx("div",{className:"text-text-secondary text-sm",children:c.timestamp.toString()}),c.type==="node_submitted"&&M.jsxs("div",{className:"mt-2 text-sm bg-surface/50 p-2 rounded",children:["Goal: ",c.data.goalText]})]},c.id))})]})]})}function dAe(){return M.jsx(W5,{children:M.jsx(M$,{children:M.jsxs(j5,{children:[M.jsx(uc,{path:"/",element:M.jsx(qee,{})}),M.jsx(uc,{path:"/account",element:M.jsx(Bee,{})}),M.jsx(uc,{path:"/settings/advanced",element:M.jsx(Gee,{})}),M.jsx(uc,{path:"/admin",element:M.jsx(fAe,{})})]})})})}const hAe=document.getElementById("root"),pAe=$2(hAe);pAe.render(M.jsx(z.StrictMode,{children:M.jsx(kee,{children:M.jsx(dAe,{})})}));
