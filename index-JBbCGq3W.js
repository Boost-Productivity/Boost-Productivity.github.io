function C3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NN={exports:{}},kg={},RN={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.element"),k3=Symbol.for("react.portal"),N3=Symbol.for("react.fragment"),R3=Symbol.for("react.strict_mode"),M3=Symbol.for("react.profiler"),D3=Symbol.for("react.provider"),$3=Symbol.for("react.context"),j3=Symbol.for("react.forward_ref"),L3=Symbol.for("react.suspense"),V3=Symbol.for("react.memo"),F3=Symbol.for("react.lazy"),rT=Symbol.iterator;function B3(t){return t===null||typeof t!="object"?null:(t=rT&&t[rT]||t["@@iterator"],typeof t=="function"?t:null)}var MN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DN=Object.assign,$N={};function Ql(t,e,n){this.props=t,this.context=e,this.refs=$N,this.updater=n||MN}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jN(){}jN.prototype=Ql.prototype;function fx(t,e,n){this.props=t,this.context=e,this.refs=$N,this.updater=n||MN}var dx=fx.prototype=new jN;dx.constructor=fx;DN(dx,Ql.prototype);dx.isPureReactComponent=!0;var iT=Array.isArray,LN=Object.prototype.hasOwnProperty,hx={current:null},VN={key:!0,ref:!0,__self:!0,__source:!0};function FN(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)LN.call(e,r)&&!VN.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ad,type:t,key:o,ref:a,props:i,_owner:hx.current}}function U3(t,e){return{$$typeof:ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function px(t){return typeof t=="object"&&t!==null&&t.$$typeof===ad}function z3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oT=/\/+/g;function Rv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z3(""+t.key):e.toString(36)}function sp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ad:case k3:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Rv(a,0):r,iT(i)?(n="",t!=null&&(n=t.replace(oT,"$&/")+"/"),sp(i,e,n,"",function(u){return u})):i!=null&&(px(i)&&(i=U3(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(oT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",iT(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Rv(o,s);a+=sp(o,e,n,l,i)}else if(l=B3(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Rv(o,s++),a+=sp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function vh(t,e,n){if(t==null)return t;var r=[],i=0;return sp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function W3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},lp={transition:null},H3={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:lp,ReactCurrentOwner:hx};function BN(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:vh,forEach:function(t,e,n){vh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vh(t,function(){e++}),e},toArray:function(t){return vh(t,function(e){return e})||[]},only:function(t){if(!px(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Ql;Ae.Fragment=N3;Ae.Profiler=M3;Ae.PureComponent=fx;Ae.StrictMode=R3;Ae.Suspense=L3;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H3;Ae.act=BN;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DN({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=hx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)LN.call(e,l)&&!VN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ad,type:t.type,key:i,ref:o,props:r,_owner:a}};Ae.createContext=function(t){return t={$$typeof:$3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D3,_context:t},t.Consumer=t};Ae.createElement=FN;Ae.createFactory=function(t){var e=FN.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:j3,render:t}};Ae.isValidElement=px;Ae.lazy=function(t){return{$$typeof:F3,_payload:{_status:-1,_result:t},_init:W3}};Ae.memo=function(t,e){return{$$typeof:V3,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=lp.transition;lp.transition={};try{t()}finally{lp.transition=e}};Ae.unstable_act=BN;Ae.useCallback=function(t,e){return vn.current.useCallback(t,e)};Ae.useContext=function(t){return vn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return vn.current.useEffect(t,e)};Ae.useId=function(){return vn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return vn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Ae.useRef=function(t){return vn.current.useRef(t)};Ae.useState=function(t){return vn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return vn.current.useTransition()};Ae.version="18.3.1";RN.exports=Ae;var D=RN.exports;const z=ze(D),q3=C3({__proto__:null,default:z},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3=D,K3=Symbol.for("react.element"),X3=Symbol.for("react.fragment"),Y3=Object.prototype.hasOwnProperty,Q3=G3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J3={key:!0,ref:!0,__self:!0,__source:!0};function UN(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Y3.call(e,r)&&!J3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:K3,type:t,key:o,ref:a,props:i,_owner:Q3.current}}kg.Fragment=X3;kg.jsx=UN;kg.jsxs=UN;NN.exports=kg;var M=NN.exports,zN={exports:{}},zn={},WN={exports:{}},HN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var U=L.length;L.push(B);e:for(;0<U;){var G=U-1>>>1,W=L[G];if(0<i(W,B))L[G]=B,L[U]=W,U=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],U=L.pop();if(U!==B){L[0]=U;e:for(var G=0,W=L.length,K=W>>>1;G<K;){var Y=2*(G+1)-1,ee=L[Y],ne=Y+1,re=L[ne];if(0>i(ee,U))ne<W&&0>i(re,ee)?(L[G]=re,L[ne]=U,G=ne):(L[G]=ee,L[Y]=U,G=Y);else if(ne<W&&0>i(re,U))L[G]=re,L[ne]=U,G=ne;else break e}}return B}function i(L,B){var U=L.sortIndex-B.sortIndex;return U!==0?U:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function S(L){if(g=!1,_(L),!m)if(n(l)!==null)m=!0,j(E);else{var B=n(u);B!==null&&F(S,B.startTime-L)}}function E(L,B){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var U=d;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||L&&!C());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var W=G(f.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var Y=n(u);Y!==null&&F(S,Y.startTime-B),K=!1}return K}finally{f=null,d=U,p=!1}}var A=!1,b=null,T=-1,P=5,O=-1;function C(){return!(t.unstable_now()-O<P)}function N(){if(b!==null){var L=t.unstable_now();O=L;var B=!0;try{B=b(!0,L)}finally{B?k():(A=!1,b=null)}}else A=!1}var k;if(typeof w=="function")k=function(){w(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=N,k=function(){V.postMessage(null)}}else k=function(){y(N,0)};function j(L){b=L,A||(A=!0,k())}function F(L,B){T=y(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var U=d;d=B;try{return L()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=d;d=L;try{return B()}finally{d=U}},t.unstable_scheduleCallback=function(L,B,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,L={id:c++,callback:B,priorityLevel:L,startTime:U,expirationTime:W,sortIndex:-1},U>G?(L.sortIndex=U,e(u,L),n(l)===null&&L===n(u)&&(g?(v(T),T=-1):g=!0,F(S,U-G))):(L.sortIndex=W,e(l,L),m||p||(m=!0,j(E))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var B=d;return function(){var U=d;d=B;try{return L.apply(this,arguments)}finally{d=U}}}})(HN);WN.exports=HN;var Z3=WN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB=D,Fn=Z3;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qN=new Set,zc={};function Ga(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(zc[t]=e,t=0;t<e.length;t++)qN.add(e[t])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r_=Object.prototype.hasOwnProperty,tB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aT={},sT={};function nB(t){return r_.call(sT,t)?!0:r_.call(aT,t)?!1:tB.test(t)?sT[t]=!0:(aT[t]=!0,!1)}function rB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iB(t,e,n,r){if(e===null||typeof e>"u"||rB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var mx=/[\-:]([a-z])/g;function gx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mx,gx);Yt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mx,gx);Yt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mx,gx);Yt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function yx(t,e,n,r){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iB(e,n,i,r)&&(n=null),r||i===null?nB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=eB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_h=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),i_=Symbol.for("react.profiler"),GN=Symbol.for("react.provider"),KN=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),o_=Symbol.for("react.suspense"),a_=Symbol.for("react.suspense_list"),wx=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),XN=Symbol.for("react.offscreen"),lT=Symbol.iterator;function Vu(t){return t===null||typeof t!="object"?null:(t=lT&&t[lT]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Mv;function ac(t){if(Mv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mv=e&&e[1]||""}return`
`+Mv+t}var Dv=!1;function $v(t,e){if(!t||Dv)return"";Dv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Dv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ac(t):""}function oB(t){switch(t.tag){case 5:return ac(t.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return t=$v(t.type,!1),t;case 11:return t=$v(t.type.render,!1),t;case 1:return t=$v(t.type,!0),t;default:return""}}function s_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Os:return"Fragment";case Is:return"Portal";case i_:return"Profiler";case vx:return"StrictMode";case o_:return"Suspense";case a_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KN:return(t.displayName||"Context")+".Consumer";case GN:return(t._context.displayName||"Context")+".Provider";case _x:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wx:return e=t.displayName||null,e!==null?e:s_(t.type)||"Memo";case ro:e=t._payload,t=t._init;try{return s_(t(e))}catch{}}return null}function aB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s_(e);case 8:return e===vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sB(t){var e=YN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wh(t){t._valueTracker||(t._valueTracker=sB(t))}function QN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Np(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function l_(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Do(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JN(t,e){e=e.checked,e!=null&&yx(t,"checked",e,!1)}function u_(t,e){JN(t,e);var n=Do(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?c_(t,e.type,n):e.hasOwnProperty("defaultValue")&&c_(t,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function c_(t,e,n){(e!=="number"||Np(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sc=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Do(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function f_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(sc(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Do(n)}}function ZN(t,e){var n=Do(e.value),r=Do(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bh,tR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lB=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){lB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function nR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function rR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uB=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h_(t,e){if(e){if(uB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function p_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m_=null;function bx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var g_=null,Gs=null,Ks=null;function hT(t){if(t=ud(t)){if(typeof g_!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=$g(e),g_(t.stateNode,t.type,e))}}function iR(t){Gs?Ks?Ks.push(t):Ks=[t]:Gs=t}function oR(){if(Gs){var t=Gs,e=Ks;if(Ks=Gs=null,hT(t),e)for(t=0;t<e.length;t++)hT(e[t])}}function aR(t,e){return t(e)}function sR(){}var jv=!1;function lR(t,e,n){if(jv)return t(e,n);jv=!0;try{return aR(t,e,n)}finally{jv=!1,(Gs!==null||Ks!==null)&&(sR(),oR())}}function Hc(t,e){var n=t.stateNode;if(n===null)return null;var r=$g(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var y_=!1;if(Oi)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){y_=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{y_=!1}function cB(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var xc=!1,Rp=null,Mp=!1,v_=null,fB={onError:function(t){xc=!0,Rp=t}};function dB(t,e,n,r,i,o,a,s,l){xc=!1,Rp=null,cB.apply(fB,arguments)}function hB(t,e,n,r,i,o,a,s,l){if(dB.apply(this,arguments),xc){if(xc){var u=Rp;xc=!1,Rp=null}else throw Error(ie(198));Mp||(Mp=!0,v_=u)}}function Ka(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pT(t){if(Ka(t)!==t)throw Error(ie(188))}function pB(t){var e=t.alternate;if(!e){if(e=Ka(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return pT(i),t;if(o===r)return pT(i),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function cR(t){return t=pB(t),t!==null?fR(t):null}function fR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fR(t);if(e!==null)return e;t=t.sibling}return null}var dR=Fn.unstable_scheduleCallback,mT=Fn.unstable_cancelCallback,mB=Fn.unstable_shouldYield,gB=Fn.unstable_requestPaint,mt=Fn.unstable_now,yB=Fn.unstable_getCurrentPriorityLevel,xx=Fn.unstable_ImmediatePriority,hR=Fn.unstable_UserBlockingPriority,Dp=Fn.unstable_NormalPriority,vB=Fn.unstable_LowPriority,pR=Fn.unstable_IdlePriority,Ng=null,Gr=null;function _B(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Ng,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:xB,wB=Math.log,bB=Math.LN2;function xB(t){return t>>>=0,t===0?32:31-(wB(t)/bB|0)|0}var xh=64,Eh=4194304;function lc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $p(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=lc(s):(o&=a,o!==0&&(r=lc(o)))}else a=n&~i,a!==0?r=lc(a):o!==0&&(r=lc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function EB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=EB(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function __(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mR(){var t=xh;return xh<<=1,!(xh&4194240)&&(xh=64),t}function Lv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function TB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ex(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function gR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yR,Sx,vR,_R,wR,w_=!1,Sh=[],_o=null,wo=null,bo=null,qc=new Map,Gc=new Map,ao=[],AB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gT(t,e){switch(t){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function Bu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ud(e),e!==null&&Sx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PB(t,e,n,r,i){switch(e){case"focusin":return _o=Bu(_o,t,e,n,r,i),!0;case"dragenter":return wo=Bu(wo,t,e,n,r,i),!0;case"mouseover":return bo=Bu(bo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qc.set(o,Bu(qc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gc.set(o,Bu(Gc.get(o)||null,t,e,n,r,i)),!0}return!1}function bR(t){var e=ca(t.target);if(e!==null){var n=Ka(e);if(n!==null){if(e=n.tag,e===13){if(e=uR(n),e!==null){t.blockedOn=e,wR(t.priority,function(){vR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function up(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=b_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);m_=r,n.target.dispatchEvent(r),m_=null}else return e=ud(n),e!==null&&Sx(e),t.blockedOn=n,!1;e.shift()}return!0}function yT(t,e,n){up(t)&&n.delete(e)}function IB(){w_=!1,_o!==null&&up(_o)&&(_o=null),wo!==null&&up(wo)&&(wo=null),bo!==null&&up(bo)&&(bo=null),qc.forEach(yT),Gc.forEach(yT)}function Uu(t,e){t.blockedOn===e&&(t.blockedOn=null,w_||(w_=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,IB)))}function Kc(t){function e(i){return Uu(i,t)}if(0<Sh.length){Uu(Sh[0],t);for(var n=1;n<Sh.length;n++){var r=Sh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_o!==null&&Uu(_o,t),wo!==null&&Uu(wo,t),bo!==null&&Uu(bo,t),qc.forEach(e),Gc.forEach(e),n=0;n<ao.length;n++)r=ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ao.length&&(n=ao[0],n.blockedOn===null);)bR(n),n.blockedOn===null&&ao.shift()}var Xs=Ui.ReactCurrentBatchConfig,jp=!0;function OB(t,e,n,r){var i=Ve,o=Xs.transition;Xs.transition=null;try{Ve=1,Tx(t,e,n,r)}finally{Ve=i,Xs.transition=o}}function CB(t,e,n,r){var i=Ve,o=Xs.transition;Xs.transition=null;try{Ve=4,Tx(t,e,n,r)}finally{Ve=i,Xs.transition=o}}function Tx(t,e,n,r){if(jp){var i=b_(t,e,n,r);if(i===null)Kv(t,e,r,Lp,n),gT(t,r);else if(PB(i,t,e,n,r))r.stopPropagation();else if(gT(t,r),e&4&&-1<AB.indexOf(t)){for(;i!==null;){var o=ud(i);if(o!==null&&yR(o),o=b_(t,e,n,r),o===null&&Kv(t,e,r,Lp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Kv(t,e,r,null,n)}}var Lp=null;function b_(t,e,n,r){if(Lp=null,t=bx(r),t=ca(t),t!==null)if(e=Ka(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lp=t,null}function xR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yB()){case xx:return 1;case hR:return 4;case Dp:case vB:return 16;case pR:return 536870912;default:return 16}default:return 16}}var po=null,Ax=null,cp=null;function ER(){if(cp)return cp;var t,e=Ax,n=e.length,r,i="value"in po?po.value:po.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return cp=i.slice(t,1<r?1-r:void 0)}function fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function vT(){return!1}function Wn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Th:vT,this.isPropagationStopped=vT,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Px=Wn(Jl),ld=st({},Jl,{view:0,detail:0}),kB=Wn(ld),Vv,Fv,zu,Rg=st({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ix,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zu&&(zu&&t.type==="mousemove"?(Vv=t.screenX-zu.screenX,Fv=t.screenY-zu.screenY):Fv=Vv=0,zu=t),Vv)},movementY:function(t){return"movementY"in t?t.movementY:Fv}}),_T=Wn(Rg),NB=st({},Rg,{dataTransfer:0}),RB=Wn(NB),MB=st({},ld,{relatedTarget:0}),Bv=Wn(MB),DB=st({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),$B=Wn(DB),jB=st({},Jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LB=Wn(jB),VB=st({},Jl,{data:0}),wT=Wn(VB),FB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UB[t])?!!e[t]:!1}function Ix(){return zB}var WB=st({},ld,{key:function(t){if(t.key){var e=FB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ix,charCode:function(t){return t.type==="keypress"?fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HB=Wn(WB),qB=st({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bT=Wn(qB),GB=st({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ix}),KB=Wn(GB),XB=st({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),YB=Wn(XB),QB=st({},Rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JB=Wn(QB),ZB=[9,13,27,32],Ox=Oi&&"CompositionEvent"in window,Ec=null;Oi&&"documentMode"in document&&(Ec=document.documentMode);var eU=Oi&&"TextEvent"in window&&!Ec,SR=Oi&&(!Ox||Ec&&8<Ec&&11>=Ec),xT=" ",ET=!1;function TR(t,e){switch(t){case"keyup":return ZB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function tU(t,e){switch(t){case"compositionend":return AR(e);case"keypress":return e.which!==32?null:(ET=!0,xT);case"textInput":return t=e.data,t===xT&&ET?null:t;default:return null}}function nU(t,e){if(Cs)return t==="compositionend"||!Ox&&TR(t,e)?(t=ER(),cp=Ax=po=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SR&&e.locale!=="ko"?null:e.data;default:return null}}var rU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ST(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rU[t.type]:e==="textarea"}function PR(t,e,n,r){iR(r),e=Vp(e,"onChange"),0<e.length&&(n=new Px("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sc=null,Xc=null;function iU(t){LR(t,0)}function Mg(t){var e=Rs(t);if(QN(e))return t}function oU(t,e){if(t==="change")return e}var IR=!1;if(Oi){var Uv;if(Oi){var zv="oninput"in document;if(!zv){var TT=document.createElement("div");TT.setAttribute("oninput","return;"),zv=typeof TT.oninput=="function"}Uv=zv}else Uv=!1;IR=Uv&&(!document.documentMode||9<document.documentMode)}function AT(){Sc&&(Sc.detachEvent("onpropertychange",OR),Xc=Sc=null)}function OR(t){if(t.propertyName==="value"&&Mg(Xc)){var e=[];PR(e,Xc,t,bx(t)),lR(iU,e)}}function aU(t,e,n){t==="focusin"?(AT(),Sc=e,Xc=n,Sc.attachEvent("onpropertychange",OR)):t==="focusout"&&AT()}function sU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mg(Xc)}function lU(t,e){if(t==="click")return Mg(e)}function uU(t,e){if(t==="input"||t==="change")return Mg(e)}function cU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:cU;function Yc(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r_.call(e,i)||!kr(t[i],e[i]))return!1}return!0}function PT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IT(t,e){var n=PT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PT(n)}}function CR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kR(){for(var t=window,e=Np();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Np(t.document)}return e}function Cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fU(t){var e=kR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CR(n.ownerDocument.documentElement,n)){if(r!==null&&Cx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=IT(n,o);var a=IT(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dU=Oi&&"documentMode"in document&&11>=document.documentMode,ks=null,x_=null,Tc=null,E_=!1;function OT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E_||ks==null||ks!==Np(r)||(r=ks,"selectionStart"in r&&Cx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&Yc(Tc,r)||(Tc=r,r=Vp(x_,"onSelect"),0<r.length&&(e=new Px("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function Ah(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ns={animationend:Ah("Animation","AnimationEnd"),animationiteration:Ah("Animation","AnimationIteration"),animationstart:Ah("Animation","AnimationStart"),transitionend:Ah("Transition","TransitionEnd")},Wv={},NR={};Oi&&(NR=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Dg(t){if(Wv[t])return Wv[t];if(!Ns[t])return t;var e=Ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NR)return Wv[t]=e[n];return t}var RR=Dg("animationend"),MR=Dg("animationiteration"),DR=Dg("animationstart"),$R=Dg("transitionend"),jR=new Map,CT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){jR.set(t,e),Ga(e,[t])}for(var Hv=0;Hv<CT.length;Hv++){var qv=CT[Hv],hU=qv.toLowerCase(),pU=qv[0].toUpperCase()+qv.slice(1);Fo(hU,"on"+pU)}Fo(RR,"onAnimationEnd");Fo(MR,"onAnimationIteration");Fo(DR,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo($R,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mU=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function kT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hB(r,e,void 0,t),t.currentTarget=null}function LR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;kT(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;kT(i,s,u),o=l}}}if(Mp)throw t=v_,Mp=!1,v_=null,t}function Ye(t,e){var n=e[I_];n===void 0&&(n=e[I_]=new Set);var r=t+"__bubble";n.has(r)||(VR(e,t,2,!1),n.add(r))}function Gv(t,e,n){var r=0;e&&(r|=4),VR(n,t,r,e)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[Ph]){t[Ph]=!0,qN.forEach(function(n){n!=="selectionchange"&&(mU.has(n)||Gv(n,!1,t),Gv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ph]||(e[Ph]=!0,Gv("selectionchange",!1,e))}}function VR(t,e,n,r){switch(xR(e)){case 1:var i=OB;break;case 4:i=CB;break;default:i=Tx}n=i.bind(null,e,n,t),i=void 0,!y_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ca(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}lR(function(){var u=o,c=bx(n),f=[];e:{var d=jR.get(t);if(d!==void 0){var p=Px,m=t;switch(t){case"keypress":if(fp(n)===0)break e;case"keydown":case"keyup":p=HB;break;case"focusin":m="focus",p=Bv;break;case"focusout":m="blur",p=Bv;break;case"beforeblur":case"afterblur":p=Bv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_T;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KB;break;case RR:case MR:case DR:p=$B;break;case $R:p=YB;break;case"scroll":p=kB;break;case"wheel":p=JB;break;case"copy":case"cut":case"paste":p=LB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bT}var g=(e&4)!==0,y=!g&&t==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var w=u,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=Hc(w,v),S!=null&&g.push(Jc(w,S,_)))),y)break;w=w.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==m_&&(m=n.relatedTarget||n.fromElement)&&(ca(m)||m[Ci]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ca(m):null,m!==null&&(y=Ka(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=_T,S="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=bT,S="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?d:Rs(p),_=m==null?d:Rs(m),d=new g(S,w+"leave",p,n,c),d.target=y,d.relatedTarget=_,S=null,ca(c)===u&&(g=new g(v,w+"enter",m,n,c),g.target=_,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,v=m,w=0,_=g;_;_=_s(_))w++;for(_=0,S=v;S;S=_s(S))_++;for(;0<w-_;)g=_s(g),w--;for(;0<_-w;)v=_s(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=_s(g),v=_s(v)}g=null}else g=null;p!==null&&NT(f,d,p,g,!1),m!==null&&y!==null&&NT(f,y,m,g,!0)}}e:{if(d=u?Rs(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=oU;else if(ST(d))if(IR)E=uU;else{E=sU;var A=aU}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=lU);if(E&&(E=E(t,u))){PR(f,E,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&c_(d,"number",d.value)}switch(A=u?Rs(u):window,t){case"focusin":(ST(A)||A.contentEditable==="true")&&(ks=A,x_=u,Tc=null);break;case"focusout":Tc=x_=ks=null;break;case"mousedown":E_=!0;break;case"contextmenu":case"mouseup":case"dragend":E_=!1,OT(f,n,c);break;case"selectionchange":if(dU)break;case"keydown":case"keyup":OT(f,n,c)}var b;if(Ox)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Cs?TR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(SR&&n.locale!=="ko"&&(Cs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Cs&&(b=ER()):(po=c,Ax="value"in po?po.value:po.textContent,Cs=!0)),A=Vp(u,T),0<A.length&&(T=new wT(T,t,null,n,c),f.push({event:T,listeners:A}),b?T.data=b:(b=AR(n),b!==null&&(T.data=b)))),(b=eU?tU(t,n):nU(t,n))&&(u=Vp(u,"onBeforeInput"),0<u.length&&(c=new wT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}LR(f,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hc(t,n),o!=null&&r.unshift(Jc(t,o,i)),o=Hc(t,e),o!=null&&r.push(Jc(t,o,i))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NT(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Hc(n,o),l!=null&&a.unshift(Jc(n,l,s))):i||(l=Hc(n,o),l!=null&&a.push(Jc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var gU=/\r\n?/g,yU=/\u0000|\uFFFD/g;function RT(t){return(typeof t=="string"?t:""+t).replace(gU,`
`).replace(yU,"")}function Ih(t,e,n){if(e=RT(e),RT(t)!==e&&n)throw Error(ie(425))}function Fp(){}var S_=null,T_=null;function A_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P_=typeof setTimeout=="function"?setTimeout:void 0,vU=typeof clearTimeout=="function"?clearTimeout:void 0,MT=typeof Promise=="function"?Promise:void 0,_U=typeof queueMicrotask=="function"?queueMicrotask:typeof MT<"u"?function(t){return MT.resolve(null).then(t).catch(wU)}:P_;function wU(t){setTimeout(function(){throw t})}function Xv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Kc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kc(e)}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Zl,Zc="__reactProps$"+Zl,Ci="__reactContainer$"+Zl,I_="__reactEvents$"+Zl,bU="__reactListeners$"+Zl,xU="__reactHandles$"+Zl;function ca(t){var e=t[Hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DT(t);t!==null;){if(n=t[Hr])return n;t=DT(t)}return e}t=n,n=t.parentNode}return null}function ud(t){return t=t[Hr]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function $g(t){return t[Zc]||null}var O_=[],Ms=-1;function Bo(t){return{current:t}}function et(t){0>Ms||(t.current=O_[Ms],O_[Ms]=null,Ms--)}function Ke(t,e){Ms++,O_[Ms]=t.current,t.current=e}var $o={},cn=Bo($o),En=Bo(!1),Aa=$o;function ll(t,e){var n=t.type.contextTypes;if(!n)return $o;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Bp(){et(En),et(cn)}function $T(t,e,n){if(cn.current!==$o)throw Error(ie(168));Ke(cn,e),Ke(En,n)}function FR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,aB(t)||"Unknown",i));return st({},n,r)}function Up(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$o,Aa=cn.current,Ke(cn,t),Ke(En,En.current),!0}function jT(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=FR(t,e,Aa),r.__reactInternalMemoizedMergedChildContext=t,et(En),et(cn),Ke(cn,t)):et(En),Ke(En,n)}var hi=null,jg=!1,Yv=!1;function BR(t){hi===null?hi=[t]:hi.push(t)}function EU(t){jg=!0,BR(t)}function Uo(){if(!Yv&&hi!==null){Yv=!0;var t=0,e=Ve;try{var n=hi;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,jg=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),dR(xx,Uo),i}finally{Ve=e,Yv=!1}}return null}var Ds=[],$s=0,zp=null,Wp=0,Kn=[],Xn=0,Pa=null,mi=1,gi="";function ra(t,e){Ds[$s++]=Wp,Ds[$s++]=zp,zp=t,Wp=e}function UR(t,e,n){Kn[Xn++]=mi,Kn[Xn++]=gi,Kn[Xn++]=Pa,Pa=t;var r=mi;t=gi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,mi=1<<32-Pr(e)+i|n<<i|r,gi=o+t}else mi=1<<o|n<<i|r,gi=t}function kx(t){t.return!==null&&(ra(t,1),UR(t,1,0))}function Nx(t){for(;t===zp;)zp=Ds[--$s],Ds[$s]=null,Wp=Ds[--$s],Ds[$s]=null;for(;t===Pa;)Pa=Kn[--Xn],Kn[Xn]=null,gi=Kn[--Xn],Kn[Xn]=null,mi=Kn[--Xn],Kn[Xn]=null}var Ln=null,jn=null,tt=!1,wr=null;function zR(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,jn=xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pa!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,jn=null,!0):!1;default:return!1}}function C_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function k_(t){if(tt){var e=jn;if(e){var n=e;if(!LT(t,e)){if(C_(t))throw Error(ie(418));e=xo(n.nextSibling);var r=Ln;e&&LT(t,e)?zR(r,n):(t.flags=t.flags&-4097|2,tt=!1,Ln=t)}}else{if(C_(t))throw Error(ie(418));t.flags=t.flags&-4097|2,tt=!1,Ln=t}}}function VT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Oh(t){if(t!==Ln)return!1;if(!tt)return VT(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A_(t.type,t.memoizedProps)),e&&(e=jn)){if(C_(t))throw WR(),Error(ie(418));for(;e;)zR(t,e),e=xo(e.nextSibling)}if(VT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Ln?xo(t.stateNode.nextSibling):null;return!0}function WR(){for(var t=jn;t;)t=xo(t.nextSibling)}function ul(){jn=Ln=null,tt=!1}function Rx(t){wr===null?wr=[t]:wr.push(t)}var SU=Ui.ReactCurrentBatchConfig;function Wu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function Ch(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FT(t){var e=t._init;return e(t._payload)}function HR(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Ao(v,w),v.index=0,v.sibling=null,v}function o(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,_,S){return w===null||w.tag!==6?(w=r0(_,v.mode,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,S){var E=_.type;return E===Os?c(v,w,_.props.children,S,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ro&&FT(E)===w.type)?(S=i(w,_.props),S.ref=Wu(v,w,_),S.return=v,S):(S=vp(_.type,_.key,_.props,null,v.mode,S),S.ref=Wu(v,w,_),S.return=v,S)}function u(v,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=i0(_,v.mode,S),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function c(v,w,_,S,E){return w===null||w.tag!==7?(w=ba(_,v.mode,S,E),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=r0(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _h:return _=vp(w.type,w.key,w.props,null,v.mode,_),_.ref=Wu(v,null,w),_.return=v,_;case Is:return w=i0(w,v.mode,_),w.return=v,w;case ro:var S=w._init;return f(v,S(w._payload),_)}if(sc(w)||Vu(w))return w=ba(w,v.mode,_,null),w.return=v,w;Ch(v,w)}return null}function d(v,w,_,S){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(v,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _h:return _.key===E?l(v,w,_,S):null;case Is:return _.key===E?u(v,w,_,S):null;case ro:return E=_._init,d(v,w,E(_._payload),S)}if(sc(_)||Vu(_))return E!==null?null:c(v,w,_,S,null);Ch(v,_)}return null}function p(v,w,_,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,s(w,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _h:return v=v.get(S.key===null?_:S.key)||null,l(w,v,S,E);case Is:return v=v.get(S.key===null?_:S.key)||null,u(w,v,S,E);case ro:var A=S._init;return p(v,w,_,A(S._payload),E)}if(sc(S)||Vu(S))return v=v.get(_)||null,c(w,v,S,E,null);Ch(w,S)}return null}function m(v,w,_,S){for(var E=null,A=null,b=w,T=w=0,P=null;b!==null&&T<_.length;T++){b.index>T?(P=b,b=null):P=b.sibling;var O=d(v,b,_[T],S);if(O===null){b===null&&(b=P);break}t&&b&&O.alternate===null&&e(v,b),w=o(O,w,T),A===null?E=O:A.sibling=O,A=O,b=P}if(T===_.length)return n(v,b),tt&&ra(v,T),E;if(b===null){for(;T<_.length;T++)b=f(v,_[T],S),b!==null&&(w=o(b,w,T),A===null?E=b:A.sibling=b,A=b);return tt&&ra(v,T),E}for(b=r(v,b);T<_.length;T++)P=p(b,v,T,_[T],S),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),w=o(P,w,T),A===null?E=P:A.sibling=P,A=P);return t&&b.forEach(function(C){return e(v,C)}),tt&&ra(v,T),E}function g(v,w,_,S){var E=Vu(_);if(typeof E!="function")throw Error(ie(150));if(_=E.call(_),_==null)throw Error(ie(151));for(var A=E=null,b=w,T=w=0,P=null,O=_.next();b!==null&&!O.done;T++,O=_.next()){b.index>T?(P=b,b=null):P=b.sibling;var C=d(v,b,O.value,S);if(C===null){b===null&&(b=P);break}t&&b&&C.alternate===null&&e(v,b),w=o(C,w,T),A===null?E=C:A.sibling=C,A=C,b=P}if(O.done)return n(v,b),tt&&ra(v,T),E;if(b===null){for(;!O.done;T++,O=_.next())O=f(v,O.value,S),O!==null&&(w=o(O,w,T),A===null?E=O:A.sibling=O,A=O);return tt&&ra(v,T),E}for(b=r(v,b);!O.done;T++,O=_.next())O=p(b,v,T,O.value,S),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?T:O.key),w=o(O,w,T),A===null?E=O:A.sibling=O,A=O);return t&&b.forEach(function(N){return e(v,N)}),tt&&ra(v,T),E}function y(v,w,_,S){if(typeof _=="object"&&_!==null&&_.type===Os&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _h:e:{for(var E=_.key,A=w;A!==null;){if(A.key===E){if(E=_.type,E===Os){if(A.tag===7){n(v,A.sibling),w=i(A,_.props.children),w.return=v,v=w;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ro&&FT(E)===A.type){n(v,A.sibling),w=i(A,_.props),w.ref=Wu(v,A,_),w.return=v,v=w;break e}n(v,A);break}else e(v,A);A=A.sibling}_.type===Os?(w=ba(_.props.children,v.mode,S,_.key),w.return=v,v=w):(S=vp(_.type,_.key,_.props,null,v.mode,S),S.ref=Wu(v,w,_),S.return=v,v=S)}return a(v);case Is:e:{for(A=_.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=i0(_,v.mode,S),w.return=v,v=w}return a(v);case ro:return A=_._init,y(v,w,A(_._payload),S)}if(sc(_))return m(v,w,_,S);if(Vu(_))return g(v,w,_,S);Ch(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,_),w.return=v,v=w):(n(v,w),w=r0(_,v.mode,S),w.return=v,v=w),a(v)):n(v,w)}return y}var cl=HR(!0),qR=HR(!1),Hp=Bo(null),qp=null,js=null,Mx=null;function Dx(){Mx=js=qp=null}function $x(t){var e=Hp.current;et(Hp),t._currentValue=e}function N_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ys(t,e){qp=t,Mx=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bn=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(Mx!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if(qp===null)throw Error(ie(308));js=t,qp.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var fa=null;function jx(t){fa===null?fa=[t]:fa.push(t)}function GR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jx(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var io=!1;function Lx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,jx(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function dp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ex(t,n)}}function BT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gp(t,e,n,r){var i=t.updateQueue;io=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=st({},f,d);break e;case 2:io=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Oa|=a,t.lanes=a,t.memoizedState=f}}function UT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var cd={},Kr=Bo(cd),ef=Bo(cd),tf=Bo(cd);function da(t){if(t===cd)throw Error(ie(174));return t}function Vx(t,e){switch(Ke(tf,e),Ke(ef,t),Ke(Kr,cd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:d_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=d_(e,t)}et(Kr),Ke(Kr,e)}function fl(){et(Kr),et(ef),et(tf)}function XR(t){da(tf.current);var e=da(Kr.current),n=d_(e,t.type);e!==n&&(Ke(ef,t),Ke(Kr,n))}function Fx(t){ef.current===t&&(et(Kr),et(ef))}var ot=Bo(0);function Kp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qv=[];function Bx(){for(var t=0;t<Qv.length;t++)Qv[t]._workInProgressVersionPrimary=null;Qv.length=0}var hp=Ui.ReactCurrentDispatcher,Jv=Ui.ReactCurrentBatchConfig,Ia=0,at=null,Ct=null,Lt=null,Xp=!1,Ac=!1,nf=0,TU=0;function en(){throw Error(ie(321))}function Ux(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function zx(t,e,n,r,i,o){if(Ia=o,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hp.current=t===null||t.memoizedState===null?OU:CU,t=n(r,i),Ac){o=0;do{if(Ac=!1,nf=0,25<=o)throw Error(ie(301));o+=1,Lt=Ct=null,e.updateQueue=null,hp.current=kU,t=n(r,i)}while(Ac)}if(hp.current=Yp,e=Ct!==null&&Ct.next!==null,Ia=0,Lt=Ct=at=null,Xp=!1,e)throw Error(ie(300));return t}function Wx(){var t=nf!==0;return nf=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?at.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function or(){if(Ct===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Lt===null?at.memoizedState:Lt.next;if(e!==null)Lt=e,Ct=t;else{if(t===null)throw Error(ie(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Lt===null?at.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function rf(t,e){return typeof e=="function"?e(t):e}function Zv(t){var e=or(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Ct,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Ia&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,at.lanes|=c,Oa|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,kr(r,e.memoizedState)||(bn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,at.lanes|=o,Oa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function e0(t){var e=or(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);kr(o,e.memoizedState)||(bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function YR(){}function QR(t,e){var n=at,r=or(),i=e(),o=!kr(r.memoizedState,i);if(o&&(r.memoizedState=i,bn=!0),r=r.queue,Hx(e2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,of(9,ZR.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(ie(349));Ia&30||JR(n,e,i)}return i}function JR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZR(t,e,n,r){e.value=n,e.getSnapshot=r,t2(e)&&n2(t)}function e2(t,e,n){return n(function(){t2(e)&&n2(t)})}function t2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function n2(t){var e=ki(t,1);e!==null&&Ir(e,t,1,-1)}function zT(t){var e=Ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:t},e.queue=t,t=t.dispatch=IU.bind(null,at,t),[e.memoizedState,t]}function of(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function r2(){return or().memoizedState}function pp(t,e,n,r){var i=Ur();at.flags|=t,i.memoizedState=of(1|e,n,void 0,r===void 0?null:r)}function Lg(t,e,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Ct!==null){var a=Ct.memoizedState;if(o=a.destroy,r!==null&&Ux(r,a.deps)){i.memoizedState=of(e,n,o,r);return}}at.flags|=t,i.memoizedState=of(1|e,n,o,r)}function WT(t,e){return pp(8390656,8,t,e)}function Hx(t,e){return Lg(2048,8,t,e)}function i2(t,e){return Lg(4,2,t,e)}function o2(t,e){return Lg(4,4,t,e)}function a2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s2(t,e,n){return n=n!=null?n.concat([t]):null,Lg(4,4,a2.bind(null,e,t),n)}function qx(){}function l2(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ux(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function u2(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ux(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function c2(t,e,n){return Ia&21?(kr(n,e)||(n=mR(),at.lanes|=n,Oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bn=!0),t.memoizedState=n)}function AU(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Jv.transition;Jv.transition={};try{t(!1),e()}finally{Ve=n,Jv.transition=r}}function f2(){return or().memoizedState}function PU(t,e,n){var r=To(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},d2(t))h2(e,n);else if(n=GR(t,e,n,r),n!==null){var i=yn();Ir(n,t,r,i),p2(n,e,r)}}function IU(t,e,n){var r=To(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(d2(t))h2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,kr(s,a)){var l=e.interleaved;l===null?(i.next=i,jx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GR(t,e,i,r),n!==null&&(i=yn(),Ir(n,t,r,i),p2(n,e,r))}}function d2(t){var e=t.alternate;return t===at||e!==null&&e===at}function h2(t,e){Ac=Xp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function p2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ex(t,n)}}var Yp={readContext:ir,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},OU={readContext:ir,useCallback:function(t,e){return Ur().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:WT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pp(4194308,4,a2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pp(4194308,4,t,e)},useInsertionEffect:function(t,e){return pp(4,2,t,e)},useMemo:function(t,e){var n=Ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PU.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Ur();return t={current:t},e.memoizedState=t},useState:zT,useDebugValue:qx,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=zT(!1),e=t[0];return t=AU.bind(null,t[1]),Ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=Ur();if(tt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Vt===null)throw Error(ie(349));Ia&30||JR(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,WT(e2.bind(null,r,o,t),[t]),r.flags|=2048,of(9,ZR.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ur(),e=Vt.identifierPrefix;if(tt){var n=gi,r=mi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CU={readContext:ir,useCallback:l2,useContext:ir,useEffect:Hx,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:o2,useMemo:u2,useReducer:Zv,useRef:r2,useState:function(){return Zv(rf)},useDebugValue:qx,useDeferredValue:function(t){var e=or();return c2(e,Ct.memoizedState,t)},useTransition:function(){var t=Zv(rf)[0],e=or().memoizedState;return[t,e]},useMutableSource:YR,useSyncExternalStore:QR,useId:f2,unstable_isNewReconciler:!1},kU={readContext:ir,useCallback:l2,useContext:ir,useEffect:Hx,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:o2,useMemo:u2,useReducer:e0,useRef:r2,useState:function(){return e0(rf)},useDebugValue:qx,useDeferredValue:function(t){var e=or();return Ct===null?e.memoizedState=t:c2(e,Ct.memoizedState,t)},useTransition:function(){var t=e0(rf)[0],e=or().memoizedState;return[t,e]},useMutableSource:YR,useSyncExternalStore:QR,useId:f2,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function R_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vg={isMounted:function(t){return(t=t._reactInternals)?Ka(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=To(t),o=Si(r,i);o.payload=e,n!=null&&(o.callback=n),e=Eo(t,o,i),e!==null&&(Ir(e,t,i,r),dp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=To(t),o=Si(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Eo(t,o,i),e!==null&&(Ir(e,t,i,r),dp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=To(t),i=Si(n,r);i.tag=2,e!=null&&(i.callback=e),e=Eo(t,i,r),e!==null&&(Ir(e,t,r,n),dp(e,t,r))}};function HT(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Yc(n,r)||!Yc(i,o):!0}function m2(t,e,n){var r=!1,i=$o,o=e.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=Sn(e)?Aa:cn.current,r=e.contextTypes,o=(r=r!=null)?ll(t,i):$o),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function qT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vg.enqueueReplaceState(e,e.state,null)}function M_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Lx(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=Sn(e)?Aa:cn.current,i.context=ll(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(R_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vg.enqueueReplaceState(i,i.state,null),Gp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var n="",r=e;do n+=oB(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function t0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function D_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NU=typeof WeakMap=="function"?WeakMap:Map;function g2(t,e,n){n=Si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jp||(Jp=!0,H_=r),D_(t,e)},n}function y2(t,e,n){n=Si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){D_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){D_(t,e),typeof r!="function"&&(So===null?So=new Set([this]):So.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function GT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qU.bind(null,t,e,n),e.then(t,t))}function KT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function XT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Si(-1,1),e.tag=2,Eo(n,e,1))),n.lanes|=1),t)}var RU=Ui.ReactCurrentOwner,bn=!1;function mn(t,e,n,r){e.child=t===null?qR(e,null,n,r):cl(e,t.child,n,r)}function YT(t,e,n,r,i){n=n.render;var o=e.ref;return Ys(e,i),r=zx(t,e,n,r,o,i),n=Wx(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(tt&&n&&kx(e),e.flags|=1,mn(t,e,r,i),e.child)}function QT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!eE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,v2(t,e,o,r,i)):(t=vp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yc,n(a,r)&&t.ref===e.ref)return Ni(t,e,i)}return e.flags|=1,t=Ao(o,r),t.ref=e.ref,t.return=e,e.child=t}function v2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Yc(o,r)&&t.ref===e.ref)if(bn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bn=!0);else return e.lanes=t.lanes,Ni(t,e,i)}return $_(t,e,n,r,i)}function _2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Vs,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Vs,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(Vs,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke(Vs,Rn),Rn|=r;return mn(t,e,i,n),e.child}function w2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $_(t,e,n,r,i){var o=Sn(n)?Aa:cn.current;return o=ll(e,o),Ys(e,i),n=zx(t,e,n,r,o,i),r=Wx(),t!==null&&!bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ni(t,e,i)):(tt&&r&&kx(e),e.flags|=1,mn(t,e,n,i),e.child)}function JT(t,e,n,r,i){if(Sn(n)){var o=!0;Up(e)}else o=!1;if(Ys(e,i),e.stateNode===null)mp(t,e),m2(e,n,r),M_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=Sn(n)?Aa:cn.current,u=ll(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&qT(e,a,r,u),io=!1;var d=e.memoizedState;a.state=d,Gp(e,r,a,i),l=e.memoizedState,s!==r||d!==l||En.current||io?(typeof c=="function"&&(R_(e,n,c,r),l=e.memoizedState),(s=io||HT(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,KR(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:mr(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=Sn(n)?Aa:cn.current,l=ll(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&qT(e,a,r,l),io=!1,d=e.memoizedState,a.state=d,Gp(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||En.current||io?(typeof p=="function"&&(R_(e,n,p,r),m=e.memoizedState),(u=io||HT(e,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return j_(t,e,n,r,o,i)}function j_(t,e,n,r,i,o){w2(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&jT(e,n,!1),Ni(t,e,o);r=e.stateNode,RU.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=cl(e,t.child,null,o),e.child=cl(e,null,s,o)):mn(t,e,s,o),e.memoizedState=r.state,i&&jT(e,n,!0),e.child}function b2(t){var e=t.stateNode;e.pendingContext?$T(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$T(t,e.context,!1),Vx(t,e.containerInfo)}function ZT(t,e,n,r,i){return ul(),Rx(i),e.flags|=256,mn(t,e,n,r),e.child}var L_={dehydrated:null,treeContext:null,retryLane:0};function V_(t){return{baseLanes:t,cachePool:null,transitions:null}}function x2(t,e,n){var r=e.pendingProps,i=ot.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(ot,i&1),t===null)return k_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ug(a,r,0,null),t=ba(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=V_(n),e.memoizedState=L_,t):Gx(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return MU(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ao(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ao(s,o):(o=ba(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?V_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=L_,r}return o=t.child,t=o.sibling,r=Ao(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gx(t,e){return e=Ug({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kh(t,e,n,r){return r!==null&&Rx(r),cl(e,t.child,null,n),t=Gx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MU(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=t0(Error(ie(422))),kh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ug({mode:"visible",children:r.children},i,0,null),o=ba(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&cl(e,t.child,null,a),e.child.memoizedState=V_(a),e.memoizedState=L_,o);if(!(e.mode&1))return kh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ie(419)),r=t0(o,r,void 0),kh(t,e,a,r)}if(s=(a&t.childLanes)!==0,bn||s){if(r=Vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ki(t,i),Ir(r,t,i,-1))}return Zx(),r=t0(Error(ie(421))),kh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,jn=xo(i.nextSibling),Ln=e,tt=!0,wr=null,t!==null&&(Kn[Xn++]=mi,Kn[Xn++]=gi,Kn[Xn++]=Pa,mi=t.id,gi=t.overflow,Pa=e),e=Gx(e,r.children),e.flags|=4096,e)}function eA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),N_(t.return,e,n)}function n0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function E2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eA(t,n,e);else if(t.tag===19)eA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),n0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}n0(e,!0,n,null,o);break;case"together":n0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Ao(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ao(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DU(t,e,n){switch(e.tag){case 3:b2(e),ul();break;case 5:XR(e);break;case 1:Sn(e.type)&&Up(e);break;case 4:Vx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(Hp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?x2(t,e,n):(Ke(ot,ot.current&1),t=Ni(t,e,n),t!==null?t.sibling:null);Ke(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,_2(t,e,n)}return Ni(t,e,n)}var S2,F_,T2,A2;S2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F_=function(){};T2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,da(Kr.current);var o=null;switch(n){case"input":i=l_(t,i),r=l_(t,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=f_(t,i),r=f_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fp)}h_(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ye("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};A2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hu(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $U(t,e,n){var r=e.pendingProps;switch(Nx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Sn(e.type)&&Bp(),tn(e),null;case 3:return r=e.stateNode,fl(),et(En),et(cn),Bx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wr!==null&&(K_(wr),wr=null))),F_(t,e),tn(e),null;case 5:Fx(e);var i=da(tf.current);if(n=e.type,t!==null&&e.stateNode!=null)T2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return tn(e),null}if(t=da(Kr.current),Oh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Hr]=e,r[Zc]=o,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<uc.length;i++)Ye(uc[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":uT(r,o),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ye("invalid",r);break;case"textarea":fT(r,o),Ye("invalid",r)}h_(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ih(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ih(r.textContent,s,t),i=["children",""+s]):zc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":wh(r),cT(r,o,!0);break;case"textarea":wh(r),dT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Hr]=e,t[Zc]=r,S2(t,e,!1,!1),e.stateNode=t;e:{switch(a=p_(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<uc.length;i++)Ye(uc[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":uT(t,r),i=l_(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":fT(t,r),i=f_(t,r),Ye("invalid",t);break;default:i=r}h_(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?rR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wc(t,l):typeof l=="number"&&Wc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ye("scroll",t):l!=null&&yx(t,o,l,a))}switch(n){case"input":wh(t),cT(t,r,!1);break;case"textarea":wh(t),dT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Do(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qs(t,!!r.multiple,o,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)A2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=da(tf.current),da(Kr.current),Oh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hr]=e,(o=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=e,e.stateNode=r}return tn(e),null;case 13:if(et(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&jn!==null&&e.mode&1&&!(e.flags&128))WR(),ul(),e.flags|=98560,o=!1;else if(o=Oh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[Hr]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),o=!1}else wr!==null&&(K_(wr),wr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?kt===0&&(kt=3):Zx())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return fl(),F_(t,e),t===null&&Qc(e.stateNode.containerInfo),tn(e),null;case 10:return $x(e.type._context),tn(e),null;case 17:return Sn(e.type)&&Bp(),tn(e),null;case 19:if(et(ot),o=e.memoizedState,o===null)return tn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Hu(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Kp(t),a!==null){for(e.flags|=128,Hu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(ot,ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&mt()>hl&&(e.flags|=128,r=!0,Hu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Kp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!tt)return tn(e),null}else 2*mt()-o.renderingStartTime>hl&&n!==1073741824&&(e.flags|=128,r=!0,Hu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,n=ot.current,Ke(ot,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return Jx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function jU(t,e){switch(Nx(e),e.tag){case 1:return Sn(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),et(En),et(cn),Bx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fx(e),null;case 13:if(et(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ot),null;case 4:return fl(),null;case 10:return $x(e.type._context),null;case 22:case 23:return Jx(),null;case 24:return null;default:return null}}var Nh=!1,an=!1,LU=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function B_(t,e,n){try{n()}catch(r){ft(t,e,r)}}var tA=!1;function VU(t,e){if(S_=jp,t=kR(),Cx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(T_={focusedElem:t,selectionRange:n},jp=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:mr(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(S){ft(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return m=tA,tA=!1,m}function Pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&B_(e,n,o)}i=i.next}while(i!==r)}}function Fg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function U_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function P2(t){var e=t.alternate;e!==null&&(t.alternate=null,P2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hr],delete e[Zc],delete e[I_],delete e[bU],delete e[xU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function I2(t){return t.tag===5||t.tag===3||t.tag===4}function nA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fp));else if(r!==4&&(t=t.child,t!==null))for(z_(t,e,n),t=t.sibling;t!==null;)z_(t,e,n),t=t.sibling}function W_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W_(t,e,n),t=t.sibling;t!==null;)W_(t,e,n),t=t.sibling}var Wt=null,gr=!1;function Zi(t,e,n){for(n=n.child;n!==null;)O2(t,e,n),n=n.sibling}function O2(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Ng,n)}catch{}switch(n.tag){case 5:an||Ls(n,e);case 6:var r=Wt,i=gr;Wt=null,Zi(t,e,n),Wt=r,gr=i,Wt!==null&&(gr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(gr?(t=Wt,n=n.stateNode,t.nodeType===8?Xv(t.parentNode,n):t.nodeType===1&&Xv(t,n),Kc(t)):Xv(Wt,n.stateNode));break;case 4:r=Wt,i=gr,Wt=n.stateNode.containerInfo,gr=!0,Zi(t,e,n),Wt=r,gr=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&B_(n,e,a),i=i.next}while(i!==r)}Zi(t,e,n);break;case 1:if(!an&&(Ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ft(n,e,s)}Zi(t,e,n);break;case 21:Zi(t,e,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,Zi(t,e,n),an=r):Zi(t,e,n);break;default:Zi(t,e,n)}}function rA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LU),e.forEach(function(r){var i=KU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Wt=s.stateNode,gr=!1;break e;case 3:Wt=s.stateNode.containerInfo,gr=!0;break e;case 4:Wt=s.stateNode.containerInfo,gr=!0;break e}s=s.return}if(Wt===null)throw Error(ie(160));O2(o,a,i),Wt=null,gr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ft(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C2(e,t),e=e.sibling}function C2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(e,t),Br(t),r&4){try{Pc(3,t,t.return),Fg(3,t)}catch(g){ft(t,t.return,g)}try{Pc(5,t,t.return)}catch(g){ft(t,t.return,g)}}break;case 1:dr(e,t),Br(t),r&512&&n!==null&&Ls(n,n.return);break;case 5:if(dr(e,t),Br(t),r&512&&n!==null&&Ls(n,n.return),t.flags&32){var i=t.stateNode;try{Wc(i,"")}catch(g){ft(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&JN(i,o),p_(s,a);var u=p_(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?rR(i,f):c==="dangerouslySetInnerHTML"?tR(i,f):c==="children"?Wc(i,f):yx(i,c,f,u)}switch(s){case"input":u_(i,o);break;case"textarea":ZN(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?qs(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?qs(i,!!o.multiple,o.defaultValue,!0):qs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zc]=o}catch(g){ft(t,t.return,g)}}break;case 6:if(dr(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ft(t,t.return,g)}}break;case 3:if(dr(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(g){ft(t,t.return,g)}break;case 4:dr(e,t),Br(t);break;case 13:dr(e,t),Br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Yx=mt())),r&4&&rA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(an=(u=an)||c,dr(e,t),an=u):dr(e,t),Br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(fe=t,c=t.child;c!==null;){for(f=fe=c;fe!==null;){switch(d=fe,p=d.child,d.tag){case 0:case 11:case 14:case 15:Pc(4,d,d.return);break;case 1:Ls(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ft(r,n,g)}}break;case 5:Ls(d,d.return);break;case 22:if(d.memoizedState!==null){oA(f);continue}}p!==null?(p.return=d,fe=p):oA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=nR("display",a))}catch(g){ft(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ft(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dr(e,t),Br(t),r&4&&rA(t);break;case 21:break;default:dr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(I2(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wc(i,""),r.flags&=-33);var o=nA(t);W_(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=nA(t);z_(t,s,a);break;default:throw Error(ie(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FU(t,e,n){fe=t,k2(t)}function k2(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Nh;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||an;s=Nh;var u=an;if(Nh=a,(an=l)&&!u)for(fe=i;fe!==null;)a=fe,l=a.child,a.tag===22&&a.memoizedState!==null?aA(i):l!==null?(l.return=a,fe=l):aA(i);for(;o!==null;)fe=o,k2(o),o=o.sibling;fe=i,Nh=s,an=u}iA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):iA(t)}}function iA(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||Fg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&UT(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UT(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Kc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}an||e.flags&512&&U_(e)}catch(d){ft(e,e.return,d)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function oA(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function aA(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fg(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ft(e,i,l)}}var o=e.return;try{U_(e)}catch(l){ft(e,o,l)}break;case 5:var a=e.return;try{U_(e)}catch(l){ft(e,a,l)}}}catch(l){ft(e,e.return,l)}if(e===t){fe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,fe=s;break}fe=e.return}}var BU=Math.ceil,Qp=Ui.ReactCurrentDispatcher,Kx=Ui.ReactCurrentOwner,er=Ui.ReactCurrentBatchConfig,Ne=0,Vt=null,xt=null,Kt=0,Rn=0,Vs=Bo(0),kt=0,af=null,Oa=0,Bg=0,Xx=0,Ic=null,wn=null,Yx=0,hl=1/0,di=null,Jp=!1,H_=null,So=null,Rh=!1,mo=null,Zp=0,Oc=0,q_=null,gp=-1,yp=0;function yn(){return Ne&6?mt():gp!==-1?gp:gp=mt()}function To(t){return t.mode&1?Ne&2&&Kt!==0?Kt&-Kt:SU.transition!==null?(yp===0&&(yp=mR()),yp):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:xR(t.type)),t):1}function Ir(t,e,n,r){if(50<Oc)throw Oc=0,q_=null,Error(ie(185));sd(t,n,r),(!(Ne&2)||t!==Vt)&&(t===Vt&&(!(Ne&2)&&(Bg|=n),kt===4&&so(t,Kt)),Tn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(hl=mt()+500,jg&&Uo()))}function Tn(t,e){var n=t.callbackNode;SB(t,e);var r=$p(t,t===Vt?Kt:0);if(r===0)n!==null&&mT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mT(n),e===1)t.tag===0?EU(sA.bind(null,t)):BR(sA.bind(null,t)),_U(function(){!(Ne&6)&&Uo()}),n=null;else{switch(gR(r)){case 1:n=xx;break;case 4:n=hR;break;case 16:n=Dp;break;case 536870912:n=pR;break;default:n=Dp}n=V2(n,N2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function N2(t,e){if(gp=-1,yp=0,Ne&6)throw Error(ie(327));var n=t.callbackNode;if(Qs()&&t.callbackNode!==n)return null;var r=$p(t,t===Vt?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=em(t,r);else{e=r;var i=Ne;Ne|=2;var o=M2();(Vt!==t||Kt!==e)&&(di=null,hl=mt()+500,wa(t,e));do try{WU();break}catch(s){R2(t,s)}while(!0);Dx(),Qp.current=o,Ne=i,xt!==null?e=0:(Vt=null,Kt=0,e=kt)}if(e!==0){if(e===2&&(i=__(t),i!==0&&(r=i,e=G_(t,i))),e===1)throw n=af,wa(t,0),so(t,r),Tn(t,mt()),n;if(e===6)so(t,r);else{if(i=t.current.alternate,!(r&30)&&!UU(i)&&(e=em(t,r),e===2&&(o=__(t),o!==0&&(r=o,e=G_(t,o))),e===1))throw n=af,wa(t,0),so(t,r),Tn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:ia(t,wn,di);break;case 3:if(so(t,r),(r&130023424)===r&&(e=Yx+500-mt(),10<e)){if($p(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=P_(ia.bind(null,t,wn,di),e);break}ia(t,wn,di);break;case 4:if(so(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Pr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BU(r/1960))-r,10<r){t.timeoutHandle=P_(ia.bind(null,t,wn,di),r);break}ia(t,wn,di);break;case 5:ia(t,wn,di);break;default:throw Error(ie(329))}}}return Tn(t,mt()),t.callbackNode===n?N2.bind(null,t):null}function G_(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(wa(t,e).flags|=256),t=em(t,e),t!==2&&(e=wn,wn=n,e!==null&&K_(e)),t}function K_(t){wn===null?wn=t:wn.push.apply(wn,t)}function UU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!kr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~Xx,e&=~Bg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function sA(t){if(Ne&6)throw Error(ie(327));Qs();var e=$p(t,0);if(!(e&1))return Tn(t,mt()),null;var n=em(t,e);if(t.tag!==0&&n===2){var r=__(t);r!==0&&(e=r,n=G_(t,r))}if(n===1)throw n=af,wa(t,0),so(t,e),Tn(t,mt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ia(t,wn,di),Tn(t,mt()),null}function Qx(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(hl=mt()+500,jg&&Uo())}}function Ca(t){mo!==null&&mo.tag===0&&!(Ne&6)&&Qs();var e=Ne;Ne|=1;var n=er.transition,r=Ve;try{if(er.transition=null,Ve=1,t)return t()}finally{Ve=r,er.transition=n,Ne=e,!(Ne&6)&&Uo()}}function Jx(){Rn=Vs.current,et(Vs)}function wa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vU(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(Nx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bp();break;case 3:fl(),et(En),et(cn),Bx();break;case 5:Fx(r);break;case 4:fl();break;case 13:et(ot);break;case 19:et(ot);break;case 10:$x(r.type._context);break;case 22:case 23:Jx()}n=n.return}if(Vt=t,xt=t=Ao(t.current,null),Kt=Rn=e,kt=0,af=null,Xx=Bg=Oa=0,wn=Ic=null,fa!==null){for(e=0;e<fa.length;e++)if(n=fa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}fa=null}return t}function R2(t,e){do{var n=xt;try{if(Dx(),hp.current=Yp,Xp){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xp=!1}if(Ia=0,Lt=Ct=at=null,Ac=!1,nf=0,Kx.current=null,n===null||n.return===null){kt=1,af=e,xt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Kt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=KT(a);if(p!==null){p.flags&=-257,XT(p,a,s,o,e),p.mode&1&&GT(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){GT(o,u,e),Zx();break e}l=Error(ie(426))}}else if(tt&&s.mode&1){var y=KT(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),XT(y,a,s,o,e),Rx(dl(l,s));break e}}o=l=dl(l,s),kt!==4&&(kt=2),Ic===null?Ic=[o]:Ic.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=g2(o,l,e);BT(o,v);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(So===null||!So.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=y2(o,s,e);BT(o,S);break e}}o=o.return}while(o!==null)}$2(n)}catch(E){e=E,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function M2(){var t=Qp.current;return Qp.current=Yp,t===null?Yp:t}function Zx(){(kt===0||kt===3||kt===2)&&(kt=4),Vt===null||!(Oa&268435455)&&!(Bg&268435455)||so(Vt,Kt)}function em(t,e){var n=Ne;Ne|=2;var r=M2();(Vt!==t||Kt!==e)&&(di=null,wa(t,e));do try{zU();break}catch(i){R2(t,i)}while(!0);if(Dx(),Ne=n,Qp.current=r,xt!==null)throw Error(ie(261));return Vt=null,Kt=0,kt}function zU(){for(;xt!==null;)D2(xt)}function WU(){for(;xt!==null&&!mB();)D2(xt)}function D2(t){var e=L2(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?$2(t):xt=e,Kx.current=null}function $2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jU(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,xt=null;return}}else if(n=$U(n,e,Rn),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);kt===0&&(kt=5)}function ia(t,e,n){var r=Ve,i=er.transition;try{er.transition=null,Ve=1,HU(t,e,n,r)}finally{er.transition=i,Ve=r}return null}function HU(t,e,n,r){do Qs();while(mo!==null);if(Ne&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(TB(t,o),t===Vt&&(xt=Vt=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rh||(Rh=!0,V2(Dp,function(){return Qs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=er.transition,er.transition=null;var a=Ve;Ve=1;var s=Ne;Ne|=4,Kx.current=null,VU(t,n),C2(n,t),fU(T_),jp=!!S_,T_=S_=null,t.current=n,FU(n),gB(),Ne=s,Ve=a,er.transition=o}else t.current=n;if(Rh&&(Rh=!1,mo=t,Zp=i),o=t.pendingLanes,o===0&&(So=null),_B(n.stateNode),Tn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jp)throw Jp=!1,t=H_,H_=null,t;return Zp&1&&t.tag!==0&&Qs(),o=t.pendingLanes,o&1?t===q_?Oc++:(Oc=0,q_=t):Oc=0,Uo(),null}function Qs(){if(mo!==null){var t=gR(Zp),e=er.transition,n=Ve;try{if(er.transition=null,Ve=16>t?16:t,mo===null)var r=!1;else{if(t=mo,mo=null,Zp=0,Ne&6)throw Error(ie(331));var i=Ne;for(Ne|=4,fe=t.current;fe!==null;){var o=fe,a=o.child;if(fe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:Pc(8,c,o)}var f=c.child;if(f!==null)f.return=c,fe=f;else for(;fe!==null;){c=fe;var d=c.sibling,p=c.return;if(P2(c),c===u){fe=null;break}if(d!==null){d.return=p,fe=d;break}fe=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}fe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,fe=a;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,fe=v;break e}fe=o.return}}var w=t.current;for(fe=w;fe!==null;){a=fe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,fe=_;else e:for(a=w;fe!==null;){if(s=fe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fg(9,s)}}catch(E){ft(s,s.return,E)}if(s===a){fe=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,fe=S;break e}fe=s.return}}if(Ne=i,Uo(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Ng,t)}catch{}r=!0}return r}finally{Ve=n,er.transition=e}}return!1}function lA(t,e,n){e=dl(n,e),e=g2(t,e,1),t=Eo(t,e,1),e=yn(),t!==null&&(sd(t,1,e),Tn(t,e))}function ft(t,e,n){if(t.tag===3)lA(t,t,n);else for(;e!==null;){if(e.tag===3){lA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(So===null||!So.has(r))){t=dl(n,t),t=y2(e,t,1),e=Eo(e,t,1),t=yn(),e!==null&&(sd(e,1,t),Tn(e,t));break}}e=e.return}}function qU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Kt&n)===n&&(kt===4||kt===3&&(Kt&130023424)===Kt&&500>mt()-Yx?wa(t,0):Xx|=n),Tn(t,e)}function j2(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var n=yn();t=ki(t,e),t!==null&&(sd(t,e,n),Tn(t,n))}function GU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j2(t,n)}function KU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),j2(t,n)}var L2;L2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bn=!1,DU(t,e,n);bn=!!(t.flags&131072)}else bn=!1,tt&&e.flags&1048576&&UR(e,Wp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mp(t,e),t=e.pendingProps;var i=ll(e,cn.current);Ys(e,n),i=zx(null,e,r,t,i,n);var o=Wx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(o=!0,Up(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lx(e),i.updater=Vg,e.stateNode=i,i._reactInternals=e,M_(e,r,t,n),e=j_(null,e,r,!0,o,n)):(e.tag=0,tt&&o&&kx(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YU(r),t=mr(r,t),i){case 0:e=$_(null,e,r,t,n);break e;case 1:e=JT(null,e,r,t,n);break e;case 11:e=YT(null,e,r,t,n);break e;case 14:e=QT(null,e,r,mr(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),$_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),JT(t,e,r,i,n);case 3:e:{if(b2(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,i=o.element,KR(t,e),Gp(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=dl(Error(ie(423)),e),e=ZT(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(ie(424)),e),e=ZT(t,e,r,n,i);break e}else for(jn=xo(e.stateNode.containerInfo.firstChild),Ln=e,tt=!0,wr=null,n=qR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===i){e=Ni(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return XR(e),t===null&&k_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,A_(r,i)?a=null:o!==null&&A_(r,o)&&(e.flags|=32),w2(t,e),mn(t,e,a,n),e.child;case 6:return t===null&&k_(e),null;case 13:return x2(t,e,n);case 4:return Vx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cl(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),YT(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ke(Hp,r._currentValue),r._currentValue=a,o!==null)if(kr(o.value,a)){if(o.children===i.children&&!En.current){e=Ni(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Si(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),N_(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ie(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),N_(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ys(e,n),i=ir(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=mr(r,e.pendingProps),i=mr(r.type,i),QT(t,e,r,i,n);case 15:return v2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mr(r,i),mp(t,e),e.tag=1,Sn(r)?(t=!0,Up(e)):t=!1,Ys(e,n),m2(e,r,i),M_(e,r,i,n),j_(null,e,r,!0,t,n);case 19:return E2(t,e,n);case 22:return _2(t,e,n)}throw Error(ie(156,e.tag))};function V2(t,e){return dR(t,e)}function XU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new XU(t,e,n,r)}function eE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YU(t){if(typeof t=="function")return eE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_x)return 11;if(t===wx)return 14}return 2}function Ao(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vp(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")eE(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Os:return ba(n.children,i,o,e);case vx:a=8,i|=8;break;case i_:return t=Qn(12,n,e,i|2),t.elementType=i_,t.lanes=o,t;case o_:return t=Qn(13,n,e,i),t.elementType=o_,t.lanes=o,t;case a_:return t=Qn(19,n,e,i),t.elementType=a_,t.lanes=o,t;case XN:return Ug(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GN:a=10;break e;case KN:a=9;break e;case _x:a=11;break e;case wx:a=14;break e;case ro:a=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Qn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ba(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Ug(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=XN,t.lanes=n,t.stateNode={isHidden:!1},t}function r0(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function i0(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lv(0),this.expirationTimes=Lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tE(t,e,n,r,i,o,a,s,l){return t=new QU(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(o),t}function JU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function F2(t){if(!t)return $o;t=t._reactInternals;e:{if(Ka(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Sn(n))return FR(t,n,e)}return e}function B2(t,e,n,r,i,o,a,s,l){return t=tE(n,r,!0,t,i,o,a,s,l),t.context=F2(null),n=t.current,r=yn(),i=To(n),o=Si(r,i),o.callback=e??null,Eo(n,o,i),t.current.lanes=i,sd(t,i,r),Tn(t,r),t}function zg(t,e,n,r){var i=e.current,o=yn(),a=To(i);return n=F2(n),e.context===null?e.context=n:e.pendingContext=n,e=Si(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Eo(i,e,a),t!==null&&(Ir(t,i,a,o),dp(t,i,a)),a}function tm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nE(t,e){uA(t,e),(t=t.alternate)&&uA(t,e)}function ZU(){return null}var U2=typeof reportError=="function"?reportError:function(t){console.error(t)};function rE(t){this._internalRoot=t}Wg.prototype.render=rE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));zg(t,e,null,null)};Wg.prototype.unmount=rE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ca(function(){zg(null,t,null,null)}),e[Ci]=null}};function Wg(t){this._internalRoot=t}Wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=_R();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ao.length&&e!==0&&e<ao[n].priority;n++);ao.splice(n,0,t),n===0&&bR(t)}};function iE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cA(){}function e5(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=tm(a);o.call(u)}}var a=B2(e,r,t,0,null,!1,!1,"",cA);return t._reactRootContainer=a,t[Ci]=a.current,Qc(t.nodeType===8?t.parentNode:t),Ca(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=tm(l);s.call(u)}}var l=tE(t,0,!1,null,null,!1,!1,"",cA);return t._reactRootContainer=l,t[Ci]=l.current,Qc(t.nodeType===8?t.parentNode:t),Ca(function(){zg(e,l,n,r)}),l}function qg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=tm(a);s.call(l)}}zg(e,a,t,i)}else a=e5(n,e,t,i,r);return tm(a)}yR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lc(e.pendingLanes);n!==0&&(Ex(e,n|1),Tn(e,mt()),!(Ne&6)&&(hl=mt()+500,Uo()))}break;case 13:Ca(function(){var r=ki(t,1);if(r!==null){var i=yn();Ir(r,t,1,i)}}),nE(t,1)}};Sx=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=yn();Ir(e,t,134217728,n)}nE(t,134217728)}};vR=function(t){if(t.tag===13){var e=To(t),n=ki(t,e);if(n!==null){var r=yn();Ir(n,t,e,r)}nE(t,e)}};_R=function(){return Ve};wR=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};g_=function(t,e,n){switch(e){case"input":if(u_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$g(r);if(!i)throw Error(ie(90));QN(r),u_(r,i)}}}break;case"textarea":ZN(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};aR=Qx;sR=Ca;var t5={usingClientEntryPoint:!1,Events:[ud,Rs,$g,iR,oR,Qx]},qu={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n5={bundleType:qu.bundleType,version:qu.version,rendererPackageName:qu.rendererPackageName,rendererConfig:qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cR(t),t===null?null:t.stateNode},findFiberByHostInstance:qu.findFiberByHostInstance||ZU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Ng=Mh.inject(n5),Gr=Mh}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t5;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iE(e))throw Error(ie(200));return JU(t,e,null,n)};zn.createRoot=function(t,e){if(!iE(t))throw Error(ie(299));var n=!1,r="",i=U2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tE(t,1,!1,null,null,n,!1,r,i),t[Ci]=e.current,Qc(t.nodeType===8?t.parentNode:t),new rE(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=cR(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return Ca(t)};zn.hydrate=function(t,e,n){if(!Hg(e))throw Error(ie(200));return qg(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!iE(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=U2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=B2(e,null,t,1,n??null,i,!1,o,a),t[Ci]=e.current,Qc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wg(e)};zn.render=function(t,e,n){if(!Hg(e))throw Error(ie(200));return qg(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!Hg(t))throw Error(ie(40));return t._reactRootContainer?(Ca(function(){qg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};zn.unstable_batchedUpdates=Qx;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hg(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return qg(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(t){console.error(t)}}z2(),zN.exports=zn;var W2=zN.exports,H2,fA=W2;H2=fA.createRoot,fA.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}var go;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(go||(go={}));const dA="popstate";function r5(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return X_("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nm(i)}return o5(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function q2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i5(){return Math.random().toString(36).substr(2,8)}function hA(t,e){return{usr:t.state,key:t.key,idx:e}}function X_(t,e,n,r){return n===void 0&&(n=null),sf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?eu(e):e,{state:n,key:e&&e.key||r||i5()})}function nm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function eu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function o5(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=go.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(sf({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=go.Pop;let y=c(),v=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:v})}function d(y,v){s=go.Push;let w=X_(g.location,y,v);u=c()+1;let _=hA(w,u),S=g.createHref(w);try{a.pushState(_,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}o&&l&&l({action:s,location:g.location,delta:1})}function p(y,v){s=go.Replace;let w=X_(g.location,y,v);u=c();let _=hA(w,u),S=g.createHref(w);a.replaceState(_,"",S),o&&l&&l({action:s,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:nm(y);return w=w.replace(/ $/,"%20"),St(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return s},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dA,f),l=y,()=>{i.removeEventListener(dA,f),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(y){return a.go(y)}};return g}var pA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pA||(pA={}));function a5(t,e,n){return n===void 0&&(n="/"),s5(t,e,n)}function s5(t,e,n,r){let i=typeof e=="string"?eu(e):e,o=oE(i.pathname||"/",n);if(o==null)return null;let a=G2(t);l5(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=w5(o);s=y5(a[l],u)}return s}function G2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(St(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Po([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(St(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),G2(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:m5(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of K2(o.path))i(o,a,l)}),e}function K2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=K2(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function l5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const u5=/^:[\w-]+$/,c5=3,f5=2,d5=1,h5=10,p5=-2,mA=t=>t==="*";function m5(t,e){let n=t.split("/"),r=n.length;return n.some(mA)&&(r+=p5),e&&(r+=f5),n.filter(i=>!mA(i)).reduce((i,o)=>i+(u5.test(o)?c5:o===""?d5:h5),r)}function g5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function y5(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=v5({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Po([o,f.pathname]),pathnameBase:S5(Po([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Po([o,f.pathnameBase]))}return a}function v5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function _5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),q2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return q2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function b5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?eu(t):t;return{pathname:n?n.startsWith("/")?n:x5(n,e):e,search:T5(r),hash:A5(i)}}function x5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function X2(t,e){let n=E5(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Y2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=eu(t):(i=sf({},t),St(!i.pathname||!i.pathname.includes("?"),o0("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),o0("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),o0("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=b5(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),S5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q2=["post","put","patch","delete"];new Set(Q2);const I5=["get",...Q2];new Set(I5);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}const aE=D.createContext(null),O5=D.createContext(null),Xa=D.createContext(null),Gg=D.createContext(null),Ya=D.createContext({outlet:null,matches:[],isDataRoute:!1}),J2=D.createContext(null);function C5(t,e){let{relative:n}=e===void 0?{}:e;fd()||St(!1);let{basename:r,navigator:i}=D.useContext(Xa),{hash:o,pathname:a,search:s}=eM(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Po([r,a])),i.createHref({pathname:l,search:s,hash:o})}function fd(){return D.useContext(Gg)!=null}function Kg(){return fd()||St(!1),D.useContext(Gg).location}function Z2(t){D.useContext(Xa).static||D.useLayoutEffect(t)}function dd(){let{isDataRoute:t}=D.useContext(Ya);return t?z5():k5()}function k5(){fd()||St(!1);let t=D.useContext(aE),{basename:e,future:n,navigator:r}=D.useContext(Xa),{matches:i}=D.useContext(Ya),{pathname:o}=Kg(),a=JSON.stringify(X2(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return Z2(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Y2(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Po([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function eM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Xa),{matches:i}=D.useContext(Ya),{pathname:o}=Kg(),a=JSON.stringify(X2(i,r.v7_relativeSplatPath));return D.useMemo(()=>Y2(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function N5(t,e){return R5(t,e)}function R5(t,e,n,r){fd()||St(!1);let{navigator:i,static:o}=D.useContext(Xa),{matches:a}=D.useContext(Ya),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Kg(),f;if(e){var d;let v=typeof e=="string"?eu(e):e;u==="/"||(d=v.pathname)!=null&&d.startsWith(u)||St(!1),f=v}else f=c;let p=f.pathname||"/",m=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=a5(t,{pathname:m}),y=L5(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Po([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Po([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?D.createElement(Gg.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:go.Pop}},y):y}function M5(){let t=U5(),e=P5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const D5=D.createElement(M5,null);class $5 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Ya.Provider,{value:this.props.routeContext},D.createElement(J2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j5(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(aE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ya.Provider,{value:e},r)}function L5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||St(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,m=!1,g=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||D5,l&&(u<0&&d===0?(W5("route-fallback"),m=!0,y=null):u===d&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,d+1)),w=()=>{let _;return p?_=g:m?_=y:f.route.Component?_=D.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,D.createElement(j5,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?D.createElement($5,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var tM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tM||{}),nM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nM||{});function V5(t){let e=D.useContext(aE);return e||St(!1),e}function F5(t){let e=D.useContext(O5);return e||St(!1),e}function B5(t){let e=D.useContext(Ya);return e||St(!1),e}function rM(t){let e=B5(),n=e.matches[e.matches.length-1];return n.route.id||St(!1),n.route.id}function U5(){var t;let e=D.useContext(J2),n=F5(),r=rM();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function z5(){let{router:t}=V5(tM.UseNavigateStable),e=rM(nM.UseNavigateStable),n=D.useRef(!1);return Z2(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lf({fromRouteId:e},o)))},[t,e])}const gA={};function W5(t,e,n){gA[t]||(gA[t]=!0)}function H5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cc(t){St(!1)}function q5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=go.Pop,navigator:o,static:a=!1,future:s}=t;fd()&&St(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:o,static:a,future:lf({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=eu(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:m="default"}=r,g=D.useMemo(()=>{let y=oE(c,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:p,key:m},navigationType:i}},[l,c,f,d,p,m,i]);return g==null?null:D.createElement(Xa.Provider,{value:u},D.createElement(Gg.Provider,{children:n,value:g}))}function G5(t){let{children:e,location:n}=t;return N5(Y_(e),n)}new Promise(()=>{});function Y_(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Y_(r.props.children,o));return}r.type!==cc&&St(!1),!r.props.index||!r.props.children||St(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Y_(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function K5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function X5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Y5(t,e){return t.button===0&&(!e||e==="_self")&&!X5(t)}const Q5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],J5="6";try{window.__reactRouterVersion=J5}catch{}const Z5="startTransition",yA=q3[Z5];function ez(t){let{basename:e,children:n,future:r,window:i}=t,o=D.useRef();o.current==null&&(o.current=r5({window:i,v5Compat:!0}));let a=o.current,[s,l]=D.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=D.useCallback(f=>{u&&yA?yA(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>a.listen(c),[a,c]),D.useEffect(()=>H5(r),[r]),D.createElement(q5,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const tz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vA=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=K5(e,Q5),{basename:p}=D.useContext(Xa),m,g=!1;if(typeof u=="string"&&nz.test(u)&&(m=u,tz))try{let _=new URL(window.location.href),S=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=oE(S.pathname,p);S.origin===_.origin&&E!=null?u=E+S.search+S.hash:g=!0}catch{}let y=C5(u,{relative:i}),v=rz(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||v(_)}return D.createElement("a",Q_({},d,{href:m||y,onClick:g||o?r:w,ref:n,target:l}))});var _A;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_A||(_A={}));var wA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wA||(wA={}));function rz(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=dd(),u=Kg(),c=eM(t,{relative:a});return D.useCallback(f=>{if(Y5(f,n)){f.preventDefault();let d=r!==void 0?r:nm(u)===nm(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}function Pt(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Pt(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var iz={value:()=>{}};function Xg(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _p(n)}function _p(t){this._=t}function oz(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_p.prototype=Xg.prototype={constructor:_p,on:function(t,e){var n=this._,r=oz(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=az(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=bA(n[i],t.name,e);else if(e==null)for(i in n)n[i]=bA(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _p(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function az(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function bA(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=iz,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var J_="http://www.w3.org/1999/xhtml";const xA={svg:"http://www.w3.org/2000/svg",xhtml:J_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yg(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xA.hasOwnProperty(e)?{space:xA[e],local:t}:t}function sz(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===J_&&e.documentElement.namespaceURI===J_?e.createElement(t):e.createElementNS(n,t)}}function lz(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function iM(t){var e=Yg(t);return(e.local?lz:sz)(e)}function uz(){}function sE(t){return t==null?uz:function(){return this.querySelector(t)}}function cz(t){typeof t!="function"&&(t=sE(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Bn(r,this._parents)}function fz(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function dz(){return[]}function oM(t){return t==null?dz:function(){return this.querySelectorAll(t)}}function hz(t){return function(){return fz(t.apply(this,arguments))}}function pz(t){typeof t=="function"?t=hz(t):t=oM(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new Bn(r,i)}function aM(t){return function(){return this.matches(t)}}function sM(t){return function(e){return e.matches(t)}}var mz=Array.prototype.find;function gz(t){return function(){return mz.call(this.children,t)}}function yz(){return this.firstElementChild}function vz(t){return this.select(t==null?yz:gz(typeof t=="function"?t:sM(t)))}var _z=Array.prototype.filter;function wz(){return Array.from(this.children)}function bz(t){return function(){return _z.call(this.children,t)}}function xz(t){return this.selectAll(t==null?wz:bz(typeof t=="function"?t:sM(t)))}function Ez(t){typeof t!="function"&&(t=aM(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Bn(r,this._parents)}function lM(t){return new Array(t.length)}function Sz(){return new Bn(this._enter||this._groups.map(lM),this._parents)}function rm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}rm.prototype={constructor:rm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tz(t){return function(){return t}}function Az(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new rm(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Pz(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,f=o.length,d=new Array(c),p;for(s=0;s<c;++s)(l=e[s])&&(d[s]=p=a.call(l,l.__data__,s,e)+"",u.has(p)?i[s]=l:u.set(p,l));for(s=0;s<f;++s)p=a.call(t,o[s],s,o)+"",(l=u.get(p))?(r[s]=l,l.__data__=o[s],u.delete(p)):n[s]=new rm(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(d[s])===l&&(i[s]=l)}function Iz(t){return t.__data__}function Oz(t,e){if(!arguments.length)return Array.from(this,Iz);var n=e?Pz:Az,r=this._parents,i=this._groups;typeof t!="function"&&(t=Tz(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,p=Cz(t.call(c,c&&c.__data__,u,r)),m=p.length,g=s[u]=new Array(m),y=a[u]=new Array(m),v=l[u]=new Array(d);n(c,f,g,y,v,p,e);for(var w=0,_=0,S,E;w<m;++w)if(S=g[w]){for(w>=_&&(_=w+1);!(E=y[_])&&++_<m;);S._next=E||null}}return a=new Bn(a,r),a._enter=s,a._exit=l,a}function Cz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kz(){return new Bn(this._exit||this._groups.map(lM),this._parents)}function Nz(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Rz(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),p,m=0;m<f;++m)(p=u[m]||c[m])&&(d[m]=p);for(;l<i;++l)s[l]=n[l];return new Bn(s,this._parents)}function Mz(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Dz(t){t||(t=$z);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Bn(i,this._parents).order()}function $z(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function jz(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Lz(){return Array.from(this)}function Vz(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Fz(){let t=0;for(const e of this)++t;return t}function Bz(){return!this.node()}function Uz(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function zz(t){return function(){this.removeAttribute(t)}}function Wz(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hz(t,e){return function(){this.setAttribute(t,e)}}function qz(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Kz(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Xz(t,e){var n=Yg(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Wz:zz:typeof e=="function"?n.local?Kz:Gz:n.local?qz:Hz)(n,e))}function uM(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yz(t){return function(){this.style.removeProperty(t)}}function Qz(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Jz(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Zz(t,e,n){return arguments.length>1?this.each((e==null?Yz:typeof e=="function"?Jz:Qz)(t,e,n??"")):pl(this.node(),t)}function pl(t,e){return t.style.getPropertyValue(e)||uM(t).getComputedStyle(t,null).getPropertyValue(e)}function e6(t){return function(){delete this[t]}}function t6(t,e){return function(){this[t]=e}}function n6(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function r6(t,e){return arguments.length>1?this.each((e==null?e6:typeof e=="function"?n6:t6)(t,e)):this.node()[t]}function cM(t){return t.trim().split(/^|\s+/)}function lE(t){return t.classList||new fM(t)}function fM(t){this._node=t,this._names=cM(t.getAttribute("class")||"")}fM.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dM(t,e){for(var n=lE(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function hM(t,e){for(var n=lE(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function i6(t){return function(){dM(this,t)}}function o6(t){return function(){hM(this,t)}}function a6(t,e){return function(){(e.apply(this,arguments)?dM:hM)(this,t)}}function s6(t,e){var n=cM(t+"");if(arguments.length<2){for(var r=lE(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?a6:e?i6:o6)(n,e))}function l6(){this.textContent=""}function u6(t){return function(){this.textContent=t}}function c6(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function f6(t){return arguments.length?this.each(t==null?l6:(typeof t=="function"?c6:u6)(t)):this.node().textContent}function d6(){this.innerHTML=""}function h6(t){return function(){this.innerHTML=t}}function p6(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function m6(t){return arguments.length?this.each(t==null?d6:(typeof t=="function"?p6:h6)(t)):this.node().innerHTML}function g6(){this.nextSibling&&this.parentNode.appendChild(this)}function y6(){return this.each(g6)}function v6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _6(){return this.each(v6)}function w6(t){var e=typeof t=="function"?t:iM(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function b6(){return null}function x6(t,e){var n=typeof t=="function"?t:iM(t),r=e==null?b6:typeof e=="function"?e:sE(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function E6(){var t=this.parentNode;t&&t.removeChild(this)}function S6(){return this.each(E6)}function T6(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function A6(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function P6(t){return this.select(t?A6:T6)}function I6(t){return arguments.length?this.property("__data__",t):this.node().__data__}function O6(t){return function(e){t.call(this,e,this.__data__)}}function C6(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function k6(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function N6(t,e,n){return function(){var r=this.__on,i,o=O6(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function R6(t,e,n){var r=C6(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?N6:k6,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function pM(t,e,n){var r=uM(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function M6(t,e){return function(){return pM(this,t,e)}}function D6(t,e){return function(){return pM(this,t,e.apply(this,arguments))}}function $6(t,e){return this.each((typeof e=="function"?D6:M6)(t,e))}function*j6(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var mM=[null];function Bn(t,e){this._groups=t,this._parents=e}function hd(){return new Bn([[document.documentElement]],mM)}function L6(){return this}Bn.prototype=hd.prototype={constructor:Bn,select:cz,selectAll:pz,selectChild:vz,selectChildren:xz,filter:Ez,data:Oz,enter:Sz,exit:kz,join:Nz,merge:Rz,selection:L6,order:Mz,sort:Dz,call:jz,nodes:Lz,node:Vz,size:Fz,empty:Bz,each:Uz,attr:Xz,style:Zz,property:r6,classed:s6,text:f6,html:m6,raise:y6,lower:_6,append:w6,insert:x6,remove:S6,clone:P6,datum:I6,on:R6,dispatch:$6,[Symbol.iterator]:j6};function Dn(t){return typeof t=="string"?new Bn([[document.querySelector(t)]],[document.documentElement]):new Bn([[t]],mM)}function V6(t){let e;for(;e=t.sourceEvent;)t=e;return t}function yr(t,e){if(t=V6(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const F6={passive:!1},uf={capture:!0,passive:!1};function a0(t){t.stopImmediatePropagation()}function Js(t){t.preventDefault(),t.stopImmediatePropagation()}function gM(t){var e=t.document.documentElement,n=Dn(t).on("dragstart.drag",Js,uf);"onselectstart"in e?n.on("selectstart.drag",Js,uf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yM(t,e){var n=t.document.documentElement,r=Dn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Js,uf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Dh=t=>()=>t;function Z_(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Z_.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function B6(t){return!t.ctrlKey&&!t.button}function U6(){return this.parentNode}function z6(t,e){return e??{x:t.x,y:t.y}}function W6(){return navigator.maxTouchPoints||"ontouchstart"in this}function vM(){var t=B6,e=U6,n=z6,r=W6,i={},o=Xg("start","drag","end"),a=0,s,l,u,c,f=0;function d(S){S.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",v,F6).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(S,E){if(!(c||!t.call(this,S,E))){var A=_(this,e.call(this,S,E),S,E,"mouse");A&&(Dn(S.view).on("mousemove.drag",m,uf).on("mouseup.drag",g,uf),gM(S.view),a0(S),u=!1,s=S.clientX,l=S.clientY,A("start",S))}}function m(S){if(Js(S),!u){var E=S.clientX-s,A=S.clientY-l;u=E*E+A*A>f}i.mouse("drag",S)}function g(S){Dn(S.view).on("mousemove.drag mouseup.drag",null),yM(S.view,u),Js(S),i.mouse("end",S)}function y(S,E){if(t.call(this,S,E)){var A=S.changedTouches,b=e.call(this,S,E),T=A.length,P,O;for(P=0;P<T;++P)(O=_(this,b,S,E,A[P].identifier,A[P]))&&(a0(S),O("start",S,A[P]))}}function v(S){var E=S.changedTouches,A=E.length,b,T;for(b=0;b<A;++b)(T=i[E[b].identifier])&&(Js(S),T("drag",S,E[b]))}function w(S){var E=S.changedTouches,A=E.length,b,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),b=0;b<A;++b)(T=i[E[b].identifier])&&(a0(S),T("end",S,E[b]))}function _(S,E,A,b,T,P){var O=o.copy(),C=yr(P||A,E),N,k,R;if((R=n.call(S,new Z_("beforestart",{sourceEvent:A,target:d,identifier:T,active:a,x:C[0],y:C[1],dx:0,dy:0,dispatch:O}),b))!=null)return N=R.x-C[0]||0,k=R.y-C[1]||0,function V(j,F,L){var B=C,U;switch(j){case"start":i[T]=V,U=a++;break;case"end":delete i[T],--a;case"drag":C=yr(L||F,E),U=a;break}O.call(j,S,new Z_(j,{sourceEvent:F,subject:R,target:d,identifier:T,active:U,x:C[0]+N,y:C[1]+k,dx:C[0]-B[0],dy:C[1]-B[1],dispatch:O}),b)}}return d.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Dh(!!S),d):t},d.container=function(S){return arguments.length?(e=typeof S=="function"?S:Dh(S),d):e},d.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Dh(S),d):n},d.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Dh(!!S),d):r},d.on=function(){var S=o.on.apply(o,arguments);return S===o?d:S},d.clickDistance=function(S){return arguments.length?(f=(S=+S)*S,d):Math.sqrt(f)},d}function uE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _M(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pd(){}var cf=.7,im=1/cf,Zs="\\s*([+-]?\\d+)\\s*",ff="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H6=/^#([0-9a-f]{3,8})$/,q6=new RegExp(`^rgb\\(${Zs},${Zs},${Zs}\\)$`),G6=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),K6=new RegExp(`^rgba\\(${Zs},${Zs},${Zs},${ff}\\)$`),X6=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${ff}\\)$`),Y6=new RegExp(`^hsl\\(${ff},${Xr},${Xr}\\)$`),Q6=new RegExp(`^hsla\\(${ff},${Xr},${Xr},${ff}\\)$`),EA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uE(pd,ka,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SA,formatHex:SA,formatHex8:J6,formatHsl:Z6,formatRgb:TA,toString:TA});function SA(){return this.rgb().formatHex()}function J6(){return this.rgb().formatHex8()}function Z6(){return wM(this).formatHsl()}function TA(){return this.rgb().formatRgb()}function ka(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=H6.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?AA(e):n===3?new xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$h(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$h(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=q6.exec(t))?new xn(e[1],e[2],e[3],1):(e=G6.exec(t))?new xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=K6.exec(t))?$h(e[1],e[2],e[3],e[4]):(e=X6.exec(t))?$h(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Y6.exec(t))?OA(e[1],e[2]/100,e[3]/100,1):(e=Q6.exec(t))?OA(e[1],e[2]/100,e[3]/100,e[4]):EA.hasOwnProperty(t)?AA(EA[t]):t==="transparent"?new xn(NaN,NaN,NaN,0):null}function AA(t){return new xn(t>>16&255,t>>8&255,t&255,1)}function $h(t,e,n,r){return r<=0&&(t=e=n=NaN),new xn(t,e,n,r)}function e9(t){return t instanceof pd||(t=ka(t)),t?(t=t.rgb(),new xn(t.r,t.g,t.b,t.opacity)):new xn}function ew(t,e,n,r){return arguments.length===1?e9(t):new xn(t,e,n,r??1)}function xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uE(xn,ew,_M(pd,{brighter(t){return t=t==null?im:Math.pow(im,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cf:Math.pow(cf,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xn(xa(this.r),xa(this.g),xa(this.b),om(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PA,formatHex:PA,formatHex8:t9,formatRgb:IA,toString:IA}));function PA(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}`}function t9(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}${ha((isNaN(this.opacity)?1:this.opacity)*255)}`}function IA(){const t=om(this.opacity);return`${t===1?"rgb(":"rgba("}${xa(this.r)}, ${xa(this.g)}, ${xa(this.b)}${t===1?")":`, ${t})`}`}function om(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ha(t){return t=xa(t),(t<16?"0":"")+t.toString(16)}function OA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Er(t,e,n,r)}function wM(t){if(t instanceof Er)return new Er(t.h,t.s,t.l,t.opacity);if(t instanceof pd||(t=ka(t)),!t)return new Er;if(t instanceof Er)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Er(a,s,l,t.opacity)}function n9(t,e,n,r){return arguments.length===1?wM(t):new Er(t,e,n,r??1)}function Er(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uE(Er,n9,_M(pd,{brighter(t){return t=t==null?im:Math.pow(im,t),new Er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cf:Math.pow(cf,t),new Er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xn(s0(t>=240?t-240:t+120,i,r),s0(t,i,r),s0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Er(CA(this.h),jh(this.s),jh(this.l),om(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=om(this.opacity);return`${t===1?"hsl(":"hsla("}${CA(this.h)}, ${jh(this.s)*100}%, ${jh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CA(t){return t=(t||0)%360,t<0?t+360:t}function jh(t){return Math.max(0,Math.min(1,t||0))}function s0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cE=t=>()=>t;function r9(t,e){return function(n){return t+n*e}}function i9(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o9(t){return(t=+t)==1?bM:function(e,n){return n-e?i9(e,n,t):cE(isNaN(e)?n:e)}}function bM(t,e){var n=e-t;return n?r9(t,n):cE(isNaN(t)?e:t)}const am=function t(e){var n=o9(e);function r(i,o){var a=n((i=ew(i)).r,(o=ew(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=bM(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function a9(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function s9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l9(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=tu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function u9(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function br(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function c9(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var tw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l0=new RegExp(tw.source,"g");function f9(t){return function(){return t}}function d9(t){return function(e){return t(e)+""}}function xM(t,e){var n=tw.lastIndex=l0.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=tw.exec(t))&&(i=l0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:br(r,i)})),n=l0.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?d9(l[0].x):f9(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function tu(t,e){var n=typeof e,r;return e==null||n==="boolean"?cE(e):(n==="number"?br:n==="string"?(r=ka(e))?(e=r,am):xM:e instanceof ka?am:e instanceof Date?u9:s9(e)?a9:Array.isArray(e)?l9:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?c9:br)(t,e)}function fE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var kA=180/Math.PI,nw={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function EM(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*kA,skewX:Math.atan(l)*kA,scaleX:a,scaleY:s}}var Lh;function h9(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nw:EM(e.a,e.b,e.c,e.d,e.e,e.f)}function p9(t){return t==null||(Lh||(Lh=document.createElementNS("http://www.w3.org/2000/svg","g")),Lh.setAttribute("transform",t),!(t=Lh.transform.baseVal.consolidate()))?nw:(t=t.matrix,EM(t.a,t.b,t.c,t.d,t.e,t.f))}function SM(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push("translate(",null,e,null,n);m.push({i:g-4,x:br(u,f)},{i:g-2,x:br(c,d)})}else(f||d)&&p.push("translate("+f+e+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:br(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:br(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:br(u,f)},{i:g-2,x:br(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(p){for(var m=-1,g=d.length,y;++m<g;)f[(y=d[m]).i]=y.x(p);return f.join("")}}}var m9=SM(h9,"px, ","px)","deg)"),g9=SM(p9,", ",")",")"),y9=1e-12;function NA(t){return((t=Math.exp(t))+1/t)/2}function v9(t){return((t=Math.exp(t))-1/t)/2}function _9(t){return((t=Math.exp(2*t))-1)/(t+1)}const w9=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],p=c-s,m=f-l,g=p*p+m*m,y,v;if(g<y9)v=Math.log(d/u)/e,y=function(b){return[s+b*p,l+b*m,u*Math.exp(e*b*v)]};else{var w=Math.sqrt(g),_=(d*d-u*u+r*g)/(2*u*n*w),S=(d*d-u*u-r*g)/(2*d*n*w),E=Math.log(Math.sqrt(_*_+1)-_),A=Math.log(Math.sqrt(S*S+1)-S);v=(A-E)/e,y=function(b){var T=b*v,P=NA(E),O=u/(n*w)*(P*_9(e*T+E)-v9(E));return[s+O*p,l+O*m,u*P/NA(e*T+E)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);function b9(t,e){e===void 0&&(e=t,t=tu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}var ml=0,fc=0,Gu=0,TM=1e3,sm,dc,lm=0,Na=0,Qg=0,df=typeof performance=="object"&&performance.now?performance:Date,AM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function dE(){return Na||(AM(x9),Na=df.now()+Qg)}function x9(){Na=0}function um(){this._call=this._time=this._next=null}um.prototype=PM.prototype={constructor:um,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?dE():+n)+(e==null?0:+e),!this._next&&dc!==this&&(dc?dc._next=this:sm=this,dc=this),this._call=t,this._time=n,rw()},stop:function(){this._call&&(this._call=null,this._time=1/0,rw())}};function PM(t,e,n){var r=new um;return r.restart(t,e,n),r}function E9(){dE(),++ml;for(var t=sm,e;t;)(e=Na-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ml}function RA(){Na=(lm=df.now())+Qg,ml=fc=0;try{E9()}finally{ml=0,T9(),Na=0}}function S9(){var t=df.now(),e=t-lm;e>TM&&(Qg-=e,lm=t)}function T9(){for(var t,e=sm,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:sm=n);dc=t,rw(r)}function rw(t){if(!ml){fc&&(fc=clearTimeout(fc));var e=t-Na;e>24?(t<1/0&&(fc=setTimeout(RA,t-df.now()-Qg)),Gu&&(Gu=clearInterval(Gu))):(Gu||(lm=df.now(),Gu=setInterval(S9,TM)),ml=1,AM(RA))}}function MA(t,e,n){var r=new um;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var A9=Xg("start","end","cancel","interrupt"),P9=[],IM=0,DA=1,iw=2,wp=3,$A=4,ow=5,bp=6;function Jg(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;I9(t,n,{name:e,index:r,group:i,on:A9,tween:P9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:IM})}function hE(t,e){var n=Mr(t,e);if(n.state>IM)throw new Error("too late; already scheduled");return n}function oi(t,e){var n=Mr(t,e);if(n.state>wp)throw new Error("too late; already running");return n}function Mr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function I9(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=PM(o,0,n.time);function o(u){n.state=DA,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,p;if(n.state!==DA)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===wp)return MA(a);p.state===$A?(p.state=bp,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=bp,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(MA(function(){n.state===wp&&(n.state=$A,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=iw,n.on.call("start",t,t.__data__,n.index,n.group),n.state===iw){for(n.state=wp,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=ow,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);n.state===ow&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=bp,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function xp(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>iw&&r.state<ow,r.state=bp,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function O9(t){return this.each(function(){xp(this,t)})}function C9(t,e){var n,r;return function(){var i=oi(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function k9(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=oi(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function N9(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Mr(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?C9:k9)(n,t,e))}function pE(t,e,n){var r=t._id;return t.each(function(){var i=oi(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Mr(i,r).value[e]}}function OM(t,e){var n;return(typeof e=="number"?br:e instanceof ka?am:(n=ka(e))?(e=n,am):xM)(t,e)}function R9(t){return function(){this.removeAttribute(t)}}function M9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function D9(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function $9(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function j9(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function L9(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function V9(t,e){var n=Yg(t),r=n==="transform"?g9:OM;return this.attrTween(t,typeof e=="function"?(n.local?L9:j9)(n,r,pE(this,"attr."+t,e)):e==null?(n.local?M9:R9)(n):(n.local?$9:D9)(n,r,e))}function F9(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function B9(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function U9(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&B9(t,o)),n}return i._value=e,i}function z9(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&F9(t,o)),n}return i._value=e,i}function W9(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Yg(t);return this.tween(n,(r.local?U9:z9)(r,e))}function H9(t,e){return function(){hE(this,t).delay=+e.apply(this,arguments)}}function q9(t,e){return e=+e,function(){hE(this,t).delay=e}}function G9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?H9:q9)(e,t)):Mr(this.node(),e).delay}function K9(t,e){return function(){oi(this,t).duration=+e.apply(this,arguments)}}function X9(t,e){return e=+e,function(){oi(this,t).duration=e}}function Y9(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?K9:X9)(e,t)):Mr(this.node(),e).duration}function Q9(t,e){if(typeof e!="function")throw new Error;return function(){oi(this,t).ease=e}}function J9(t){var e=this._id;return arguments.length?this.each(Q9(e,t)):Mr(this.node(),e).ease}function Z9(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;oi(this,t).ease=n}}function e8(t){if(typeof t!="function")throw new Error;return this.each(Z9(this._id,t))}function t8(t){typeof t!="function"&&(t=aM(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Ri(r,this._parents,this._name,this._id)}function n8(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,p=0;p<c;++p)(d=l[p]||u[p])&&(f[p]=d);for(;s<r;++s)a[s]=e[s];return new Ri(a,this._parents,this._name,this._id)}function r8(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function i8(t,e,n){var r,i,o=r8(e)?hE:oi;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function o8(t,e){var n=this._id;return arguments.length<2?Mr(this.node(),n).on.on(t):this.each(i8(n,t,e))}function a8(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function s8(){return this.on("end.remove",a8(this._id))}function l8(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sE(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=t.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Jg(u[d],e,n,d,u,Mr(c,n)));return new Ri(o,this._parents,e,n)}function u8(t){var e=this._name,n=this._id;typeof t!="function"&&(t=oM(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=t.call(c,c.__data__,f,l),p,m=Mr(c,n),g=0,y=d.length;g<y;++g)(p=d[g])&&Jg(p,e,n,g,d,m);o.push(d),a.push(c)}return new Ri(o,a,e,n)}var c8=hd.prototype.constructor;function f8(){return new c8(this._groups,this._parents)}function d8(t,e){var n,r,i;return function(){var o=pl(this,t),a=(this.style.removeProperty(t),pl(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function CM(t){return function(){this.style.removeProperty(t)}}function h8(t,e,n){var r,i=n+"",o;return function(){var a=pl(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function p8(t,e,n){var r,i,o;return function(){var a=pl(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),pl(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function m8(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=oi(this,t),u=l.on,c=l.value[o]==null?s||(s=CM(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function g8(t,e,n){var r=(t+="")=="transform"?m9:OM;return e==null?this.styleTween(t,d8(t,r)).on("end.style."+t,CM(t)):typeof e=="function"?this.styleTween(t,p8(t,r,pE(this,"style."+t,e))).each(m8(this._id,t)):this.styleTween(t,h8(t,r,e),n).on("end.style."+t,null)}function y8(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function v8(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&y8(t,a,n)),r}return o._value=e,o}function _8(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,v8(t,e,n??""))}function w8(t){return function(){this.textContent=t}}function b8(t){return function(){var e=t(this);this.textContent=e??""}}function x8(t){return this.tween("text",typeof t=="function"?b8(pE(this,"text",t)):w8(t==null?"":t+""))}function E8(t){return function(e){this.textContent=t.call(this,e)}}function S8(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&E8(i)),e}return r._value=t,r}function T8(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,S8(t))}function A8(){for(var t=this._name,e=this._id,n=kM(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Mr(l,e);Jg(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ri(r,this._parents,t,n)}function P8(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=oi(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var I8=0;function Ri(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function kM(){return++I8}var ci=hd.prototype;Ri.prototype={constructor:Ri,select:l8,selectAll:u8,selectChild:ci.selectChild,selectChildren:ci.selectChildren,filter:t8,merge:n8,selection:f8,transition:A8,call:ci.call,nodes:ci.nodes,node:ci.node,size:ci.size,empty:ci.empty,each:ci.each,on:o8,attr:V9,attrTween:W9,style:g8,styleTween:_8,text:x8,textTween:T8,remove:s8,tween:N9,delay:G9,duration:Y9,ease:J9,easeVarying:e8,end:P8,[Symbol.iterator]:ci[Symbol.iterator]};function O8(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var C8={time:null,delay:0,duration:250,ease:O8};function k8(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function N8(t){var e,n;t instanceof Ri?(e=t._id,t=t._name):(e=kM(),(n=C8).time=dE(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Jg(l,t,e,u,a,n||k8(l,e));return new Ri(r,this._parents,t,e)}hd.prototype.interrupt=O9;hd.prototype.transition=N8;const Vh=t=>()=>t;function R8(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function yi(t,e,n){this.k=t,this.x=e,this.y=n}yi.prototype={constructor:yi,scale:function(t){return t===1?this:new yi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new yi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zg=new yi(1,0,0);NM.prototype=yi.prototype;function NM(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Zg;return t.__zoom}function u0(t){t.stopImmediatePropagation()}function Ku(t){t.preventDefault(),t.stopImmediatePropagation()}function M8(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function D8(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jA(){return this.__zoom||Zg}function $8(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function j8(){return navigator.maxTouchPoints||"ontouchstart"in this}function L8(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function RM(){var t=M8,e=D8,n=L8,r=$8,i=j8,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=w9,u=Xg("start","zoom","end"),c,f,d,p=500,m=150,g=0,y=10;function v(R){R.property("__zoom",jA).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(R,V,j,F){var L=R.selection?R.selection():R;L.property("__zoom",jA),R!==L?E(R,V,j,F):L.interrupt().each(function(){A(this,arguments).event(F).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},v.scaleBy=function(R,V,j,F){v.scaleTo(R,function(){var L=this.__zoom.k,B=typeof V=="function"?V.apply(this,arguments):V;return L*B},j,F)},v.scaleTo=function(R,V,j,F){v.transform(R,function(){var L=e.apply(this,arguments),B=this.__zoom,U=j==null?S(L):typeof j=="function"?j.apply(this,arguments):j,G=B.invert(U),W=typeof V=="function"?V.apply(this,arguments):V;return n(_(w(B,W),U,G),L,a)},j,F)},v.translateBy=function(R,V,j,F){v.transform(R,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),a)},null,F)},v.translateTo=function(R,V,j,F,L){v.transform(R,function(){var B=e.apply(this,arguments),U=this.__zoom,G=F==null?S(B):typeof F=="function"?F.apply(this,arguments):F;return n(Zg.translate(G[0],G[1]).scale(U.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof j=="function"?-j.apply(this,arguments):-j),B,a)},F,L)};function w(R,V){return V=Math.max(o[0],Math.min(o[1],V)),V===R.k?R:new yi(V,R.x,R.y)}function _(R,V,j){var F=V[0]-j[0]*R.k,L=V[1]-j[1]*R.k;return F===R.x&&L===R.y?R:new yi(R.k,F,L)}function S(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function E(R,V,j,F){R.on("start.zoom",function(){A(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(F).end()}).tween("zoom",function(){var L=this,B=arguments,U=A(L,B).event(F),G=e.apply(L,B),W=j==null?S(G):typeof j=="function"?j.apply(L,B):j,K=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),Y=L.__zoom,ee=typeof V=="function"?V.apply(L,B):V,ne=l(Y.invert(W).concat(K/Y.k),ee.invert(W).concat(K/ee.k));return function(re){if(re===1)re=ee;else{var se=ne(re),J=K/se[2];re=new yi(J,W[0]-se[0]*J,W[1]-se[1]*J)}U.zoom(null,re)}})}function A(R,V,j){return!j&&R.__zooming||new b(R,V)}function b(R,V){this.that=R,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(R,V),this.taps=0}b.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,V){return this.mouse&&R!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var V=Dn(this.that).datum();u.call(R,this.that,new R8(R,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),V)}};function T(R,...V){if(!t.apply(this,arguments))return;var j=A(this,V).event(R),F=this.__zoom,L=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),B=yr(R);if(j.wheel)(j.mouse[0][0]!==B[0]||j.mouse[0][1]!==B[1])&&(j.mouse[1]=F.invert(j.mouse[0]=B)),clearTimeout(j.wheel);else{if(F.k===L)return;j.mouse=[B,F.invert(B)],xp(this),j.start()}Ku(R),j.wheel=setTimeout(U,m),j.zoom("mouse",n(_(w(F,L),j.mouse[0],j.mouse[1]),j.extent,a));function U(){j.wheel=null,j.end()}}function P(R,...V){if(d||!t.apply(this,arguments))return;var j=R.currentTarget,F=A(this,V,!0).event(R),L=Dn(R.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",K,!0),B=yr(R,j),U=R.clientX,G=R.clientY;gM(R.view),u0(R),F.mouse=[B,this.__zoom.invert(B)],xp(this),F.start();function W(Y){if(Ku(Y),!F.moved){var ee=Y.clientX-U,ne=Y.clientY-G;F.moved=ee*ee+ne*ne>g}F.event(Y).zoom("mouse",n(_(F.that.__zoom,F.mouse[0]=yr(Y,j),F.mouse[1]),F.extent,a))}function K(Y){L.on("mousemove.zoom mouseup.zoom",null),yM(Y.view,F.moved),Ku(Y),F.event(Y).end()}}function O(R,...V){if(t.apply(this,arguments)){var j=this.__zoom,F=yr(R.changedTouches?R.changedTouches[0]:R,this),L=j.invert(F),B=j.k*(R.shiftKey?.5:2),U=n(_(w(j,B),F,L),e.apply(this,V),a);Ku(R),s>0?Dn(this).transition().duration(s).call(E,U,F,R):Dn(this).call(v.transform,U,F,R)}}function C(R,...V){if(t.apply(this,arguments)){var j=R.touches,F=j.length,L=A(this,V,R.changedTouches.length===F).event(R),B,U,G,W;for(u0(R),U=0;U<F;++U)G=j[U],W=yr(G,this),W=[W,this.__zoom.invert(W),G.identifier],L.touch0?!L.touch1&&L.touch0[2]!==W[2]&&(L.touch1=W,L.taps=0):(L.touch0=W,B=!0,L.taps=1+!!c);c&&(c=clearTimeout(c)),B&&(L.taps<2&&(f=W[0],c=setTimeout(function(){c=null},p)),xp(this),L.start())}}function N(R,...V){if(this.__zooming){var j=A(this,V).event(R),F=R.changedTouches,L=F.length,B,U,G,W;for(Ku(R),B=0;B<L;++B)U=F[B],G=yr(U,this),j.touch0&&j.touch0[2]===U.identifier?j.touch0[0]=G:j.touch1&&j.touch1[2]===U.identifier&&(j.touch1[0]=G);if(U=j.that.__zoom,j.touch1){var K=j.touch0[0],Y=j.touch0[1],ee=j.touch1[0],ne=j.touch1[1],re=(re=ee[0]-K[0])*re+(re=ee[1]-K[1])*re,se=(se=ne[0]-Y[0])*se+(se=ne[1]-Y[1])*se;U=w(U,Math.sqrt(re/se)),G=[(K[0]+ee[0])/2,(K[1]+ee[1])/2],W=[(Y[0]+ne[0])/2,(Y[1]+ne[1])/2]}else if(j.touch0)G=j.touch0[0],W=j.touch0[1];else return;j.zoom("touch",n(_(U,G,W),j.extent,a))}}function k(R,...V){if(this.__zooming){var j=A(this,V).event(R),F=R.changedTouches,L=F.length,B,U;for(u0(R),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),B=0;B<L;++B)U=F[B],j.touch0&&j.touch0[2]===U.identifier?delete j.touch0:j.touch1&&j.touch1[2]===U.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(U=yr(U,this),Math.hypot(f[0]-U[0],f[1]-U[1])<y)){var G=Dn(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return v.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:Vh(+R),v):r},v.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Vh(!!R),v):t},v.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:Vh(!!R),v):i},v.extent=function(R){return arguments.length?(e=typeof R=="function"?R:Vh([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),v):e},v.scaleExtent=function(R){return arguments.length?(o[0]=+R[0],o[1]=+R[1],v):[o[0],o[1]]},v.translateExtent=function(R){return arguments.length?(a[0][0]=+R[0][0],a[1][0]=+R[1][0],a[0][1]=+R[0][1],a[1][1]=+R[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(R){return arguments.length?(n=R,v):n},v.duration=function(R){return arguments.length?(s=+R,v):s},v.interpolate=function(R){return arguments.length?(l=R,v):l},v.on=function(){var R=u.on.apply(u,arguments);return R===u?v:R},v.clickDistance=function(R){return arguments.length?(g=(R=+R)*R,v):Math.sqrt(g)},v.tapDistance=function(R){return arguments.length?(y=+R,v):y},v}const zi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},hf=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],MM=["Enter"," ","Escape"];var gl;(function(t){t.Strict="strict",t.Loose="loose"})(gl||(gl={}));var Ea;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Ea||(Ea={}));var pf;(function(t){t.Partial="partial",t.Full="full"})(pf||(pf={}));const DM={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var lo;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(lo||(lo={}));var cm;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(cm||(cm={}));var ge;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ge||(ge={}));const LA={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function $M(t){return t===null?null:t?"valid":"invalid"}const jM=t=>"id"in t&&"source"in t&&"target"in t,V8=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),mE=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),md=(t,e=[0,0])=>{const{width:n,height:r}=Wi(t),i=t.origin??e,o=n*i[0],a=r*i[1];return{x:t.position.x-o,y:t.position.y-a}},F8=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let a=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(a=o?e.nodeLookup.get(i):mE(i)?i:e.nodeLookup.get(i.id));const s=a?fm(a,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ey(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ty(n)},gd=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=fm(r);n=ey(n,i)}}),ty(n)},LM=(t,e,[n,r,i]=[0,0,1],o=!1,a=!1)=>{const s={...yd(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(a&&!f||d)continue;const p=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,g=mf(s,vl(u)),y=(p??0)*(m??0),v=o&&g>0;(!u.internals.handleBounds||v||g>=y||u.dragging)&&l.push(u)}return l},B8=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function aw(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function sw({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},a){if(t.size===0)return Promise.resolve(!1);const s=gd(t),l=gE(s,e,n,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??o,(a==null?void 0:a.padding)??.1);return await r.setViewport(l,{duration:a==null?void 0:a.duration}),Promise.resolve(!0)}function VM({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const a=n.get(t),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r;let f=i;if(a.extent==="parent"&&!a.expandParent)if(!s)o==null||o("005",zi.error005());else{const p=s.measured.width,m=s.measured.height;p&&m&&(f=[[l,u],[l+p,u+m]])}else s&&_l(a.extent)&&(f=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);const d=_l(f)?Ra(e,f,a.measured):e;return{position:{x:d.x-l+a.measured.width*c[0],y:d.y-u+a.measured.height*c[1]},positionAbsolute:d}}async function U8({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(d=>d.id)),a=[];for(const d of n){if(d.deletable===!1)continue;const p=o.has(d.id),m=!p&&d.parentId&&a.find(g=>g.id===d.parentId);(p||m)&&a.push(d)}const s=new Set(e.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),c=B8(a,l);for(const d of l)s.has(d.id)&&!c.find(m=>m.id===d.id)&&c.push(d);if(!i)return{edges:c,nodes:a};const f=await i({nodes:a,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:a}:{edges:[],nodes:[]}:f}const yl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ra=(t={x:0,y:0},e,n)=>({x:yl(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:yl(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function FM(t,e,n){const{width:r,height:i}=Wi(n),{x:o,y:a}=n.internals.positionAbsolute;return Ra(t,[[o,a],[o+r,a+i]],e)}const VA=(t,e,n)=>t<e?yl(Math.abs(t-e),1,e)/e:t>n?-yl(Math.abs(t-n),1,e)/e:0,BM=(t,e,n=15,r=40)=>{const i=VA(t.x,r,e.width-r)*n,o=VA(t.y,r,e.height-r)*n;return[i,o]},ey=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),lw=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),ty=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),vl=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=mE(t)?t.internals.positionAbsolute:md(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0}},fm=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=mE(t)?t.internals.positionAbsolute:md(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0)}},UM=(t,e)=>ty(ey(lw(t),lw(e))),mf=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},FA=t=>Sr(t.width)&&Sr(t.height)&&Sr(t.x)&&Sr(t.y),Sr=t=>!isNaN(t)&&isFinite(t),z8=(t,e)=>{},ny=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),yd=({x:t,y:e},[n,r,i],o=!1,a=[1,1])=>{const s={x:(t-n)/i,y:(e-r)/i};return o?ny(s,a):s},zM=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),gE=(t,e,n,r,i,o)=>{const a=e/(t.width*(1+o)),s=n/(t.height*(1+o)),l=Math.min(a,s),u=yl(l,r,i),c=t.x+t.width/2,f=t.y+t.height/2,d=e/2-c*u,p=n/2-f*u;return{x:d,y:p,zoom:u}},dm=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function _l(t){return t!==void 0&&t!=="parent"}function Wi(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function WM(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function HM(t,e={width:0,height:0},n,r,i){const o={...t},a=r.get(n);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(e.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(e.height??0)*s[1]}return o}function BA(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Cc(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:a}=Ti(t),s=yd({x:o-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?ny(s,e):s;return{xSnapped:l,ySnapped:u,...s}}const ry=t=>({width:t.offsetWidth,height:t.offsetHeight}),qM=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},W8=["INPUT","SELECT","TEXTAREA"];function uw(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:W8.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const GM=t=>"clientX"in t,Ti=(t,e)=>{var o,a;const n=GM(t),r=n?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,i=n?t.clientY:(a=t.touches)==null?void 0:a[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},UA=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:t,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...ry(a)}})};function KM({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=t*.125+i*.375+a*.375+n*.125,u=e*.125+o*.375+s*.375+r*.125,c=Math.abs(l-t),f=Math.abs(u-e);return[l,u,c,f]}function Fh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function zA({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case ge.Left:return[e-Fh(e-r,o),n];case ge.Right:return[e+Fh(r-e,o),n];case ge.Top:return[e,n-Fh(n-i,o)];case ge.Bottom:return[e,n+Fh(i-n,o)]}}function XM({sourceX:t,sourceY:e,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:o=ge.Top,curvature:a=.25}){const[s,l]=zA({pos:n,x1:t,y1:e,x2:r,y2:i,c:a}),[u,c]=zA({pos:o,x1:r,y1:i,x2:t,y2:e,c:a}),[f,d,p,m]=KM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${e} C${s},${l} ${u},${c} ${r},${i}`,f,d,p,m]}function YM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,a=Math.abs(r-e)/2,s=r<e?r+a:r-a;return[o,s,i,a]}function H8({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||e.selected||t.selected,a=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(o?a:0)}function q8({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=ey(fm(t),fm(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return mf(a,ty(o))>0}const G8=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,K8=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),X8=(t,e)=>{if(!t.source||!t.target)return e;let n;return jM(t)?n={...t}:n={...t,id:G8(t)},K8(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function QM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,a,s]=YM({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,a,s]}const WA={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},Y8=({source:t,sourcePosition:e=ge.Bottom,target:n})=>e===ge.Left||e===ge.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},HA=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Q8({source:t,sourcePosition:e=ge.Bottom,target:n,targetPosition:r=ge.Top,center:i,offset:o}){const a=WA[e],s=WA[r],l={x:t.x+a.x*o,y:t.y+a.y*o},u={x:n.x+s.x*o,y:n.y+s.y*o},c=Y8({source:l,sourcePosition:e,target:u}),f=c.x!==0?"x":"y",d=c[f];let p=[],m,g;const y={x:0,y:0},v={x:0,y:0},[w,_,S,E]=YM({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[f]*s[f]===-1){m=i.x??w,g=i.y??_;const b=[{x:m,y:l.y},{x:m,y:u.y}],T=[{x:l.x,y:g},{x:u.x,y:g}];a[f]===d?p=f==="x"?b:T:p=f==="x"?T:b}else{const b=[{x:l.x,y:u.y}],T=[{x:u.x,y:l.y}];if(f==="x"?p=a.x===d?T:b:p=a.y===d?b:T,e===r){const k=Math.abs(t[f]-n[f]);if(k<=o){const R=Math.min(o-1,o-k);a[f]===d?y[f]=(l[f]>t[f]?-1:1)*R:v[f]=(u[f]>n[f]?-1:1)*R}}if(e!==r){const k=f==="x"?"y":"x",R=a[f]===s[k],V=l[k]>u[k],j=l[k]<u[k];(a[f]===1&&(!R&&V||R&&j)||a[f]!==1&&(!R&&j||R&&V))&&(p=f==="x"?b:T)}const P={x:l.x+y.x,y:l.y+y.y},O={x:u.x+v.x,y:u.y+v.y},C=Math.max(Math.abs(P.x-p[0].x),Math.abs(O.x-p[0].x)),N=Math.max(Math.abs(P.y-p[0].y),Math.abs(O.y-p[0].y));C>=N?(m=(P.x+O.x)/2,g=p[0].y):(m=p[0].x,g=(P.y+O.y)/2)}return[[t,{x:l.x+y.x,y:l.y+y.y},...p,{x:u.x+v.x,y:u.y+v.y},n],m,g,S,E]}function J8(t,e,n,r){const i=Math.min(HA(t,e)/2,HA(e,n)/2,r),{x:o,y:a}=e;if(t.x===o&&o===n.x||t.y===a&&a===n.y)return`L${o} ${a}`;if(t.y===a){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${o+i*u},${a}Q ${o},${a} ${o},${a+i*c}`}const s=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function cw({sourceX:t,sourceY:e,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:o=ge.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20}){const[c,f,d,p,m]=Q8({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:u});return[c.reduce((y,v,w)=>{let _="";return w>0&&w<c.length-1?_=J8(c[w-1],v,c[w+1],a):_=`${w===0?"M":"L"}${v.x} ${v.y}`,y+=_,y},""),f,d,p,m]}function qA(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Z8(t){var f;const{sourceNode:e,targetNode:n}=t;if(!qA(e)||!qA(n))return null;const r=e.internals.handleBounds||GA(e.handles),i=n.internals.handleBounds||GA(n.handles),o=KA((r==null?void 0:r.source)??[],t.sourceHandle),a=KA(t.connectionMode===gl.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!o||!a)return(f=t.onError)==null||f.call(t,"008",zi.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const s=(o==null?void 0:o.position)||ge.Bottom,l=(a==null?void 0:a.position)||ge.Top,u=gf(e,o,s),c=gf(n,a,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:l}}function GA(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function gf(t,e,n=ge.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,o=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:a,height:s}=e??Wi(t);if(r)return{x:i+a/2,y:o+s/2};switch((e==null?void 0:e.position)??n){case ge.Top:return{x:i+a/2,y:o};case ge.Right:return{x:i+a,y:o+s/2};case ge.Bottom:return{x:i+a/2,y:o+s};case ge.Left:return{x:i,y:o+s/2}}}function KA(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function fw(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function eW(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((a,s)=>([s.markerStart||r,s.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=fw(l,e);o.has(u)||(a.push({id:u,color:l.color||n,...l}),o.add(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const yE={nodeOrigin:[0,0],nodeExtent:hf,elevateNodesOnSelect:!0,defaults:{}},tW={...yE,checkEquality:!0};function vE(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function nW(t,e,n){const r=vE(yE,n);for(const i of t.values())if(i.parentId)_E(i,t,e,r);else{const o=md(i,r.nodeOrigin),a=_l(i.extent)?i.extent:r.nodeExtent,s=Ra(o,a,Wi(i));i.internals.positionAbsolute=s}}function dw(t,e,n,r){var s,l;const i=vE(tW,r),o=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const u of t){let c=o.get(u.id);if(i.checkEquality&&u===(c==null?void 0:c.internals.userNode))e.set(u.id,c);else{const f=md(u,i.nodeOrigin),d=_l(u.extent)?u.extent:i.nodeExtent,p=Ra(f,d,Wi(u));c={...i.defaults,...u,measured:{width:(s=u.measured)==null?void 0:s.width,height:(l=u.measured)==null?void 0:l.height},internals:{positionAbsolute:p,handleBounds:u.measured?c==null?void 0:c.internals.handleBounds:void 0,z:JM(u,a),userNode:u}},e.set(u.id,c)}u.parentId&&_E(c,e,n,r)}}function rW(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function _E(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a}=vE(yE,r),s=t.parentId,l=e.get(s);if(!l){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}rW(t,n);const u=i?1e3:0,{x:c,y:f,z:d}=iW(t,l,o,a,u),{positionAbsolute:p}=t.internals,m=c!==p.x||f!==p.y;(m||d!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:f}:p,z:d}})}function JM(t,e){return(Sr(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function iW(t,e,n,r,i){const{x:o,y:a}=e.internals.positionAbsolute,s=Wi(t),l=md(t,n),u=_l(t.extent)?Ra(l,t.extent,s):l;let c=Ra({x:o+u.x,y:a+u.y},r,s);t.extent==="parent"&&(c=FM(c,s,e));const f=JM(t,i),d=e.internals.z??0;return{x:c.x,y:c.y,z:d>f?d:f}}function wE(t,e,n,r=[0,0]){var a;const i=[],o=new Map;for(const s of t){const l=e.get(s.parentId);if(!l)continue;const u=((a=o.get(s.parentId))==null?void 0:a.expandedRect)??vl(l),c=UM(u,s.rect);o.set(s.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:s,parent:l},u)=>{var _;const c=l.internals.positionAbsolute,f=Wi(l),d=l.origin??r,p=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,m=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,g=Math.max(f.width,Math.round(s.width)),y=Math.max(f.height,Math.round(s.height)),v=(g-f.width)*d[0],w=(y-f.height)*d[1];(p>0||m>0||v||w)&&(i.push({id:u,type:"position",position:{x:l.position.x-p+v,y:l.position.y-m+w}}),(_=n.get(u))==null||_.forEach(S=>{t.some(E=>E.id===S.id)||i.push({id:S.id,type:"position",position:{x:S.position.x+p,y:S.position.y+m}})})),(f.width<s.width||f.height<s.height||p||m)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:g+(p?d[0]*p-v:0),height:y+(m?d[1]*m-w:0)}})}),i}function oW(t,e,n,r,i,o){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const l=[],u=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(u.transform),f=[];for(const d of t.values()){const p=e.get(d.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),s=!0;continue}const m=ry(d.nodeElement),g=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(g||!p.internals.handleBounds||d.force))){const v=d.nodeElement.getBoundingClientRect(),w=_l(p.extent)?p.extent:o;let{positionAbsolute:_}=p.internals;p.parentId&&p.extent==="parent"?_=FM(_,m,e.get(p.parentId)):w&&(_=Ra(_,w,m));const S={...p,measured:m,internals:{...p.internals,positionAbsolute:_,handleBounds:{source:UA("source",d.nodeElement,v,c,p.id),target:UA("target",d.nodeElement,v,c,p.id)}}};e.set(p.id,S),p.parentId&&_E(S,e,n,{nodeOrigin:i}),s=!0,g&&(l.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&f.push({id:p.id,parentId:p.parentId,rect:vl(S,i)}))}}if(f.length>0){const d=wE(f,e,n,i);l.push(...d)}return{changes:l,updatedInternals:s}}async function aW({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const a=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function XA(t,e,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,e)),a=`${i}-${t}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,e)),o){a=`${i}-${t}-${o}`;const u=r.get(a)||new Map;r.set(a,u.set(n,e))}}function ZM(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},u=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;XA("source",l,c,t,i,a),XA("target",l,u,t,o,s),e.set(r.id,r)}}function eD(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:eD(n,e):!1}function YA(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function sW(t,e,n,r){const i=new Map;for(const[o,a]of t)if((a.selected||a.id===r)&&(!a.parentId||!eD(a,t))&&(a.draggable||e&&typeof a.draggable>"u")){const s=t.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function c0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var a,s,l;const i=[];for(const[u,c]of e){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&i.push({...f,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=(s=n.get(t))==null?void 0:s.internals.userNode;return[o?{...o,position:((l=e.get(t))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function lW({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,l=!1,u={x:0,y:0},c=null,f=!1,d=null,p=!1;function m({noDragClassName:y,handleSelector:v,domNode:w,isSelectable:_,nodeId:S,nodeClickDistance:E=0}){d=Dn(w);function A({x:O,y:C},N){const{nodeLookup:k,nodeExtent:R,snapGrid:V,snapToGrid:j,nodeOrigin:F,onNodeDrag:L,onSelectionDrag:B,onError:U,updateNodePositions:G}=e();o={x:O,y:C};let W=!1,K={x:0,y:0,x2:0,y2:0};if(s.size>1&&R){const Y=gd(s);K=lw(Y)}for(const[Y,ee]of s){if(!k.has(Y))continue;let ne={x:O-ee.distance.x,y:C-ee.distance.y};j&&(ne=ny(ne,V));let re=[[R[0][0],R[0][1]],[R[1][0],R[1][1]]];if(s.size>1&&R&&!ee.extent){const{positionAbsolute:le}=ee.internals,oe=le.x-K.x+R[0][0],H=le.x+ee.measured.width-K.x2+R[1][0],he=le.y-K.y+R[0][1],ce=le.y+ee.measured.height-K.y2+R[1][1];re=[[oe,he],[H,ce]]}const{position:se,positionAbsolute:J}=VM({nodeId:Y,nextPosition:ne,nodeLookup:k,nodeExtent:re,nodeOrigin:F,onError:U});W=W||ee.position.x!==se.x||ee.position.y!==se.y,ee.position=se,ee.internals.positionAbsolute=J}if(W&&(G(s,!0),N&&(r||L||!S&&B))){const[Y,ee]=c0({nodeId:S,dragItems:s,nodeLookup:k});r==null||r(N,s,Y,ee),L==null||L(N,Y,ee),S||B==null||B(N,ee)}}async function b(){if(!c)return;const{transform:O,panBy:C,autoPanSpeed:N,autoPanOnNodeDrag:k}=e();if(!k){l=!1,cancelAnimationFrame(a);return}const[R,V]=BM(u,c,N);(R!==0||V!==0)&&(o.x=(o.x??0)-R/O[2],o.y=(o.y??0)-V/O[2],await C({x:R,y:V})&&A(o,null)),a=requestAnimationFrame(b)}function T(O){var W;const{nodeLookup:C,multiSelectionActive:N,nodesDraggable:k,transform:R,snapGrid:V,snapToGrid:j,selectNodesOnDrag:F,onNodeDragStart:L,onSelectionDragStart:B,unselectNodesAndEdges:U}=e();f=!0,(!F||!_)&&!N&&S&&((W=C.get(S))!=null&&W.selected||U()),_&&F&&S&&(t==null||t(S));const G=Cc(O.sourceEvent,{transform:R,snapGrid:V,snapToGrid:j,containerBounds:c});if(o=G,s=sW(C,k,G,S),s.size>0&&(n||L||!S&&B)){const[K,Y]=c0({nodeId:S,dragItems:s,nodeLookup:C});n==null||n(O.sourceEvent,s,K,Y),L==null||L(O.sourceEvent,K,Y),S||B==null||B(O.sourceEvent,Y)}}const P=vM().clickDistance(E).on("start",O=>{const{domNode:C,nodeDragThreshold:N,transform:k,snapGrid:R,snapToGrid:V}=e();c=(C==null?void 0:C.getBoundingClientRect())||null,p=!1,N===0&&T(O),o=Cc(O.sourceEvent,{transform:k,snapGrid:R,snapToGrid:V,containerBounds:c}),u=Ti(O.sourceEvent,c)}).on("drag",O=>{const{autoPanOnNodeDrag:C,transform:N,snapGrid:k,snapToGrid:R,nodeDragThreshold:V,nodeLookup:j}=e(),F=Cc(O.sourceEvent,{transform:N,snapGrid:k,snapToGrid:R,containerBounds:c});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||S&&!j.has(S))&&(p=!0),!p){if(!l&&C&&f&&(l=!0,b()),!f){const L=F.xSnapped-(o.x??0),B=F.ySnapped-(o.y??0);Math.sqrt(L*L+B*B)>V&&T(O)}(o.x!==F.xSnapped||o.y!==F.ySnapped)&&s&&f&&(u=Ti(O.sourceEvent,c),A(F,O.sourceEvent))}}).on("end",O=>{if(!(!f||p)&&(l=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:C,updateNodePositions:N,onNodeDragStop:k,onSelectionDragStop:R}=e();if(N(s,!1),i||k||!S&&R){const[V,j]=c0({nodeId:S,dragItems:s,nodeLookup:C,dragging:!1});i==null||i(O.sourceEvent,s,V,j),k==null||k(O.sourceEvent,V,j),S||R==null||R(O.sourceEvent,j)}}}).filter(O=>{const C=O.target;return!O.button&&(!y||!YA(C,`.${y}`,w))&&(!v||YA(C,v,w))});d.call(P)}function g(){d==null||d.on(".drag",null)}return{update:m,destroy:g}}function uW(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())mf(i,vl(o))>0&&r.push(o);return r}const cW=250;function fW(t,e,n,r){var s,l;let i=[],o=1/0;const a=uW(t,n,e+cW);for(const u of a){const c=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:p}=gf(u,f,f.position,!0),m=Math.sqrt(Math.pow(d-t.x,2)+Math.pow(p-t.y,2));m>e||(m<o?(i=[{...f,x:d,y:p}],o=m):m===o&&i.push({...f,x:d,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function tD(t,e,n,r,i,o=!1){var u,c,f;const a=r.get(t);if(!a)return null;const s=i==="strict"?(u=a.internals.handleBounds)==null?void 0:u[e]:[...((c=a.internals.handleBounds)==null?void 0:c.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?s==null?void 0:s.find(d=>d.id===n):s==null?void 0:s[0])??null;return l&&o?{...l,...gf(a,l,l.position,!0)}:l}function nD(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function dW(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const rD=()=>!0;function hW(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:p,onConnectStart:m,onConnect:g,onConnectEnd:y,isValidConnection:v=rD,onReconnectEnd:w,updateConnection:_,getTransform:S,getFromHandle:E,autoPanSpeed:A}){const b=qM(t.target);let T=0,P;const{x:O,y:C}=Ti(t),N=b==null?void 0:b.elementFromPoint(O,C),k=nD(o,N),R=s==null?void 0:s.getBoundingClientRect();if(!R||!k)return;const V=tD(i,k,r,l,e);if(!V)return;let j=Ti(t,R),F=!1,L=null,B=!1,U=null;function G(){if(!c||!R)return;const[J,le]=BM(j,R,A);d({x:J,y:le}),T=requestAnimationFrame(G)}const W={...V,nodeId:i,type:k,position:V.position},K=l.get(i),ee={inProgress:!0,isValid:null,from:gf(K,W,ge.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:K,to:j,toHandle:null,toPosition:LA[W.position],toNode:null};_(ee);let ne=ee;m==null||m(t,{nodeId:i,handleId:r,handleType:k});function re(J){if(!E()||!W){se(J);return}const le=S();j=Ti(J,R),P=fW(yd(j,le,!1,[1,1]),n,l,W),F||(G(),F=!0);const oe=iD(J,{handle:P,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:v,doc:b,lib:u,flowId:f,nodeLookup:l});U=oe.handleDomNode,L=oe.connection,B=dW(!!P,oe.isValid);const H={...ne,isValid:B,to:P&&B?zM({x:P.x,y:P.y},le):j,toHandle:oe.toHandle,toPosition:B&&oe.toHandle?oe.toHandle.position:LA[W.position],toNode:oe.toHandle?l.get(oe.toHandle.nodeId):null};B&&P&&ne.toHandle&&H.toHandle&&ne.toHandle.type===H.toHandle.type&&ne.toHandle.nodeId===H.toHandle.nodeId&&ne.toHandle.id===H.toHandle.id&&ne.to.x===H.to.x&&ne.to.y===H.to.y||(_(H),ne=H)}function se(J){(P||U)&&L&&B&&(g==null||g(L));const{inProgress:le,...oe}=ne,H={...oe,toPosition:ne.toHandle?ne.toPosition:null};y==null||y(J,H),o&&(w==null||w(J,H)),p(),cancelAnimationFrame(T),F=!1,B=!1,L=null,U=null,b.removeEventListener("mousemove",re),b.removeEventListener("mouseup",se),b.removeEventListener("touchmove",re),b.removeEventListener("touchend",se)}b.addEventListener("mousemove",re),b.addEventListener("mouseup",se),b.addEventListener("touchmove",re),b.addEventListener("touchend",se)}function iD(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:l,isValidConnection:u=rD,nodeLookup:c}){const f=o==="target",d=e?a.querySelector(`.${s}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:p,y:m}=Ti(t),g=a.elementFromPoint(p,m),y=g!=null&&g.classList.contains(`${s}-flow__handle`)?g:d,v={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const w=nD(void 0,y),_=y.getAttribute("data-nodeid"),S=y.getAttribute("data-handleid"),E=y.classList.contains("connectable"),A=y.classList.contains("connectableend");if(!_||!w)return v;const b={source:f?_:r,sourceHandle:f?S:i,target:f?r:_,targetHandle:f?i:S};v.connection=b;const P=E&&A&&(n===gl.Strict?f&&w==="source"||!f&&w==="target":_!==r||S!==i);v.isValid=P&&u(b),v.toHandle=tD(_,w,S,c,n,!1)}return v}const hw={onPointerDown:hW,isValid:iD};function pW({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Dn(t);function o({translateExtent:s,width:l,height:u,zoomStep:c=10,pannable:f=!0,zoomable:d=!0,inversePan:p=!1}){const m=_=>{const S=n();if(_.sourceEvent.type!=="wheel"||!e)return;const E=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*c,A=S[2]*Math.pow(2,E);e.scaleTo(A)};let g=[0,0];const y=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(g=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},v=_=>{const S=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const E=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],A=[E[0]-g[0],E[1]-g[1]];g=E;const b=r()*Math.max(S[2],Math.log(S[2]))*(p?-1:1),T={x:S[0]-A[0]*b,y:S[1]-A[1]*b},P=[[0,0],[l,u]];e.setViewportConstrained({x:T.x,y:T.y,zoom:S[2]},P,s)},w=RM().on("start",y).on("zoom",f?v:null).on("zoom.wheel",d?m:null);i.call(w,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:yr}}const mW=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,iy=t=>({x:t.x,y:t.y,zoom:t.k}),f0=({x:t,y:e,zoom:n})=>Zg.translate(t,e).scale(n),Fs=(t,e)=>t.target.closest(`.${e}`),oD=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),d0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},aD=t=>{const e=t.ctrlKey&&dm()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function gW({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(Fs(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&a){const y=yr(c),v=aD(c),w=f*Math.pow(2,v);r.scaleTo(n,w,y,c);return}const d=c.deltaMode===1?20:1;let p=i===Ea.Vertical?0:c.deltaX*d,m=i===Ea.Horizontal?0:c.deltaY*d;!dm()&&c.shiftKey&&i!==Ea.Vertical&&(p=c.deltaY*d,m=0),r.translateBy(n,-(p/f)*o,-(m/f)*o,{internal:!0});const g=iy(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,s==null||s(c,g)),t.isPanScrolling&&(l==null||l(c,g),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,g),t.isPanScrolling=!1},150))}}function yW({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||Fs(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function vW({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var o,a,s;if((o=r.sourceEvent)!=null&&o.internal)return;const i=iy(r.transform);t.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function _W({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var a,s;t.usedRightMouseButton=!!(n&&oD(e,t.mouseButton??0)),(a=o.sourceEvent)!=null&&a.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,iy(o.transform)))}}function wW({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(t.isZoomingOrPanning=!1,o&&oD(e,t.mouseButton??0)&&!t.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&mW(t.prevViewport,a.transform))){const l=iy(a.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,l)},n?150:0)}}}function bW({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:u}){return c=>{var m;const f=t||e,d=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(Fs(c,`${u}-flow__node`)||Fs(c,`${u}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||a||Fs(c,s)&&c.type==="wheel"||Fs(c,l)&&(c.type!=="wheel"||i&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!f&&!i&&!d&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&p}}function xW({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=t.getBoundingClientRect(),d=RM().clickDistance(!Sr(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),p=Dn(t).call(d);_({x:o.x,y:o.y,zoom:yl(o.zoom,e,n)},[[0,0],[f.width,f.height]],i);const m=p.on("wheel.zoom"),g=p.on("dblclick.zoom");d.wheelDelta(aD);function y(N,k){return p?new Promise(R=>{d==null||d.transform(d0(p,k==null?void 0:k.duration,()=>R(!0)),N)}):Promise.resolve(!1)}function v({noWheelClassName:N,noPanClassName:k,onPaneContextMenu:R,userSelectionActive:V,panOnScroll:j,panOnDrag:F,panOnScrollMode:L,panOnScrollSpeed:B,preventScrolling:U,zoomOnPinch:G,zoomOnScroll:W,zoomOnDoubleClick:K,zoomActivationKeyPressed:Y,lib:ee,onTransformChange:ne}){V&&!c.isZoomingOrPanning&&w();const se=j&&!Y&&!V?gW({zoomPanValues:c,noWheelClassName:N,d3Selection:p,d3Zoom:d,panOnScrollMode:L,panOnScrollSpeed:B,zoomOnPinch:G,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:l}):yW({noWheelClassName:N,preventScrolling:U,d3ZoomHandler:m});if(p.on("wheel.zoom",se,{passive:!1}),!V){const le=vW({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});d.on("start",le);const oe=_W({zoomPanValues:c,panOnDrag:F,onPaneContextMenu:!!R,onPanZoom:a,onTransformChange:ne});d.on("zoom",oe);const H=wW({zoomPanValues:c,panOnDrag:F,panOnScroll:j,onPaneContextMenu:R,onPanZoomEnd:l,onDraggingChange:u});d.on("end",H)}const J=bW({zoomActivationKeyPressed:Y,panOnDrag:F,zoomOnScroll:W,panOnScroll:j,zoomOnDoubleClick:K,zoomOnPinch:G,userSelectionActive:V,noPanClassName:k,noWheelClassName:N,lib:ee});d.filter(J),K?p.on("dblclick.zoom",g):p.on("dblclick.zoom",null)}function w(){d.on("zoom",null)}async function _(N,k,R){const V=f0(N),j=d==null?void 0:d.constrain()(V,k,R);return j&&await y(j),new Promise(F=>F(j))}async function S(N,k){const R=f0(N);return await y(R,k),new Promise(V=>V(R))}function E(N){if(p){const k=f0(N),R=p.property("__zoom");(R.k!==N.zoom||R.x!==N.x||R.y!==N.y)&&(d==null||d.transform(p,k,null,{sync:!0}))}}function A(){const N=p?NM(p.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function b(N,k){return p?new Promise(R=>{d==null||d.scaleTo(d0(p,k==null?void 0:k.duration,()=>R(!0)),N)}):Promise.resolve(!1)}function T(N,k){return p?new Promise(R=>{d==null||d.scaleBy(d0(p,k==null?void 0:k.duration,()=>R(!0)),N)}):Promise.resolve(!1)}function P(N){d==null||d.scaleExtent(N)}function O(N){d==null||d.translateExtent(N)}function C(N){const k=!Sr(N)||N<0?0:N;d==null||d.clickDistance(k)}return{update:v,destroy:w,setViewport:S,setViewportConstrained:_,getViewport:A,scaleTo:b,scaleBy:T,setScaleExtent:P,setTranslateExtent:O,syncViewport:E,setClickDistance:C}}var kc;(function(t){t.Line="line",t.Handle="handle"})(kc||(kc={}));function EW({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const a=t-e,s=n-r,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(l[0]=l[0]*-1),s&&o&&(l[1]=l[1]*-1),l}function SW(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function eo(t,e){return Math.max(0,e-t)}function to(t,e){return Math.max(0,t-e)}function Bh(t,e,n){return Math.max(0,e-t,t-n)}function QA(t,e){return t?!e:e}function TW(t,e,n,r,i,o,a,s){let{affectsX:l,affectsY:u}=e;const{isHorizontal:c,isVertical:f}=e,d=c&&f,{xSnapped:p,ySnapped:m}=n,{minWidth:g,maxWidth:y,minHeight:v,maxHeight:w}=r,{x:_,y:S,width:E,height:A,aspectRatio:b}=t;let T=Math.floor(c?p-t.pointerX:0),P=Math.floor(f?m-t.pointerY:0);const O=E+(l?-T:T),C=A+(u?-P:P),N=-o[0]*E,k=-o[1]*A;let R=Bh(O,g,y),V=Bh(C,v,w);if(a){let L=0,B=0;l&&T<0?L=eo(_+T+N,a[0][0]):!l&&T>0&&(L=to(_+O+N,a[1][0])),u&&P<0?B=eo(S+P+k,a[0][1]):!u&&P>0&&(B=to(S+C+k,a[1][1])),R=Math.max(R,L),V=Math.max(V,B)}if(s){let L=0,B=0;l&&T>0?L=to(_+T,s[0][0]):!l&&T<0&&(L=eo(_+O,s[1][0])),u&&P>0?B=to(S+P,s[0][1]):!u&&P<0&&(B=eo(S+C,s[1][1])),R=Math.max(R,L),V=Math.max(V,B)}if(i){if(c){const L=Bh(O/b,v,w)*b;if(R=Math.max(R,L),a){let B=0;!l&&!u||l&&!u&&d?B=to(S+k+O/b,a[1][1])*b:B=eo(S+k+(l?T:-T)/b,a[0][1])*b,R=Math.max(R,B)}if(s){let B=0;!l&&!u||l&&!u&&d?B=eo(S+O/b,s[1][1])*b:B=to(S+(l?T:-T)/b,s[0][1])*b,R=Math.max(R,B)}}if(f){const L=Bh(C*b,g,y)/b;if(V=Math.max(V,L),a){let B=0;!l&&!u||u&&!l&&d?B=to(_+C*b+N,a[1][0])/b:B=eo(_+(u?P:-P)*b+N,a[0][0])/b,V=Math.max(V,B)}if(s){let B=0;!l&&!u||u&&!l&&d?B=eo(_+C*b,s[1][0])/b:B=to(_+(u?P:-P)*b,s[0][0])/b,V=Math.max(V,B)}}}P=P+(P<0?V:-V),T=T+(T<0?R:-R),i&&(d?O>C*b?P=(QA(l,u)?-T:T)/b:T=(QA(l,u)?-P:P)*b:c?(P=T/b,u=l):(T=P*b,l=u));const j=l?_+T:_,F=u?S+P:S;return{width:E+(l?-T:T),height:A+(u?-P:P),x:o[0]*T*(l?-1:1)+j,y:o[1]*P*(u?-1:1)+F}}const sD={width:0,height:0,x:0,y:0},AW={...sD,pointerX:0,pointerY:0,aspectRatio:1};function PW(t){return[[0,0],[t.measured.width,t.measured.height]]}function IW(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,a=t.measured.height??0,s=n[0]*o,l=n[1]*a;return[[r-s,i-l],[r+o-s,i+a-l]]}function OW({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Dn(t);function a({controlPosition:l,boundaries:u,keepAspectRatio:c,onResizeStart:f,onResize:d,onResizeEnd:p,shouldResize:m}){let g={...sD},y={...AW};const v=SW(l);let w,_=null,S=[],E,A,b;const T=vM().on("start",P=>{const{nodeLookup:O,transform:C,snapGrid:N,snapToGrid:k,nodeOrigin:R,paneDomNode:V}=n();if(w=O.get(e),!w)return;_=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:j,ySnapped:F}=Cc(P.sourceEvent,{transform:C,snapGrid:N,snapToGrid:k,containerBounds:_});g={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},y={...g,pointerX:j,pointerY:F,aspectRatio:g.width/g.height},E=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(E=O.get(w.parentId),A=E&&w.extent==="parent"?PW(E):void 0),S=[],b=void 0;for(const[L,B]of O)if(B.parentId===e&&(S.push({id:L,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const U=IW(B,w,B.origin??R);b?b=[[Math.min(U[0][0],b[0][0]),Math.min(U[0][1],b[0][1])],[Math.max(U[1][0],b[1][0]),Math.max(U[1][1],b[1][1])]]:b=U}f==null||f(P,{...g})}).on("drag",P=>{const{transform:O,snapGrid:C,snapToGrid:N,nodeOrigin:k}=n(),R=Cc(P.sourceEvent,{transform:O,snapGrid:C,snapToGrid:N,containerBounds:_}),V=[];if(!w)return;const{x:j,y:F,width:L,height:B}=g,U={},G=w.origin??k,{width:W,height:K,x:Y,y:ee}=TW(y,v,R,u,c,G,A,b),ne=W!==L,re=K!==B,se=Y!==j&&ne,J=ee!==F&&re;if(!se&&!J&&!ne&&!re)return;if((se||J||G[0]===1||G[1]===1)&&(U.x=se?Y:g.x,U.y=J?ee:g.y,g.x=U.x,g.y=U.y,S.length>0)){const he=Y-j,ce=ee-F;for(const Ee of S)Ee.position={x:Ee.position.x-he+G[0]*(W-L),y:Ee.position.y-ce+G[1]*(K-B)},V.push(Ee)}if((ne||re)&&(U.width=ne?W:g.width,U.height=re?K:g.height,g.width=U.width,g.height=U.height),E&&w.expandParent){const he=G[0]*(U.width??0);U.x&&U.x<he&&(g.x=he,y.x=y.x-(U.x-he));const ce=G[1]*(U.height??0);U.y&&U.y<ce&&(g.y=ce,y.y=y.y-(U.y-ce))}const le=EW({width:g.width,prevWidth:L,height:g.height,prevHeight:B,affectsX:v.affectsX,affectsY:v.affectsY}),oe={...g,direction:le};(m==null?void 0:m(P,oe))!==!1&&(d==null||d(P,oe),r(U,V))}).on("end",P=>{p==null||p(P,{...g}),i==null||i()});o.call(T)}function s(){o.on(".drag",null)}return{update:a,destroy:s}}var lD={exports:{}},uD={},cD={exports:{}},fD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=D;function CW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kW=typeof Object.is=="function"?Object.is:CW,NW=wl.useState,RW=wl.useEffect,MW=wl.useLayoutEffect,DW=wl.useDebugValue;function $W(t,e){var n=e(),r=NW({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return MW(function(){i.value=n,i.getSnapshot=e,h0(i)&&o({inst:i})},[t,n,e]),RW(function(){return h0(i)&&o({inst:i}),t(function(){h0(i)&&o({inst:i})})},[t]),DW(n),n}function h0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kW(t,n)}catch{return!0}}function jW(t,e){return e()}var LW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jW:$W;fD.useSyncExternalStore=wl.useSyncExternalStore!==void 0?wl.useSyncExternalStore:LW;cD.exports=fD;var VW=cD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=D,FW=VW;function BW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UW=typeof Object.is=="function"?Object.is:BW,zW=FW.useSyncExternalStore,WW=oy.useRef,HW=oy.useEffect,qW=oy.useMemo,GW=oy.useDebugValue;uD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=WW(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=qW(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return f=m}return f=p}if(m=f,UW(c,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(c=p,m):(c=p,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var s=zW(t,o[0],o[1]);return HW(function(){a.hasValue=!0,a.value=s},[s]),GW(s),s};lD.exports=uD;var KW=lD.exports;const XW=ze(KW),YW={},JA=t=>{let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const p=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(YW?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},QW=t=>t?JA(t):JA,{useDebugValue:JW}=z,{useSyncExternalStoreWithSelector:ZW}=XW,eH=t=>t;function dD(t,e=eH,n){const r=ZW(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return JW(r),r}const ZA=(t,e)=>{const n=QW(t),r=(i,o=e)=>dD(n,i,o);return Object.assign(r,n),r},tH=(t,e)=>t?ZA(t,e):ZA;function ht(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const ay=D.createContext(null),nH=ay.Provider,hD=zi.error001();function Re(t,e){const n=D.useContext(ay);if(n===null)throw new Error(hD);return dD(n,t,e)}function it(){const t=D.useContext(ay);if(t===null)throw new Error(hD);return D.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const eP={display:"none"},rH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pD="react-flow__node-desc",mD="react-flow__edge-desc",iH="react-flow__aria-live",oH=t=>t.ariaLiveMessage;function aH({rfId:t}){const e=Re(oH);return M.jsx("div",{id:`${iH}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:rH,children:e})}function sH({rfId:t,disableKeyboardA11y:e}){return M.jsxs(M.Fragment,{children:[M.jsxs("div",{id:`${pD}-${t}`,style:eP,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),M.jsx("div",{id:`${mD}-${t}`,style:eP,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&M.jsx(aH,{rfId:t})]})}const lH=t=>t.userSelectionActive?"none":"all",bl=D.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const a=Re(lH),s=`${t}`.split("-");return M.jsx("div",{className:Pt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:a},ref:o,...i,children:e})});bl.displayName="Panel";function uH({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:M.jsx(bl,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:M.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const cH=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Uh=t=>t.id;function fH(t,e){return ht(t.selectedNodes.map(Uh),e.selectedNodes.map(Uh))&&ht(t.selectedEdges.map(Uh),e.selectedEdges.map(Uh))}function dH({onSelectionChange:t}){const e=it(),{selectedNodes:n,selectedEdges:r}=Re(cH,fH);return D.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const hH=t=>!!t.onSelectionChangeHandlers;function pH({onSelectionChange:t}){const e=Re(hH);return t||e?M.jsx(dH,{onSelectionChange:t}):null}const gD=[0,0],mH={x:0,y:0,zoom:1},gH=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],tP=[...gH,"rfId"],yH=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),nP={translateExtent:hf,nodeOrigin:gD,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function vH(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=Re(yH,ht),c=it();D.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{f.current=nP,s()}),[]);const f=D.useRef(nP);return D.useEffect(()=>{for(const d of tP){const p=t[d],m=f.current[d];p!==m&&(typeof t[d]>"u"||(d==="nodes"?e(p):d==="edges"?n(p):d==="minZoom"?r(p):d==="maxZoom"?i(p):d==="translateExtent"?o(p):d==="nodeExtent"?a(p):d==="paneClickDistance"?u(p):d==="fitView"?c.setState({fitViewOnInit:p}):d==="fitViewOptions"?c.setState({fitViewOnInitOptions:p}):c.setState({[d]:p})))}f.current=t},tP.map(d=>t[d])),null}function rP(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function _H(t){var r;const[e,n]=D.useState(t==="system"?null:t);return D.useEffect(()=>{if(t!=="system"){n(t);return}const i=rP(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[t]),e!==null?e:(r=rP())!=null&&r.matches?"dark":"light"}const iP=typeof document<"u"?document:null;function yf(t=null,e={target:iP,actInsideInputWithModifier:!0}){const[n,r]=D.useState(!1),i=D.useRef(!1),o=D.useRef(new Set([])),[a,s]=D.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[t]);return D.useEffect(()=>{const l=(e==null?void 0:e.target)||iP;if(t!==null){const u=d=>{if(i.current=d.ctrlKey||d.metaKey||d.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&uw(d))return!1;const m=aP(d.code,s);o.current.add(d[m]),oP(a,o.current,!1)&&(d.preventDefault(),r(!0))},c=d=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&uw(d))return!1;const m=aP(d.code,s);oP(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(d[m]),d.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",u),l==null||l.addEventListener("keyup",c),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l==null||l.removeEventListener("keydown",u),l==null||l.removeEventListener("keyup",c),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function oP(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function aP(t,e){return e.includes(t)?"code":"key"}const wH=()=>{const t=it();return D.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:a}=t.getState();return a?(await a.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:o,domNode:a}=t.getState();if(!o||!a)return Promise.resolve(!1);const s=aw(n,e),{width:l,height:u}=ry(a);return sw({nodes:s,width:l,height:u,minZoom:r,maxZoom:i,panZoom:o},e)},setCenter:async(e,n,r)=>{const{width:i,height:o,maxZoom:a,panZoom:s}=t.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:a,u=i/2-e*l,c=o/2-n*l;return s?(await s.setViewport({x:u,y:c,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=t.getState(),l=gE(e,r,i,o,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=t.getState();if(!a)return e;const{x:s,y:l}=a.getBoundingClientRect(),u={x:e.x-s,y:e.y-l},c=n.snapGrid??i,f=n.snapToGrid??o;return yd(u,r,f,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),a=zM(e,n);return{x:a.x+i,y:a.y+o}}}),[])};function yD(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const a=r.get(o.id);a?a.push(o):r.set(o.id,[o])}for(const o of e){const a=r.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...o};for(const l of a)bH(l,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function bH(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function vD(t,e){return yD(t,e)}function _D(t,e){return yD(t,e)}function oa(t,e){return{id:t,type:"select",selected:e}}function Bs(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const a=e.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(oa(o.id,a)))}return r}function sP({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(o=>[o.id,o]));for(const[o,a]of t.entries()){const s=e.get(a.id),l=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;l!==void 0&&l!==a&&n.push({id:a.id,item:a,type:"replace"}),l===void 0&&n.push({item:a,type:"add",index:o})}for(const[o]of e)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function lP(t){return{id:t.id,type:"remove"}}const uP=t=>V8(t),xH=t=>jM(t);function wD(t){return D.forwardRef(t)}const EH=typeof window<"u"?D.useLayoutEffect:D.useEffect;function cP(t){const[e,n]=D.useState(BigInt(0)),[r]=D.useState(()=>SH(()=>n(i=>i+BigInt(1))));return EH(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function SH(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const bD=D.createContext(null);function TH({children:t}){const e=it(),n=D.useCallback(s=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d}=e.getState();let p=l;for(const m of s)p=typeof m=="function"?m(p):m;c?u(p):f&&f(sP({items:p,lookup:d}))},[]),r=cP(n),i=D.useCallback(s=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=e.getState();let p=l;for(const m of s)p=typeof m=="function"?m(p):m;c?u(p):f&&f(sP({items:p,lookup:d}))},[]),o=cP(i),a=D.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return M.jsx(bD.Provider,{value:a,children:t})}function AH(){const t=D.useContext(bD);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const PH=t=>!!t.panZoom;function bE(){const t=wH(),e=it(),n=AH(),r=Re(PH),i=D.useMemo(()=>{const o=f=>e.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},l=f=>{var v,w;const{nodeLookup:d,nodeOrigin:p}=e.getState(),m=uP(f)?f:d.get(f.id),g=m.parentId?HM(m.position,m.measured,m.parentId,d,p):m.position,y={...m,position:g,width:((v=m.measured)==null?void 0:v.width)??m.width,height:((w=m.measured)==null?void 0:w.height)??m.height};return vl(y)},u=(f,d,p={replace:!1})=>{a(m=>m.map(g=>{if(g.id===f){const y=typeof d=="function"?d(g):d;return p.replace&&uP(y)?y:{...g,...y}}return g}))},c=(f,d,p={replace:!1})=>{s(m=>m.map(g=>{if(g.id===f){const y=typeof d=="function"?d(g):d;return p.replace&&xH(y)?y:{...g,...y}}return g}))};return{getNodes:()=>e.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=o(f))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=e.getState();return f.map(d=>({...d}))},getEdge:f=>e.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(p=>[...p,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(p=>[...p,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:p}=e.getState(),[m,g,y]=p;return{nodes:f.map(v=>({...v})),edges:d.map(v=>({...v})),viewport:{x:m,y:g,zoom:y}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:p,edges:m,onNodesDelete:g,onEdgesDelete:y,triggerNodeChanges:v,triggerEdgeChanges:w,onDelete:_,onBeforeDelete:S}=e.getState(),{nodes:E,edges:A}=await U8({nodesToRemove:f,edgesToRemove:d,nodes:p,edges:m,onBeforeDelete:S}),b=A.length>0,T=E.length>0;if(b){const P=A.map(lP);y==null||y(A),w(P)}if(T){const P=E.map(lP);g==null||g(E),v(P)}return(T||b)&&(_==null||_({nodes:E,edges:A})),{deletedNodes:E,deletedEdges:A}},getIntersectingNodes:(f,d=!0,p)=>{const m=FA(f),g=m?f:l(f),y=p!==void 0;return g?(p||e.getState().nodes).filter(v=>{const w=e.getState().nodeLookup.get(v.id);if(w&&!m&&(v.id===f.id||!w.internals.positionAbsolute))return!1;const _=vl(y?v:w),S=mf(_,g);return d&&S>0||S>=g.width*g.height}):[]},isNodeIntersecting:(f,d,p=!0)=>{const g=FA(f)?f:l(f);if(!g)return!1;const y=mf(g,d);return p&&y>0||y>=g.width*g.height},updateNode:u,updateNodeData:(f,d,p={replace:!1})=>{u(f,m=>{const g=typeof d=="function"?d(m):d;return p.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},p)},updateEdge:c,updateEdgeData:(f,d,p={replace:!1})=>{c(f,m=>{const g=typeof d=="function"?d(m):d;return p.replace?{...m,data:g}:{...m,data:{...m.data,...g}}},p)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:p}=e.getState();return F8(f,{nodeLookup:d,nodeOrigin:p})},getHandleConnections:({type:f,id:d,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}-${f}${d?`-${d}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:m.values())??[])}}},[]);return D.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const fP=t=>t.selected,IH={actInsideInputWithModifier:!1},OH=typeof window<"u"?window:void 0;function CH({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=it(),{deleteElements:r}=bE(),i=yf(t,IH),o=yf(e,{target:OH});D.useEffect(()=>{if(i){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(fP),edges:a.filter(fP)}),n.setState({nodesSelectionActive:!1})}},[i]),D.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function kH(t){const e=it();D.useEffect(()=>{const n=()=>{var i,o;if(!t.current)return!1;const r=ry(t.current);(r.height===0||r.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",zi.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const sy={position:"absolute",width:"100%",height:"100%",top:0,left:0},NH=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function RH({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Ea.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:p=!0,children:m,noWheelClassName:g,noPanClassName:y,onViewportChange:v,isControlledViewport:w,paneClickDistance:_}){const S=it(),E=D.useRef(null),{userSelectionActive:A,lib:b}=Re(NH,ht),T=yf(d),P=D.useRef();kH(E);const O=D.useCallback(C=>{v==null||v({x:C[0],y:C[1],zoom:C[2]}),w||S.setState({transform:C})},[v,w]);return D.useEffect(()=>{if(E.current){P.current=xW({domNode:E.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:l,paneClickDistance:_,onDraggingChange:R=>S.setState({paneDragging:R}),onPanZoomStart:(R,V)=>{const{onViewportChangeStart:j,onMoveStart:F}=S.getState();F==null||F(R,V),j==null||j(V)},onPanZoom:(R,V)=>{const{onViewportChange:j,onMove:F}=S.getState();F==null||F(R,V),j==null||j(V)},onPanZoomEnd:(R,V)=>{const{onViewportChangeEnd:j,onMoveEnd:F}=S.getState();F==null||F(R,V),j==null||j(V)}});const{x:C,y:N,zoom:k}=P.current.getViewport();return S.setState({panZoom:P.current,transform:[C,N,k],domNode:E.current.closest(".react-flow")}),()=>{var R;(R=P.current)==null||R.destroy()}}},[]),D.useEffect(()=>{var C;(C=P.current)==null||C.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:T,preventScrolling:p,noPanClassName:y,userSelectionActive:A,noWheelClassName:g,lib:b,onTransformChange:O})},[t,e,n,r,i,o,a,s,T,p,y,A,g,b,O]),M.jsx("div",{className:"react-flow__renderer",ref:E,style:sy,children:m})}const MH=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function DH(){const{userSelectionActive:t,userSelectionRect:e}=Re(MH,ht);return t&&e?M.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const p0=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},$H=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function jH({isSelecting:t,selectionKeyPressed:e,selectionMode:n=pf.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:d,children:p}){const m=it(),{userSelectionActive:g,elementsSelectable:y,dragging:v}=Re($H,ht),w=y&&(t||g),_=D.useRef(null),S=D.useRef(),E=D.useRef(new Set),A=D.useRef(new Set),b=D.useRef(!1),T=D.useRef(!1),P=j=>{if(b.current){b.current=!1;return}s==null||s(j),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},O=j=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){j.preventDefault();return}l==null||l(j)},C=u?j=>u(j):void 0,N=j=>{var G,W;const{resetSelectedElements:F,domNode:L}=m.getState();if(S.current=L==null?void 0:L.getBoundingClientRect(),!y||!t||j.button!==0||j.target!==_.current||!S.current)return;(W=(G=j.target)==null?void 0:G.setPointerCapture)==null||W.call(G,j.pointerId),T.current=!0,b.current=!1;const{x:B,y:U}=Ti(j.nativeEvent,S.current);F(),m.setState({userSelectionRect:{width:0,height:0,startX:B,startY:U,x:B,y:U}}),o==null||o(j)},k=j=>{const{userSelectionRect:F,transform:L,nodeLookup:B,edgeLookup:U,connectionLookup:G,triggerNodeChanges:W,triggerEdgeChanges:K,defaultEdgeOptions:Y}=m.getState();if(!S.current||!F)return;b.current=!0;const{x:ee,y:ne}=Ti(j.nativeEvent,S.current),{startX:re,startY:se}=F,J={startX:re,startY:se,x:ee<re?ee:re,y:ne<se?ne:se,width:Math.abs(ee-re),height:Math.abs(ne-se)},le=E.current,oe=A.current;E.current=new Set(LM(B,J,L,n===pf.Partial,!0).map(he=>he.id)),A.current=new Set;const H=(Y==null?void 0:Y.selectable)??!0;for(const he of E.current){const ce=G.get(he);if(ce)for(const{edgeId:Ee}of ce.values()){const Te=U.get(Ee);Te&&(Te.selectable??H)&&A.current.add(Ee)}}if(!BA(le,E.current)){const he=Bs(B,E.current,!0);W(he)}if(!BA(oe,A.current)){const he=Bs(U,A.current);K(he)}m.setState({userSelectionRect:J,userSelectionActive:!0,nodesSelectionActive:!1})},R=j=>{var L,B;if(j.button!==0||!T.current)return;(B=(L=j.target)==null?void 0:L.releasePointerCapture)==null||B.call(L,j.pointerId);const{userSelectionRect:F}=m.getState();!g&&F&&j.target===_.current&&(P==null||P(j)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),a==null||a(j),(e||i)&&(b.current=!1),T.current=!1},V=r===!0||Array.isArray(r)&&r.includes(0);return M.jsxs("div",{className:Pt(["react-flow__pane",{draggable:V,dragging:v,selection:t}]),onClick:w?void 0:p0(P,_),onContextMenu:p0(O,_),onWheel:p0(C,_),onPointerEnter:w?void 0:c,onPointerDown:w?N:f,onPointerMove:w?k:f,onPointerUp:w?R:void 0,onPointerLeave:d,ref:_,style:sy,children:[p,M.jsx(DH,{})]})}function pw({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:l}=e.getState(),u=s.get(t);if(!u){l==null||l("012",zi.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([t])}function xD({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=it(),[l,u]=D.useState(!1),c=D.useRef();return D.useEffect(()=>{c.current=lW({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{pw({id:f,store:s,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),D.useEffect(()=>{var f,d;if(e)(f=c.current)==null||f.destroy();else if(t.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,e,o,t,i]),l}const LH=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function ED(){const t=it();return D.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=t.getState(),f=new Map,d=LH(a),p=i?o[0]:5,m=i?o[1]:5,g=n.direction.x*p*n.factor,y=n.direction.y*m*n.factor;for(const[,v]of u){if(!d(v))continue;let w={x:v.internals.positionAbsolute.x+g,y:v.internals.positionAbsolute.y+y};i&&(w=ny(w,o));const{position:_,positionAbsolute:S}=VM({nodeId:v.id,nextPosition:w,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:s});v.position=_,v.internals.positionAbsolute=S,f.set(v.id,v)}l(f)},[])}const xE=D.createContext(null),VH=xE.Provider;xE.Consumer;const SD=()=>D.useContext(xE),FH=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),BH=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=r,{fromHandle:s,toHandle:l,isValid:u}=a,c=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.id)===e&&(s==null?void 0:s.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===gl.Strict?(s==null?void 0:s.type)!==n:t!==(s==null?void 0:s.nodeId)||e!==(s==null?void 0:s.id),connectionInProcess:!!s,valid:c&&u}};function UH({type:t="source",position:e=ge.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},p){var R,V;const m=a||null,g=t==="target",y=it(),v=SD(),{connectOnClick:w,noPanClassName:_,rfId:S}=Re(FH,ht),{connectingFrom:E,connectingTo:A,clickConnecting:b,isPossibleEndHandle:T,connectionInProcess:P,valid:O}=Re(BH(v,m,t),ht);v||(V=(R=y.getState()).onError)==null||V.call(R,"010",zi.error010());const C=j=>{const{defaultEdgeOptions:F,onConnect:L,hasDefaultEdges:B}=y.getState(),U={...F,...j};if(B){const{edges:G,setEdges:W}=y.getState();W(X8(U,G))}L==null||L(U),s==null||s(U)},N=j=>{if(!v)return;const F=GM(j.nativeEvent);if(i&&(F&&j.button===0||!F)){const L=y.getState();hw.onPointerDown(j.nativeEvent,{autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:g,handleId:m,nodeId:v,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:C,isValidConnection:n||L.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed})}F?c==null||c(j):f==null||f(j)},k=j=>{const{onClickConnectStart:F,onClickConnectEnd:L,connectionClickStartHandle:B,connectionMode:U,isValidConnection:G,lib:W,rfId:K,nodeLookup:Y,connection:ee}=y.getState();if(!v||!B&&!i)return;if(!B){F==null||F(j.nativeEvent,{nodeId:v,handleId:m,handleType:t}),y.setState({connectionClickStartHandle:{nodeId:v,type:t,id:m}});return}const ne=qM(j.target),re=n||G,{connection:se,isValid:J}=hw.isValid(j.nativeEvent,{handle:{nodeId:v,id:m,type:t},connectionMode:U,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:re,flowId:K,doc:ne,lib:W,nodeLookup:Y});J&&se&&C(se);const le=structuredClone(ee);delete le.inProgress,le.toPosition=le.toHandle?le.toHandle.position:null,L==null||L(j,le),y.setState({connectionClickStartHandle:null})};return M.jsx("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":e,"data-id":`${S}-${v}-${m}-${t}`,className:Pt(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,clickconnecting:b,connectingfrom:E,connectingto:A,valid:O,connectionindicator:r&&(!P||T)&&(P?o:i)}]),onMouseDown:N,onTouchStart:N,onClick:w?k:void 0,ref:p,...d,children:l})}const hm=D.memo(wD(UH));function zH({data:t,isConnectable:e,sourcePosition:n=ge.Bottom}){return M.jsxs(M.Fragment,{children:[t==null?void 0:t.label,M.jsx(hm,{type:"source",position:n,isConnectable:e})]})}function WH({data:t,isConnectable:e,targetPosition:n=ge.Top,sourcePosition:r=ge.Bottom}){return M.jsxs(M.Fragment,{children:[M.jsx(hm,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,M.jsx(hm,{type:"source",position:r,isConnectable:e})]})}function HH(){return null}function qH({data:t,isConnectable:e,targetPosition:n=ge.Top}){return M.jsxs(M.Fragment,{children:[M.jsx(hm,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const pm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},dP={input:zH,default:WH,output:qH,group:HH};function GH(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const KH=t=>{const{width:e,height:n,x:r,y:i}=gd(t.nodeLookup,{filter:o=>!!o.selected});return{width:Sr(e)?e:null,height:Sr(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function XH({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=it(),{width:i,height:o,transformString:a,userSelectionActive:s}=Re(KH,ht),l=ED(),u=D.useRef(null);if(D.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),xD({nodeRef:u}),s||!i||!o)return null;const c=t?d=>{const p=r.getState().nodes.filter(m=>m.selected);t(d,p)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(pm,d.key)&&(d.preventDefault(),l({direction:pm[d.key],factor:d.shiftKey?4:1}))};return M.jsx("div",{className:Pt(["react-flow__nodesselection","react-flow__container",e]),style:{transform:a},children:M.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const hP=typeof window<"u"?window:void 0,YH=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function TD({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:g,zoomActivationKeyCode:y,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:_,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:A,zoomOnDoubleClick:b,panOnDrag:T,defaultViewport:P,translateExtent:O,minZoom:C,maxZoom:N,preventScrolling:k,onSelectionContextMenu:R,noWheelClassName:V,noPanClassName:j,disableKeyboardA11y:F,onViewportChange:L,isControlledViewport:B}){const{nodesSelectionActive:U,userSelectionActive:G}=Re(YH),W=yf(u,{target:hP}),K=yf(g,{target:hP}),Y=K||T,ee=K||S,ne=c&&Y!==!0,re=W||G||ne;return CH({deleteKeyCode:l,multiSelectionKeyCode:m}),M.jsx(RH,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:_,panOnScroll:ee,panOnScrollSpeed:E,panOnScrollMode:A,zoomOnDoubleClick:b,panOnDrag:!W&&Y,defaultViewport:P,translateExtent:O,minZoom:C,maxZoom:N,zoomActivationKeyCode:y,preventScrolling:k,noWheelClassName:V,noPanClassName:j,onViewportChange:L,isControlledViewport:B,paneClickDistance:s,children:M.jsxs(jH,{onSelectionStart:d,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:Y,isSelecting:!!re,selectionMode:f,selectionKeyPressed:W,selectionOnDrag:ne,children:[t,U&&M.jsx(XH,{onSelectionContextMenu:R,noPanClassName:j,disableKeyboardA11y:F})]})})}TD.displayName="FlowRenderer";const QH=D.memo(TD),JH=t=>e=>t?LM(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function ZH(t){return Re(D.useCallback(JH(t),[t]),ht)}const e7=t=>t.updateNodeInternals;function t7(){const t=Re(e7),[e]=D.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return D.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function n7({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=it(),o=D.useRef(null),a=D.useRef(null),s=D.useRef(t.sourcePosition),l=D.useRef(t.targetPosition),u=D.useRef(e),c=n&&!!t.internals.handleBounds;return D.useEffect(()=>{o.current&&!t.hidden&&(!c||a.current!==o.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(o.current),a.current=o.current)},[c,t.hidden]),D.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),D.useEffect(()=>{if(o.current){const f=u.current!==e,d=s.current!==t.sourcePosition,p=l.current!==t.targetPosition;(f||d||p)&&(u.current=e,s.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function r7({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:p,disableKeyboardA11y:m,rfId:g,nodeTypes:y,nodeClickDistance:v,onError:w}){const{node:_,internals:S,isParent:E}=Re(re=>{const se=re.nodeLookup.get(t),J=re.parentLookup.has(t);return{node:se,internals:se.internals,isParent:J}},ht);let A=_.type||"default",b=(y==null?void 0:y[A])||dP[A];b===void 0&&(w==null||w("003",zi.error003(A)),A="default",b=dP.default);const T=!!(_.draggable||s&&typeof _.draggable>"u"),P=!!(_.selectable||l&&typeof _.selectable>"u"),O=!!(_.connectable||u&&typeof _.connectable>"u"),C=!!(_.focusable||c&&typeof _.focusable>"u"),N=it(),k=WM(_),R=n7({node:_,nodeType:A,hasDimensions:k,resizeObserver:f}),V=xD({nodeRef:R,disabled:_.hidden||!T,noDragClassName:d,handleSelector:_.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:v}),j=ED();if(_.hidden)return null;const F=Wi(_),L=GH(_),B=P||T||e||n||r||i,U=n?re=>n(re,{...S.userNode}):void 0,G=r?re=>r(re,{...S.userNode}):void 0,W=i?re=>i(re,{...S.userNode}):void 0,K=o?re=>o(re,{...S.userNode}):void 0,Y=a?re=>a(re,{...S.userNode}):void 0,ee=re=>{const{selectNodesOnDrag:se,nodeDragThreshold:J}=N.getState();P&&(!se||!T||J>0)&&pw({id:t,store:N,nodeRef:R}),e&&e(re,{...S.userNode})},ne=re=>{if(!(uw(re.nativeEvent)||m))if(MM.includes(re.key)&&P){const se=re.key==="Escape";pw({id:t,store:N,unselect:se,nodeRef:R})}else T&&_.selected&&Object.prototype.hasOwnProperty.call(pm,re.key)&&(re.preventDefault(),N.setState({ariaLiveMessage:`Moved selected node ${re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~S.positionAbsolute.x}, y: ${~~S.positionAbsolute.y}`}),j({direction:pm[re.key],factor:re.shiftKey?4:1}))};return M.jsx("div",{className:Pt(["react-flow__node",`react-flow__node-${A}`,{[p]:T},_.className,{selected:_.selected,selectable:P,parent:E,draggable:T,dragging:V}]),ref:R,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:B?"all":"none",visibility:k?"visible":"hidden",..._.style,...L},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:U,onMouseMove:G,onMouseLeave:W,onContextMenu:K,onClick:ee,onDoubleClick:Y,onKeyDown:C?ne:void 0,tabIndex:C?0:void 0,role:C?"button":void 0,"aria-describedby":m?void 0:`${pD}-${g}`,"aria-label":_.ariaLabel,children:M.jsx(VH,{value:t,children:M.jsx(b,{id:t,data:_.data,type:A,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:_.selected??!1,selectable:P,draggable:T,deletable:_.deletable??!0,isConnectable:O,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:V,dragHandle:_.dragHandle,zIndex:S.z,parentId:_.parentId,...F})})})}const i7=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function AD(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=Re(i7,ht),a=ZH(t.onlyRenderVisibleElements),s=t7();return M.jsx("div",{className:"react-flow__nodes",style:sy,children:a.map(l=>M.jsx(r7,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:s,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},l))})}AD.displayName="NodeRenderer";const o7=D.memo(AD);function a7(t){return Re(D.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);o&&a&&q8({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),ht)}const s7=({color:t="none",strokeWidth:e=1})=>M.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),l7=({color:t="none",strokeWidth:e=1})=>M.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),pP={[cm.Arrow]:s7,[cm.ArrowClosed]:l7};function u7(t){const e=it();return D.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(pP,t)?pP[t]:((o=(i=e.getState()).onError)==null||o.call(i,"009",zi.error009(t)),null)},[t])}const c7=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=u7(e);return l?M.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:M.jsx(l,{color:n,strokeWidth:a})}):null},PD=({defaultColor:t,rfId:e})=>{const n=Re(o=>o.edges),r=Re(o=>o.defaultEdgeOptions),i=D.useMemo(()=>eW(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?M.jsx("svg",{className:"react-flow__marker",children:M.jsx("defs",{children:i.map(o=>M.jsx(c7,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};PD.displayName="MarkerDefinitions";var f7=D.memo(PD);function ID({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...c}){const[f,d]=D.useState({x:1,y:0,width:0,height:0}),p=Pt(["react-flow__edge-textwrapper",u]),m=D.useRef(null);return D.useEffect(()=>{if(m.current){const g=m.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:M.jsxs("g",{transform:`translate(${t-f.width/2} ${e-f.height/2})`,className:p,visibility:f.width?"visible":"hidden",...c,children:[i&&M.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),M.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]})}ID.displayName="EdgeText";const d7=D.memo(ID);function ly({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return M.jsxs(M.Fragment,{children:[M.jsx("path",{...c,d:t,fill:"none",className:Pt(["react-flow__edge-path",c.className])}),u&&M.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&Sr(e)&&Sr(n)?M.jsx(d7,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function mP({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===ge.Left||t===ge.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function OD({sourceX:t,sourceY:e,sourcePosition:n=ge.Bottom,targetX:r,targetY:i,targetPosition:o=ge.Top}){const[a,s]=mP({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=mP({pos:o,x1:r,y1:i,x2:t,y2:e}),[c,f,d,p]=KM({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${t},${e} C${a},${s} ${l},${u} ${r},${i}`,c,f,d,p]}function CD(t){return D.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=ge.Bottom,targetPosition:s=ge.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:v})=>{const[w,_,S]=OD({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),E=t.isInternal?void 0:e;return M.jsx(ly,{id:E,path:w,labelX:_,labelY:S,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:v})})}const h7=CD({isInternal:!1}),kD=CD({isInternal:!0});h7.displayName="SimpleBezierEdge";kD.displayName="SimpleBezierEdgeInternal";function ND(t){return D.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:p=ge.Bottom,targetPosition:m=ge.Top,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[_,S,E]=cw({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset}),A=t.isInternal?void 0:e;return M.jsx(ly,{id:A,path:_,labelX:S,labelY:E,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:y,interactionWidth:w})})}const RD=ND({isInternal:!1}),MD=ND({isInternal:!0});RD.displayName="SmoothStepEdge";MD.displayName="SmoothStepEdgeInternal";function DD(t){return D.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return M.jsx(RD,{...n,id:r,pathOptions:D.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const p7=DD({isInternal:!1}),$D=DD({isInternal:!0});p7.displayName="StepEdge";$D.displayName="StepEdgeInternal";function jD(t){return D.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,interactionWidth:g})=>{const[y,v,w]=QM({sourceX:n,sourceY:r,targetX:i,targetY:o}),_=t.isInternal?void 0:e;return M.jsx(ly,{id:_,path:y,labelX:v,labelY:w,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,interactionWidth:g})})}const m7=jD({isInternal:!1}),LD=jD({isInternal:!0});m7.displayName="StraightEdge";LD.displayName="StraightEdgeInternal";function VD(t){return D.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=ge.Bottom,targetPosition:s=ge.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:w})=>{const[_,S,E]=XM({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:v==null?void 0:v.curvature}),A=t.isInternal?void 0:e;return M.jsx(ly,{id:A,path:_,labelX:S,labelY:E,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:g,markerStart:y,interactionWidth:w})})}const g7=VD({isInternal:!1}),FD=VD({isInternal:!0});g7.displayName="BezierEdge";FD.displayName="BezierEdgeInternal";const gP={default:FD,straight:LD,step:$D,smoothstep:MD,simplebezier:kD},yP={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},y7=(t,e,n)=>n===ge.Left?t-e:n===ge.Right?t+e:t,v7=(t,e,n)=>n===ge.Top?t-e:n===ge.Bottom?t+e:t,vP="react-flow__edgeupdater";function _P({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return M.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Pt([vP,`${vP}-${s}`]),cx:y7(e,r,t),cy:v7(n,r,t),r,stroke:"transparent",fill:"transparent"})}function _7({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:p}){const m=it(),g=(S,E)=>{if(S.button!==0)return;const{autoPanOnConnect:A,domNode:b,isValidConnection:T,connectionMode:P,connectionRadius:O,lib:C,onConnectStart:N,onConnectEnd:k,cancelConnection:R,nodeLookup:V,rfId:j,panBy:F,updateConnection:L}=m.getState(),B=E.type==="target";d(!0),c==null||c(S,n,E.type);const U=(W,K)=>{d(!1),f==null||f(W,n,E.type,K)},G=W=>u==null?void 0:u(n,W);hw.onPointerDown(S.nativeEvent,{autoPanOnConnect:A,connectionMode:P,connectionRadius:O,domNode:b,handleId:E.id,nodeId:E.nodeId,nodeLookup:V,isTarget:B,edgeUpdaterType:E.type,lib:C,flowId:j,cancelConnection:R,panBy:F,isValidConnection:T,onConnect:G,onConnectStart:N,onConnectEnd:k,onReconnectEnd:U,updateConnection:L,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},y=S=>g(S,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),v=S=>g(S,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),w=()=>p(!0),_=()=>p(!1);return M.jsxs(M.Fragment,{children:[(t===!0||t==="source")&&M.jsx(_P,{position:s,centerX:r,centerY:i,radius:e,onMouseDown:y,onMouseEnter:w,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&M.jsx(_P,{position:l,centerX:o,centerY:a,radius:e,onMouseDown:v,onMouseEnter:w,onMouseOut:_,type:"target"})]})}function w7({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:p,rfId:m,edgeTypes:g,noPanClassName:y,onError:v,disableKeyboardA11y:w}){let _=Re(H=>H.edgeLookup.get(t));const S=Re(H=>H.defaultEdgeOptions);_=S?{...S,..._}:_;let E=_.type||"default",A=(g==null?void 0:g[E])||gP[E];A===void 0&&(v==null||v("011",zi.error011(E)),E="default",A=gP.default);const b=!!(_.focusable||e&&typeof _.focusable>"u"),T=typeof f<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),P=!!(_.selectable||r&&typeof _.selectable>"u"),O=D.useRef(null),[C,N]=D.useState(!1),[k,R]=D.useState(!1),V=it(),{zIndex:j,sourceX:F,sourceY:L,targetX:B,targetY:U,sourcePosition:G,targetPosition:W}=Re(D.useCallback(H=>{const he=H.nodeLookup.get(_.source),ce=H.nodeLookup.get(_.target);if(!he||!ce)return{zIndex:_.zIndex,...yP};const Ee=Z8({id:t,sourceNode:he,targetNode:ce,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:H.connectionMode,onError:v});return{zIndex:H8({selected:_.selected,zIndex:_.zIndex,sourceNode:he,targetNode:ce,elevateOnSelect:H.elevateEdgesOnSelect}),...Ee||yP}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),ht),K=D.useMemo(()=>_.markerStart?`url('#${fw(_.markerStart,m)}')`:void 0,[_.markerStart,m]),Y=D.useMemo(()=>_.markerEnd?`url('#${fw(_.markerEnd,m)}')`:void 0,[_.markerEnd,m]);if(_.hidden||F===null||L===null||B===null||U===null)return null;const ee=H=>{var Te;const{addSelectedEdges:he,unselectNodesAndEdges:ce,multiSelectionActive:Ee}=V.getState();P&&(V.setState({nodesSelectionActive:!1}),_.selected&&Ee?(ce({nodes:[],edges:[_]}),(Te=O.current)==null||Te.blur()):he([t])),i&&i(H,_)},ne=o?H=>{o(H,{..._})}:void 0,re=a?H=>{a(H,{..._})}:void 0,se=s?H=>{s(H,{..._})}:void 0,J=l?H=>{l(H,{..._})}:void 0,le=u?H=>{u(H,{..._})}:void 0,oe=H=>{var he;if(!w&&MM.includes(H.key)&&P){const{unselectNodesAndEdges:ce,addSelectedEdges:Ee}=V.getState();H.key==="Escape"?((he=O.current)==null||he.blur(),ce({edges:[_]})):Ee([t])}};return M.jsx("svg",{style:{zIndex:j},children:M.jsxs("g",{className:Pt(["react-flow__edge",`react-flow__edge-${E}`,_.className,y,{selected:_.selected,animated:_.animated,inactive:!P&&!i,updating:C,selectable:P}]),onClick:ee,onDoubleClick:ne,onContextMenu:re,onMouseEnter:se,onMouseMove:J,onMouseLeave:le,onKeyDown:b?oe:void 0,tabIndex:b?0:void 0,role:b?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":b?`${mD}-${m}`:void 0,ref:O,children:[!k&&M.jsx(A,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:P,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:F,sourceY:L,targetX:B,targetY:U,sourcePosition:G,targetPosition:W,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:K,markerEnd:Y,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),T&&M.jsx(_7,{edge:_,isReconnectable:T,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:p,sourceX:F,sourceY:L,targetX:B,targetY:U,sourcePosition:G,targetPosition:W,setUpdateHover:N,setReconnecting:R})]})})}const b7=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function BD({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:g}){const{edgesFocusable:y,edgesReconnectable:v,elementsSelectable:w,onError:_}=Re(b7,ht),S=a7(e);return M.jsxs("div",{className:"react-flow__edges",children:[M.jsx(f7,{defaultColor:t,rfId:n}),S.map(E=>M.jsx(w7,{id:E,edgesFocusable:y,edgesReconnectable:v,elementsSelectable:w,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:g},E))]})}BD.displayName="EdgeRenderer";const x7=D.memo(BD),E7=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function S7({children:t}){const e=Re(E7);return M.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function T7(t){const e=bE(),n=D.useRef(!1);D.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const A7=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function P7(t){const e=Re(A7),n=it();return D.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function I7(t){return t.connection.inProgress?{...t.connection,to:yd(t.connection.to,t.transform)}:{...t.connection}}function O7(t){return I7}function C7(t){const e=O7();return Re(e,ht)}const k7=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function N7({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:l}=Re(k7,ht);return!(o&&i&&l)?null:M.jsx("svg",{style:t,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:M.jsx("g",{className:Pt(["react-flow__connection",$M(s)]),children:M.jsx(UD,{style:e,type:n,CustomComponent:r,isValid:s})})})}const UD=({style:t,type:e=lo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:l,to:u,toNode:c,toHandle:f,toPosition:d}=C7();if(!i)return;if(n)return M.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:d,connectionStatus:$M(r),toNode:c,toHandle:f});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:d};switch(e){case lo.Bezier:[p]=XM(m);break;case lo.SimpleBezier:[p]=OD(m);break;case lo.Step:[p]=cw({...m,borderRadius:0});break;case lo.SmoothStep:[p]=cw(m);break;default:[p]=QM(m)}return M.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:t})};UD.displayName="ConnectionLine";const R7={};function wP(t=R7){D.useRef(t),it(),D.useEffect(()=>{},[t])}function M7(){it(),D.useRef(!1),D.useEffect(()=>{},[])}function zD({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:v,selectionKeyCode:w,selectionOnDrag:_,selectionMode:S,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:b,deleteKeyCode:T,onlyRenderVisibleElements:P,elementsSelectable:O,defaultViewport:C,translateExtent:N,minZoom:k,maxZoom:R,preventScrolling:V,defaultMarkerColor:j,zoomOnScroll:F,zoomOnPinch:L,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:G,zoomOnDoubleClick:W,panOnDrag:K,onPaneClick:Y,onPaneMouseEnter:ee,onPaneMouseMove:ne,onPaneMouseLeave:re,onPaneScroll:se,onPaneContextMenu:J,paneClickDistance:le,nodeClickDistance:oe,onEdgeContextMenu:H,onEdgeMouseEnter:he,onEdgeMouseMove:ce,onEdgeMouseLeave:Ee,reconnectRadius:Te,onReconnect:qe,onReconnectStart:Mt,onReconnectEnd:Dt,noDragClassName:It,noWheelClassName:dn,noPanClassName:hn,disableKeyboardA11y:On,nodeExtent:Lr,rfId:cr,viewport:ut,onViewportChange:yt}){return wP(t),wP(e),M7(),T7(n),P7(ut),M.jsx(QH,{onPaneClick:Y,onPaneMouseEnter:ee,onPaneMouseMove:ne,onPaneMouseLeave:re,onPaneContextMenu:J,onPaneScroll:se,paneClickDistance:le,deleteKeyCode:T,selectionKeyCode:w,selectionOnDrag:_,selectionMode:S,onSelectionStart:d,onSelectionEnd:p,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:b,elementsSelectable:O,zoomOnScroll:F,zoomOnPinch:L,zoomOnDoubleClick:W,panOnScroll:B,panOnScrollSpeed:U,panOnScrollMode:G,panOnDrag:K,defaultViewport:C,translateExtent:N,minZoom:k,maxZoom:R,onSelectionContextMenu:f,preventScrolling:V,noDragClassName:It,noWheelClassName:dn,noPanClassName:hn,disableKeyboardA11y:On,onViewportChange:yt,isControlledViewport:!!ut,children:M.jsxs(S7,{children:[M.jsx(x7,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:qe,onReconnectStart:Mt,onReconnectEnd:Dt,onlyRenderVisibleElements:P,onEdgeContextMenu:H,onEdgeMouseEnter:he,onEdgeMouseMove:ce,onEdgeMouseLeave:Ee,reconnectRadius:Te,defaultMarkerColor:j,noPanClassName:hn,disableKeyboardA11y:On,rfId:cr}),M.jsx(N7,{style:g,type:m,component:y,containerStyle:v}),M.jsx("div",{className:"react-flow__edgelabel-renderer"}),M.jsx(o7,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:oe,onlyRenderVisibleElements:P,noPanClassName:hn,noDragClassName:It,disableKeyboardA11y:On,nodeExtent:Lr,rfId:cr}),M.jsx("div",{className:"react-flow__viewport-portal"})]})})}zD.displayName="GraphView";const D7=D.memo(zD),bP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l}={})=>{const u=new Map,c=new Map,f=new Map,d=new Map,p=r??e??[],m=n??t??[],g=s??[0,0],y=l??hf;ZM(f,d,p),dw(m,u,c,{nodeOrigin:g,nodeExtent:y,elevateNodesOnSelect:!1});let v=[0,0,1];if(a&&i&&o){const w=gd(u,{filter:A=>!!((A.width||A.initialWidth)&&(A.height||A.initialHeight))}),{x:_,y:S,zoom:E}=gE(w,i,o,.5,2,.1);v=[_,S,E]}return{rfId:"1",width:0,height:0,transform:v,nodes:m,nodeLookup:u,parentLookup:c,edges:p,edgeLookup:d,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:hf,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:gl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...DM},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:z8,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},$7=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l})=>tH((u,c)=>({...bP({nodes:t,edges:e,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:f=>{const{nodeLookup:d,parentLookup:p,nodeOrigin:m,elevateNodesOnSelect:g}=c();dw(f,d,p,{nodeOrigin:m,nodeExtent:l,elevateNodesOnSelect:g,checkEquality:!0}),u({nodes:f})},setEdges:f=>{const{connectionLookup:d,edgeLookup:p}=c();ZM(d,p,f),u({edges:f})},setDefaultNodesAndEdges:(f,d)=>{if(f){const{setNodes:p}=c();p(f),u({hasDefaultNodes:!0})}if(d){const{setEdges:p}=c();p(d),u({hasDefaultEdges:!0})}},updateNodeInternals:(f,d={triggerFitView:!0})=>{const{triggerNodeChanges:p,nodeLookup:m,parentLookup:g,fitViewOnInit:y,fitViewDone:v,fitViewOnInitOptions:w,domNode:_,nodeOrigin:S,nodeExtent:E,debug:A,fitViewSync:b}=c(),{changes:T,updatedInternals:P}=oW(f,m,g,_,S,E);if(P){if(nW(m,g,{nodeOrigin:S,nodeExtent:E}),d.triggerFitView){let O=v;!v&&y&&(O=b({...w,nodes:w==null?void 0:w.nodes})),u({fitViewDone:O})}else u({});(T==null?void 0:T.length)>0&&(A&&console.log("React Flow: trigger node changes",T),p==null||p(T))}},updateNodePositions:(f,d=!1)=>{const p=[],m=[];for(const[g,y]of f){const v=!!(y!=null&&y.expandParent&&(y!=null&&y.parentId)&&(y!=null&&y.position)),w={id:g,type:"position",position:v?{x:Math.max(0,y.position.x),y:Math.max(0,y.position.y)}:y.position,dragging:d};v&&p.push({id:g,parentId:y.parentId,rect:{...y.internals.positionAbsolute,width:y.measured.width,height:y.measured.height}}),m.push(w)}if(p.length>0){const{nodeLookup:g,parentLookup:y,nodeOrigin:v}=c(),w=wE(p,g,y,v);m.push(...w)}c().triggerNodeChanges(m)},triggerNodeChanges:f=>{const{onNodesChange:d,setNodes:p,nodes:m,hasDefaultNodes:g,debug:y}=c();if(f!=null&&f.length){if(g){const v=vD(f,m);p(v)}y&&console.log("React Flow: trigger node changes",f),d==null||d(f)}},triggerEdgeChanges:f=>{const{onEdgesChange:d,setEdges:p,edges:m,hasDefaultEdges:g,debug:y}=c();if(f!=null&&f.length){if(g){const v=_D(f,m);p(v)}y&&console.log("React Flow: trigger edge changes",f),d==null||d(f)}},addSelectedNodes:f=>{const{multiSelectionActive:d,edgeLookup:p,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=c();if(d){const v=f.map(w=>oa(w,!0));g(v);return}g(Bs(m,new Set([...f]),!0)),y(Bs(p))},addSelectedEdges:f=>{const{multiSelectionActive:d,edgeLookup:p,nodeLookup:m,triggerNodeChanges:g,triggerEdgeChanges:y}=c();if(d){const v=f.map(w=>oa(w,!0));y(v);return}y(Bs(p,new Set([...f]))),g(Bs(m,new Set,!0))},unselectNodesAndEdges:({nodes:f,edges:d}={})=>{const{edges:p,nodes:m,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:v}=c(),w=f||m,_=d||p,S=w.map(A=>{const b=g.get(A.id);return b&&(b.selected=!1),oa(A.id,!1)}),E=_.map(A=>oa(A.id,!1));y(S),v(E)},setMinZoom:f=>{const{panZoom:d,maxZoom:p}=c();d==null||d.setScaleExtent([f,p]),u({minZoom:f})},setMaxZoom:f=>{const{panZoom:d,minZoom:p}=c();d==null||d.setScaleExtent([p,f]),u({maxZoom:f})},setTranslateExtent:f=>{var d;(d=c().panZoom)==null||d.setTranslateExtent(f),u({translateExtent:f})},setPaneClickDistance:f=>{var d;(d=c().panZoom)==null||d.setClickDistance(f)},resetSelectedElements:()=>{const{edges:f,nodes:d,triggerNodeChanges:p,triggerEdgeChanges:m}=c(),g=d.reduce((v,w)=>w.selected?[...v,oa(w.id,!1)]:v,[]),y=f.reduce((v,w)=>w.selected?[...v,oa(w.id,!1)]:v,[]);p(g),m(y)},setNodeExtent:f=>{const{nodes:d,nodeLookup:p,parentLookup:m,nodeOrigin:g,elevateNodesOnSelect:y,nodeExtent:v}=c();f[0][0]===v[0][0]&&f[0][1]===v[0][1]&&f[1][0]===v[1][0]&&f[1][1]===v[1][1]||(dw(d,p,m,{nodeOrigin:g,nodeExtent:f,elevateNodesOnSelect:y,checkEquality:!1}),u({nodeExtent:f}))},panBy:f=>{const{transform:d,width:p,height:m,panZoom:g,translateExtent:y}=c();return aW({delta:f,panZoom:g,transform:d,translateExtent:y,width:p,height:m})},fitView:f=>{const{panZoom:d,width:p,height:m,minZoom:g,maxZoom:y,nodeLookup:v}=c();if(!d)return Promise.resolve(!1);const w=aw(v,f);return sw({nodes:w,width:p,height:m,panZoom:d,minZoom:g,maxZoom:y},f)},fitViewSync:f=>{const{panZoom:d,width:p,height:m,minZoom:g,maxZoom:y,nodeLookup:v}=c();if(!d)return!1;const w=aw(v,f);return sw({nodes:w,width:p,height:m,panZoom:d,minZoom:g,maxZoom:y},f),w.size>0},cancelConnection:()=>{u({connection:{...DM}})},updateConnection:f=>{u({connection:f})},reset:()=>u({...bP()})}),Object.is);function WD({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,fitView:a,nodeOrigin:s,nodeExtent:l,children:u}){const[c]=D.useState(()=>$7({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,nodeOrigin:s,nodeExtent:l}));return M.jsx(nH,{value:c,children:M.jsx(TH,{children:u})})}function j7({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:a,fitView:s,nodeOrigin:l,nodeExtent:u}){return D.useContext(ay)?M.jsx(M.Fragment,{children:t}):M.jsx(WD,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,nodeOrigin:l,nodeExtent:u,children:t})}const L7={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function V7({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:A,onNodeDragStart:b,onNodeDrag:T,onNodeDragStop:P,onNodesDelete:O,onEdgesDelete:C,onDelete:N,onSelectionChange:k,onSelectionDragStart:R,onSelectionDrag:V,onSelectionDragStop:j,onSelectionContextMenu:F,onSelectionStart:L,onSelectionEnd:B,onBeforeDelete:U,connectionMode:G,connectionLineType:W=lo.Bezier,connectionLineStyle:K,connectionLineComponent:Y,connectionLineContainerStyle:ee,deleteKeyCode:ne="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:se=!1,selectionMode:J=pf.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:oe=dm()?"Meta":"Control",zoomActivationKeyCode:H=dm()?"Meta":"Control",snapToGrid:he,snapGrid:ce,onlyRenderVisibleElements:Ee=!1,selectNodesOnDrag:Te,nodesDraggable:qe,nodesConnectable:Mt,nodesFocusable:Dt,nodeOrigin:It=gD,edgesFocusable:dn,edgesReconnectable:hn,elementsSelectable:On=!0,defaultViewport:Lr=mH,minZoom:cr=.5,maxZoom:ut=2,translateExtent:yt=hf,preventScrolling:ss=!0,nodeExtent:ls,defaultMarkerColor:Fd="#b1b1b7",zoomOnScroll:vv=!0,zoomOnPinch:Xo=!0,panOnScroll:Bd=!1,panOnScrollSpeed:Ud=.5,panOnScrollMode:wu=Ea.Free,zoomOnDoubleClick:_v=!0,panOnDrag:wv=!0,onPaneClick:bu,onPaneMouseEnter:zd,onPaneMouseMove:Wd,onPaneMouseLeave:Yo,onPaneScroll:xu,onPaneContextMenu:Eu,paneClickDistance:Vr=0,nodeClickDistance:Hd=0,children:us,onReconnect:qd,onReconnectStart:Qo,onReconnectEnd:Gd,onEdgeContextMenu:Bt,onEdgeDoubleClick:Kd,onEdgeMouseEnter:Jo,onEdgeMouseMove:Zo,onEdgeMouseLeave:bv,reconnectRadius:xv=10,onNodesChange:Yi,onEdgesChange:Ev,noDragClassName:Sv="nodrag",noWheelClassName:cs="nowheel",noPanClassName:Su="nopan",fitView:fs,fitViewOptions:ds,connectOnClick:Fr,attributionPosition:Xd,proOptions:Yd,defaultEdgeOptions:Tu,elevateNodesOnSelect:Au,elevateEdgesOnSelect:Qd,disableKeyboardA11y:Pu=!1,autoPanOnConnect:Tv,autoPanOnNodeDrag:hs,autoPanSpeed:Jd,connectionRadius:Iu,isValidConnection:ea,onError:si,style:Ou,id:Zd,nodeDragThreshold:eh,viewport:th,onViewportChange:nh,width:Cu,height:ku,colorMode:rh="light",debug:ih,onScroll:ps,...Av},oh){const ms=Zd||"1",Pv=_H(rh),li=D.useCallback(Hn=>{Hn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ps==null||ps(Hn)},[ps]);return M.jsx("div",{"data-testid":"rf__wrapper",...Av,onScroll:li,style:{...Ou,...L7},ref:oh,className:Pt(["react-flow",i,Pv]),id:Zd,children:M.jsxs(j7,{nodes:t,edges:e,width:Cu,height:ku,fitView:fs,nodeOrigin:It,nodeExtent:ls,children:[M.jsx(D7,{onInit:u,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:a,connectionLineType:W,connectionLineStyle:K,connectionLineComponent:Y,connectionLineContainerStyle:ee,selectionKeyCode:re,selectionOnDrag:se,selectionMode:J,deleteKeyCode:ne,multiSelectionKeyCode:oe,panActivationKeyCode:le,zoomActivationKeyCode:H,onlyRenderVisibleElements:Ee,defaultViewport:Lr,translateExtent:yt,minZoom:cr,maxZoom:ut,preventScrolling:ss,zoomOnScroll:vv,zoomOnPinch:Xo,zoomOnDoubleClick:_v,panOnScroll:Bd,panOnScrollSpeed:Ud,panOnScrollMode:wu,panOnDrag:wv,onPaneClick:bu,onPaneMouseEnter:zd,onPaneMouseMove:Wd,onPaneMouseLeave:Yo,onPaneScroll:xu,onPaneContextMenu:Eu,paneClickDistance:Vr,nodeClickDistance:Hd,onSelectionContextMenu:F,onSelectionStart:L,onSelectionEnd:B,onReconnect:qd,onReconnectStart:Qo,onReconnectEnd:Gd,onEdgeContextMenu:Bt,onEdgeDoubleClick:Kd,onEdgeMouseEnter:Jo,onEdgeMouseMove:Zo,onEdgeMouseLeave:bv,reconnectRadius:xv,defaultMarkerColor:Fd,noDragClassName:Sv,noWheelClassName:cs,noPanClassName:Su,rfId:ms,disableKeyboardA11y:Pu,nodeExtent:ls,viewport:th,onViewportChange:nh}),M.jsx(vH,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,nodesDraggable:qe,nodesConnectable:Mt,nodesFocusable:Dt,edgesFocusable:dn,edgesReconnectable:hn,elementsSelectable:On,elevateNodesOnSelect:Au,elevateEdgesOnSelect:Qd,minZoom:cr,maxZoom:ut,nodeExtent:ls,onNodesChange:Yi,onEdgesChange:Ev,snapToGrid:he,snapGrid:ce,connectionMode:G,translateExtent:yt,connectOnClick:Fr,defaultEdgeOptions:Tu,fitView:fs,fitViewOptions:ds,onNodesDelete:O,onEdgesDelete:C,onDelete:N,onNodeDragStart:b,onNodeDrag:T,onNodeDragStop:P,onSelectionDrag:V,onSelectionDragStart:R,onSelectionDragStop:j,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:Su,nodeOrigin:It,rfId:ms,autoPanOnConnect:Tv,autoPanOnNodeDrag:hs,autoPanSpeed:Jd,onError:si,connectionRadius:Iu,isValidConnection:ea,selectNodesOnDrag:Te,nodeDragThreshold:eh,onBeforeDelete:U,paneClickDistance:Vr,debug:ih}),M.jsx(pH,{onSelectionChange:k}),us,M.jsx(uH,{proOptions:Yd,position:Xd}),M.jsx(sH,{rfId:ms,disableKeyboardA11y:Pu})]})})}var F7=wD(V7);function B7({dimensions:t,lineWidth:e,variant:n,className:r}){return M.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Pt(["react-flow__background-pattern",n,r])})}function U7({radius:t,className:e}){return M.jsx("circle",{cx:t,cy:t,r:t,className:Pt(["react-flow__background-pattern","dots",e])})}var Io;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Io||(Io={}));const z7={[Io.Dots]:1,[Io.Lines]:1,[Io.Cross]:6},W7=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function HD({id:t,variant:e=Io.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:l,className:u,patternClassName:c}){const f=D.useRef(null),{transform:d,patternId:p}=Re(W7,ht),m=r||z7[e],g=e===Io.Dots,y=e===Io.Cross,v=Array.isArray(n)?n:[n,n],w=[v[0]*d[2]||1,v[1]*d[2]||1],_=m*d[2],S=Array.isArray(o)?o:[o,o],E=y?[_,_]:w,A=[S[0]*d[2]||1+E[0]/2,S[1]*d[2]||1+E[1]/2],b=`${p}${t||""}`;return M.jsxs("svg",{className:Pt(["react-flow__background",u]),style:{...l,...sy,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[M.jsx("pattern",{id:b,x:d[0]%w[0],y:d[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:g?M.jsx(U7,{radius:_/2,className:c}):M.jsx(B7,{dimensions:E,lineWidth:i,variant:e,className:c})}),M.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})}HD.displayName="Background";const H7=D.memo(HD);function q7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:M.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function G7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:M.jsx("path",{d:"M0 0h32v4.2H0z"})})}function K7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:M.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function X7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Y7(){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:M.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function zh({children:t,className:e,...n}){return M.jsx("button",{type:"button",className:Pt(["react-flow__controls-button",e]),...n,children:t})}const Q7=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function qD({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":p="React Flow controls"}){const m=it(),{isInteractive:g,minZoomReached:y,maxZoomReached:v}=Re(Q7,ht),{zoomIn:w,zoomOut:_,fitView:S}=bE(),E=()=>{w(),o==null||o()},A=()=>{_(),a==null||a()},b=()=>{S(i),s==null||s()},T=()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)},P=d==="horizontal"?"horizontal":"vertical";return M.jsxs(bl,{className:Pt(["react-flow__controls",P,u]),position:f,style:t,"data-testid":"rf__controls","aria-label":p,children:[e&&M.jsxs(M.Fragment,{children:[M.jsx(zh,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v,children:M.jsx(q7,{})}),M.jsx(zh,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y,children:M.jsx(G7,{})})]}),n&&M.jsx(zh,{className:"react-flow__controls-fitview",onClick:b,title:"fit view","aria-label":"fit view",children:M.jsx(K7,{})}),r&&M.jsx(zh,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?M.jsx(Y7,{}):M.jsx(X7,{})}),c]})}qD.displayName="Controls";const J7=D.memo(qD);function Z7({id:t,x:e,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:p}){const{background:m,backgroundColor:g}=o||{},y=a||m||g;return M.jsx("rect",{className:Pt(["react-flow__minimap-node",{selected:d},u]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:y,stroke:s,strokeWidth:l},shapeRendering:f,onClick:p?v=>p(v,t):void 0})}const eq=D.memo(Z7),tq=t=>t.nodes.map(e=>e.id),m0=t=>t instanceof Function?t:()=>t;function nq({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=eq,onClick:a}){const s=Re(tq,ht),l=m0(e),u=m0(t),c=m0(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return M.jsx(M.Fragment,{children:s.map(d=>M.jsx(iq,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:f},d))})}function rq({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:u,x:c,y:f,width:d,height:p}=Re(m=>{const g=m.nodeLookup.get(t),{x:y,y:v}=g.internals.positionAbsolute,{width:w,height:_}=Wi(g);return{node:g,x:y,y:v,width:w,height:_}},ht);return!u||u.hidden||!WM(u)?null:M.jsx(s,{x:c,y:f,width:d,height:p,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:a,onClick:l,id:u.id})}const iq=D.memo(rq);var oq=D.memo(nq);const aq=200,sq=150,lq=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?UM(gd(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},uq="react-flow__minimap-desc";function GD({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:p,onNodeClick:m,pannable:g=!1,zoomable:y=!1,ariaLabel:v="React Flow mini map",inversePan:w,zoomStep:_=10,offsetScale:S=5}){const E=it(),A=D.useRef(null),{boundingRect:b,viewBB:T,rfId:P,panZoom:O,translateExtent:C,flowWidth:N,flowHeight:k}=Re(lq,ht),R=(t==null?void 0:t.width)??aq,V=(t==null?void 0:t.height)??sq,j=b.width/R,F=b.height/V,L=Math.max(j,F),B=L*R,U=L*V,G=S*L,W=b.x-(B-b.width)/2-G,K=b.y-(U-b.height)/2-G,Y=B+G*2,ee=U+G*2,ne=`${uq}-${P}`,re=D.useRef(0),se=D.useRef();re.current=L,D.useEffect(()=>{if(A.current&&O)return se.current=pW({domNode:A.current,panZoom:O,getTransform:()=>E.getState().transform,getViewScale:()=>re.current}),()=>{var oe;(oe=se.current)==null||oe.destroy()}},[O]),D.useEffect(()=>{var oe;(oe=se.current)==null||oe.update({translateExtent:C,width:N,height:k,inversePan:w,pannable:g,zoomStep:_,zoomable:y})},[g,y,w,_,C,N,k]);const J=p?oe=>{var ce;const[H,he]=((ce=se.current)==null?void 0:ce.pointer(oe))||[0,0];p(oe,{x:H,y:he})}:void 0,le=m?D.useCallback((oe,H)=>{const he=E.getState().nodeLookup.get(H);m(oe,he)},[]):void 0;return M.jsx(bl,{position:d,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*L:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="string"?a:void 0},className:Pt(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:M.jsxs("svg",{width:R,height:V,viewBox:`${W} ${K} ${Y} ${ee}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ne,ref:A,onClick:J,children:[v&&M.jsx("title",{id:ne,children:v}),M.jsx(oq,{onClick:le,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),M.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-G},${K-G}h${Y+G*2}v${ee+G*2}h${-Y-G*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}GD.displayName="MiniMap";D.memo(GD);function cq({nodeId:t,position:e,variant:n=kc.Handle,className:r,style:i={},children:o,color:a,minWidth:s=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:d,onResizeStart:p,onResize:m,onResizeEnd:g}){const y=SD(),v=typeof t=="string"?t:y,w=it(),_=D.useRef(null),S=n===kc.Line?"right":"bottom-right",E=e??S,A=D.useRef(null);D.useEffect(()=>{if(!(!_.current||!v))return A.current||(A.current=OW({domNode:_.current,nodeId:v,getStoreItems:()=>{const{nodeLookup:O,transform:C,snapGrid:N,snapToGrid:k,nodeOrigin:R,domNode:V}=w.getState();return{nodeLookup:O,transform:C,snapGrid:N,snapToGrid:k,nodeOrigin:R,paneDomNode:V}},onChange:(O,C)=>{const{triggerNodeChanges:N,nodeLookup:k,parentLookup:R,nodeOrigin:V}=w.getState(),j=[],F={x:O.x,y:O.y},L=k.get(v);if(L&&L.expandParent&&L.parentId){const B=L.origin??V,U=O.width??L.measured.width,G=O.height??L.measured.height,W={id:L.id,parentId:L.parentId,rect:{width:U,height:G,...HM({x:O.x??L.position.x,y:O.y??L.position.y},{width:U,height:G},L.parentId,k,B)}},K=wE([W],k,R,V);j.push(...K),F.x=O.x?Math.max(B[0]*U,O.x):void 0,F.y=O.y?Math.max(B[1]*G,O.y):void 0}if(F.x!==void 0&&F.y!==void 0){const B={id:v,type:"position",position:{...F}};j.push(B)}if(O.width!==void 0&&O.height!==void 0){const B={id:v,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:O.width,height:O.height}};j.push(B)}for(const B of C){const U={...B,type:"position"};j.push(U)}N(j)},onEnd:()=>{const O={id:v,type:"dimensions",resizing:!1};w.getState().triggerNodeChanges([O])}})),A.current.update({controlPosition:E,boundaries:{minWidth:s,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:f,onResizeStart:p,onResize:m,onResizeEnd:g,shouldResize:d}),()=>{var O;(O=A.current)==null||O.destroy()}},[E,s,l,u,c,f,p,m,g,d]);const b=E.split("-"),T=n===kc.Line?"borderColor":"backgroundColor",P=a?{...i,[T]:a}:i;return M.jsx("div",{className:Pt(["react-flow__resize-control","nodrag",...b,n,r]),ref:_,style:P,children:o})}D.memo(cq);var xP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},XD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new dq;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hq=function(t){const e=KD(t);return XD.encodeByteArray(e,!0)},mm=function(t){return hq(t).replace(/\./g,"")},YD=function(t){try{return XD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=()=>pq().__FIREBASE_DEFAULTS__,gq=()=>{if(typeof process>"u"||typeof xP>"u")return;const t=xP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YD(t[1]);return e&&JSON.parse(e)},uy=()=>{try{return mq()||gq()||yq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QD=t=>{var e,n;return(n=(e=uy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vq=t=>{const e=QD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JD=()=>{var t;return(t=uy())===null||t===void 0?void 0:t.config},ZD=t=>{var e;return(e=uy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mm(JSON.stringify(n)),mm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function xq(){var t;const e=(t=uy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Eq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tq(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Aq(){return!xq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t$(){try{return typeof indexedDB=="object"}catch{return!1}}function n$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function Pq(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Iq,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Oq(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Dr(i,s,r)}}function Oq(t,e){return t.replace(Cq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Cq=/\{\$([^}]+)}/g;function kq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(EP(o)&&EP(a)){if(!vf(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Nq(t,e){const n=new Rq(t,e);return n.subscribe.bind(n)}class Rq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Mq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=g0),i.error===void 0&&(i.error=g0),i.complete===void 0&&(i.complete=g0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function g0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=1e3,$q=2,jq=4*60*60*1e3,Lq=.5;function SP(t,e=Dq,n=$q){const r=e*Math.pow(n,t),i=Math.round(Lq*r*(Math.random()-.5)*2);return Math.min(jq,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class Nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _q;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bq(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fq(t){return t===aa?void 0:t}function Bq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const zq={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Wq=Oe.INFO,Hq={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},qq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Hq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cy{constructor(e){this.name=e,this._logLevel=Wq,this._logHandler=qq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Gq=(t,e)=>e.some(n=>t instanceof n);let TP,AP;function Kq(){return TP||(TP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xq(){return AP||(AP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r$=new WeakMap,mw=new WeakMap,i$=new WeakMap,y0=new WeakMap,EE=new WeakMap;function Yq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Oo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&r$.set(n,t)}).catch(()=>{}),EE.set(e,t),e}function Qq(t){if(mw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});mw.set(t,e)}let gw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jq(t){gw=t(gw)}function Zq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(v0(this),e,...n);return i$.set(r,e.sort?e.sort():[e]),Oo(r)}:Xq().includes(t)?function(...e){return t.apply(v0(this),e),Oo(r$.get(this))}:function(...e){return Oo(t.apply(v0(this),e))}}function eG(t){return typeof t=="function"?Zq(t):(t instanceof IDBTransaction&&Qq(t),Gq(t,Kq())?new Proxy(t,gw):t)}function Oo(t){if(t instanceof IDBRequest)return Yq(t);if(y0.has(t))return y0.get(t);const e=eG(t);return e!==t&&(y0.set(t,e),EE.set(e,t)),e}const v0=t=>EE.get(t);function o$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Oo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Oo(a.result),l.oldVersion,l.newVersion,Oo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const tG=["get","getKey","getAll","getAllKeys","count"],nG=["put","add","delete","clear"],_0=new Map;function PP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tG.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return _0.set(e,o),o}Jq(t=>({...t,get:(e,n,r)=>PP(e,n)||t.get(e,n,r),has:(e,n)=>!!PP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yw="@firebase/app",IP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new cy("@firebase/app"),oG="@firebase/app-compat",aG="@firebase/analytics-compat",sG="@firebase/analytics",lG="@firebase/app-check-compat",uG="@firebase/app-check",cG="@firebase/auth",fG="@firebase/auth-compat",dG="@firebase/database",hG="@firebase/data-connect",pG="@firebase/database-compat",mG="@firebase/functions",gG="@firebase/functions-compat",yG="@firebase/installations",vG="@firebase/installations-compat",_G="@firebase/messaging",wG="@firebase/messaging-compat",bG="@firebase/performance",xG="@firebase/performance-compat",EG="@firebase/remote-config",SG="@firebase/remote-config-compat",TG="@firebase/storage",AG="@firebase/storage-compat",PG="@firebase/firestore",IG="@firebase/vertexai-preview",OG="@firebase/firestore-compat",CG="firebase",kG="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="[DEFAULT]",NG={[yw]:"fire-core",[oG]:"fire-core-compat",[sG]:"fire-analytics",[aG]:"fire-analytics-compat",[uG]:"fire-app-check",[lG]:"fire-app-check-compat",[cG]:"fire-auth",[fG]:"fire-auth-compat",[dG]:"fire-rtdb",[hG]:"fire-data-connect",[pG]:"fire-rtdb-compat",[mG]:"fire-fn",[gG]:"fire-fn-compat",[yG]:"fire-iid",[vG]:"fire-iid-compat",[_G]:"fire-fcm",[wG]:"fire-fcm-compat",[bG]:"fire-perf",[xG]:"fire-perf-compat",[EG]:"fire-rc",[SG]:"fire-rc-compat",[TG]:"fire-gcs",[AG]:"fire-gcs-compat",[PG]:"fire-fst",[OG]:"fire-fst-compat",[IG]:"fire-vertex","fire-js":"fire-js",[CG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,RG=new Map,_w=new Map;function OP(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ni(t){const e=t.name;if(_w.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;_w.set(e,t);for(const n of gm.values())OP(n,t);for(const n of RG.values())OP(n,t);return!0}function Ja(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Qa("app","Firebase",MG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=kG;function a$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Co.create("bad-app-name",{appName:String(i)});if(n||(n=JD()),!n)throw Co.create("no-options");const o=gm.get(i);if(o){if(vf(n,o.options)&&vf(r,o.config))return o;throw Co.create("duplicate-app",{appName:i})}const a=new Uq(i);for(const l of _w.values())a.addComponent(l);const s=new DG(n,r,a);return gm.set(i,s),s}function SE(t=vw){const e=gm.get(t);if(!e&&t===vw&&JD())return a$();if(!e)throw Co.create("no-app",{appName:t});return e}function tr(t,e,n){var r;let i=(r=NG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(s.join(" "));return}ni(new Nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G="firebase-heartbeat-database",jG=1,_f="firebase-heartbeat-store";let w0=null;function s$(){return w0||(w0=o$($G,jG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_f)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),w0}async function LG(t){try{const n=(await s$()).transaction(_f),r=await n.objectStore(_f).get(l$(t));return await n.done,r}catch(e){if(e instanceof Dr)Mi.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function CP(t,e){try{const r=(await s$()).transaction(_f,"readwrite");await r.objectStore(_f).put(e,l$(t)),await r.done}catch(n){if(n instanceof Dr)Mi.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function l$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=1024,FG=30*24*60*60*1e3;class BG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=FG}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kP(),{heartbeatsToSend:r,unsentEntries:i}=UG(this._heartbeatsCache.heartbeats),o=mm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mi.warn(n),""}}}function kP(){return new Date().toISOString().substring(0,10)}function UG(t,e=VG){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),NP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t$()?n$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NP(t){return mm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t){ni(new Nr("platform-logger",e=>new rG(e),"PRIVATE")),ni(new Nr("heartbeat",e=>new BG(e),"PRIVATE")),tr(yw,IP,t),tr(yw,IP,"esm2017"),tr("fire-js","")}WG("");var HG="firebase",qG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(HG,qG,"app");const u$="@firebase/installations",TE="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=1e4,f$=`w:${TE}`,d$="FIS_v2",GG="https://firebaseinstallations.googleapis.com/v1",KG=60*60*1e3,XG="installations",YG="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ma=new Qa(XG,YG,QG);function h$(t){return t instanceof Dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$({projectId:t}){return`${GG}/projects/${t}/installations`}function m$(t){return{token:t.token,requestStatus:2,expiresIn:ZG(t.expiresIn),creationTime:Date.now()}}async function g$(t,e){const r=(await e.json()).error;return Ma.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function y$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function JG(t,{refreshToken:e}){const n=y$(t);return n.append("Authorization",eK(e)),n}async function v$(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ZG(t){return Number(t.replace("s","000"))}function eK(t){return`${d$} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tK({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=p$(t),i=y$(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:d$,appId:t.appId,sdkVersion:f$},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await v$(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:m$(u.authToken)}}else throw await g$("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=/^[cdef][\w-]{21}$/,ww="";function iK(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=oK(t);return rK.test(n)?n:ww}catch{return ww}}function oK(t){return nK(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=new Map;function b$(t,e){const n=fy(t);x$(n,e),aK(n,e)}function x$(t,e){const n=w$.get(t);if(n)for(const r of n)r(e)}function aK(t,e){const n=sK();n&&n.postMessage({key:t,fid:e}),lK()}let pa=null;function sK(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=t=>{x$(t.data.key,t.data.fid)}),pa}function lK(){w$.size===0&&pa&&(pa.close(),pa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK="firebase-installations-database",cK=1,Da="firebase-installations-store";let b0=null;function AE(){return b0||(b0=o$(uK,cK,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Da)}}})),b0}async function ym(t,e){const n=fy(t),i=(await AE()).transaction(Da,"readwrite"),o=i.objectStore(Da),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&b$(t,e.fid),e}async function E$(t){const e=fy(t),r=(await AE()).transaction(Da,"readwrite");await r.objectStore(Da).delete(e),await r.done}async function dy(t,e){const n=fy(t),i=(await AE()).transaction(Da,"readwrite"),o=i.objectStore(Da),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&b$(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(t){let e;const n=await dy(t.appConfig,r=>{const i=fK(r),o=dK(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===ww?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function fK(t){const e=t||{fid:iK(),registrationStatus:0};return S$(e)}function dK(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ma.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=hK(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pK(t)}:{installationEntry:e}}async function hK(t,e){try{const n=await tK(t,e);return ym(t.appConfig,n)}catch(n){throw h$(n)&&n.customData.serverCode===409?await E$(t.appConfig):await ym(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pK(t){let e=await RP(t.appConfig);for(;e.registrationStatus===1;)await _$(100),e=await RP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await PE(t);return r||n}return e}function RP(t){return dy(t,e=>{if(!e)throw Ma.create("installation-not-found");return S$(e)})}function S$(t){return mK(t)?{fid:t.fid,registrationStatus:0}:t}function mK(t){return t.registrationStatus===1&&t.registrationTime+c$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gK({appConfig:t,heartbeatServiceProvider:e},n){const r=yK(t,n),i=JG(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:f$,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await v$(()=>fetch(r,s));if(l.ok){const u=await l.json();return m$(u)}else throw await g$("Generate Auth Token",l)}function yK(t,{fid:e}){return`${p$(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t,e=!1){let n;const r=await dy(t.appConfig,o=>{if(!T$(o))throw Ma.create("not-registered");const a=o.authToken;if(!e&&wK(a))return o;if(a.requestStatus===1)return n=vK(t,e),o;{if(!navigator.onLine)throw Ma.create("app-offline");const s=xK(o);return n=_K(t,s),s}});return n?await n:r.authToken}async function vK(t,e){let n=await MP(t.appConfig);for(;n.authToken.requestStatus===1;)await _$(100),n=await MP(t.appConfig);const r=n.authToken;return r.requestStatus===0?IE(t,e):r}function MP(t){return dy(t,e=>{if(!T$(e))throw Ma.create("not-registered");const n=e.authToken;return EK(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _K(t,e){try{const n=await gK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ym(t.appConfig,r),n}catch(n){if(h$(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await E$(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ym(t.appConfig,r)}throw n}}function T$(t){return t!==void 0&&t.registrationStatus===2}function wK(t){return t.requestStatus===2&&!bK(t)}function bK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+KG}function xK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function EK(t){return t.requestStatus===1&&t.requestTime+c$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SK(t){const e=t,{installationEntry:n,registrationPromise:r}=await PE(e);return r?r.catch(console.error):IE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TK(t,e=!1){const n=t;return await AK(n),(await IE(n,e)).token}async function AK(t){const{registrationPromise:e}=await PE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){if(!t||!t.options)throw x0("App Configuration");if(!t.name)throw x0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw x0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function x0(t){return Ma.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="installations",IK="installations-internal",OK=t=>{const e=t.getProvider("app").getImmediate(),n=PK(e),r=Ja(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CK=t=>{const e=t.getProvider("app").getImmediate(),n=Ja(e,A$).getImmediate();return{getId:()=>SK(n),getToken:i=>TK(n,i)}};function kK(){ni(new Nr(A$,OK,"PUBLIC")),ni(new Nr(IK,CK,"PRIVATE"))}kK();tr(u$,TE);tr(u$,TE,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="analytics",NK="firebase_id",RK="origin",MK=60*1e3,DK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",OE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new cy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new Qa("analytics","Analytics",$K);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(t){if(!t.startsWith(OE)){const e=Vn.create("invalid-gtag-resource",{gtagURL:t});return An.warn(e.message),""}return t}function P$(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function LK(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function VK(t,e){const n=LK("firebase-js-sdk-policy",{createScriptURL:jK}),r=document.createElement("script"),i=`${OE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function FK(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function BK(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await P$(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){An.error(s)}t("config",i,o)}async function UK(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await P$(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){An.error(o)}}function zK(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await UK(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await BK(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){An.error(s)}}return i}function WK(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=zK(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function HK(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(OE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=30,GK=1e3;class KK{constructor(e={},n=GK){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const I$=new KK;function XK(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function YK(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:XK(r)},o=DK.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function QK(t,e=I$,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Vn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Vn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new eX;return setTimeout(async()=>{s.abort()},MK),O$({appId:r,apiKey:i,measurementId:o},a,s,e)}async function O$(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=I$){var o;const{appId:a,measurementId:s}=t;try{await JK(r,e)}catch(l){if(s)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await YK(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!ZK(u)){if(i.deleteThrottleMetadata(a),s)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?SP(n,i.intervalMillis,qK):SP(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),An.debug(`Calling attemptFetch again in ${c} millis`),O$(t,f,r,i)}}function JK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ZK(t){if(!(t instanceof Dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class eX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tX(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nX(){if(t$())try{await n$()}catch(t){return An.warn(Vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return An.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rX(t,e,n,r,i,o,a){var s;const l=QK(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>An.error(p)),e.push(l);const u=nX().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([l,u]);HK(o)||VK(o,c.measurementId),i("js",new Date);const d=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return d[RK]="firebase",d.update=!0,f!=null&&(d[NK]=f),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e){this.app=e}_delete(){return delete Nc[this.app.options.appId],Promise.resolve()}}let Nc={},DP=[];const $P={};let E0="dataLayer",oX="gtag",jP,C$,LP=!1;function aX(){const t=[];if(e$()&&t.push("This is a browser extension environment."),Pq()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vn.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function sX(t,e,n){aX();const r=t.options.appId;if(!r)throw Vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(Nc[r]!=null)throw Vn.create("already-exists",{id:r});if(!LP){FK(E0);const{wrappedGtag:o,gtagCore:a}=WK(Nc,DP,$P,E0,oX);C$=o,jP=a,LP=!0}return Nc[r]=rX(t,DP,$P,e,jP,E0,n),new iX(t)}function lX(t=SE()){t=rt(t);const e=Ja(t,vm);return e.isInitialized()?e.getImmediate():uX(t)}function uX(t,e={}){const n=Ja(t,vm);if(n.isInitialized()){const i=n.getImmediate();if(vf(e,n.getOptions()))return i;throw Vn.create("already-initialized")}return n.initialize({options:e})}function cX(t,e,n,r){t=rt(t),tX(C$,Nc[t.app.options.appId],e,n,r).catch(i=>An.error(i))}const VP="@firebase/analytics",FP="0.10.8";function fX(){ni(new Nr(vm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return sX(r,i,n)},"PUBLIC")),ni(new Nr("analytics-internal",t,"PRIVATE")),tr(VP,FP),tr(VP,FP,"esm2017");function t(e){try{const n=e.getProvider(vm).getImmediate();return{logEvent:(r,i,o)=>cX(n,r,i,o)}}catch(n){throw Vn.create("interop-component-reg-failed",{reason:n})}}}fX();var BP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,k$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function P(){}P.prototype=T.prototype,b.D=T.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(O,C,N){for(var k=Array(arguments.length-2),R=2;R<arguments.length;R++)k[R-2]=arguments[R];return T.prototype[C].apply(O,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,T,P){P||(P=0);var O=Array(16);if(typeof T=="string")for(var C=0;16>C;++C)O[C]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(C=0;16>C;++C)O[C]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=b.g[0],P=b.g[1],C=b.g[2];var N=b.g[3],k=T+(N^P&(C^N))+O[0]+3614090360&4294967295;T=P+(k<<7&4294967295|k>>>25),k=N+(C^T&(P^C))+O[1]+3905402710&4294967295,N=T+(k<<12&4294967295|k>>>20),k=C+(P^N&(T^P))+O[2]+606105819&4294967295,C=N+(k<<17&4294967295|k>>>15),k=P+(T^C&(N^T))+O[3]+3250441966&4294967295,P=C+(k<<22&4294967295|k>>>10),k=T+(N^P&(C^N))+O[4]+4118548399&4294967295,T=P+(k<<7&4294967295|k>>>25),k=N+(C^T&(P^C))+O[5]+1200080426&4294967295,N=T+(k<<12&4294967295|k>>>20),k=C+(P^N&(T^P))+O[6]+2821735955&4294967295,C=N+(k<<17&4294967295|k>>>15),k=P+(T^C&(N^T))+O[7]+4249261313&4294967295,P=C+(k<<22&4294967295|k>>>10),k=T+(N^P&(C^N))+O[8]+1770035416&4294967295,T=P+(k<<7&4294967295|k>>>25),k=N+(C^T&(P^C))+O[9]+2336552879&4294967295,N=T+(k<<12&4294967295|k>>>20),k=C+(P^N&(T^P))+O[10]+4294925233&4294967295,C=N+(k<<17&4294967295|k>>>15),k=P+(T^C&(N^T))+O[11]+2304563134&4294967295,P=C+(k<<22&4294967295|k>>>10),k=T+(N^P&(C^N))+O[12]+1804603682&4294967295,T=P+(k<<7&4294967295|k>>>25),k=N+(C^T&(P^C))+O[13]+4254626195&4294967295,N=T+(k<<12&4294967295|k>>>20),k=C+(P^N&(T^P))+O[14]+2792965006&4294967295,C=N+(k<<17&4294967295|k>>>15),k=P+(T^C&(N^T))+O[15]+1236535329&4294967295,P=C+(k<<22&4294967295|k>>>10),k=T+(C^N&(P^C))+O[1]+4129170786&4294967295,T=P+(k<<5&4294967295|k>>>27),k=N+(P^C&(T^P))+O[6]+3225465664&4294967295,N=T+(k<<9&4294967295|k>>>23),k=C+(T^P&(N^T))+O[11]+643717713&4294967295,C=N+(k<<14&4294967295|k>>>18),k=P+(N^T&(C^N))+O[0]+3921069994&4294967295,P=C+(k<<20&4294967295|k>>>12),k=T+(C^N&(P^C))+O[5]+3593408605&4294967295,T=P+(k<<5&4294967295|k>>>27),k=N+(P^C&(T^P))+O[10]+38016083&4294967295,N=T+(k<<9&4294967295|k>>>23),k=C+(T^P&(N^T))+O[15]+3634488961&4294967295,C=N+(k<<14&4294967295|k>>>18),k=P+(N^T&(C^N))+O[4]+3889429448&4294967295,P=C+(k<<20&4294967295|k>>>12),k=T+(C^N&(P^C))+O[9]+568446438&4294967295,T=P+(k<<5&4294967295|k>>>27),k=N+(P^C&(T^P))+O[14]+3275163606&4294967295,N=T+(k<<9&4294967295|k>>>23),k=C+(T^P&(N^T))+O[3]+4107603335&4294967295,C=N+(k<<14&4294967295|k>>>18),k=P+(N^T&(C^N))+O[8]+1163531501&4294967295,P=C+(k<<20&4294967295|k>>>12),k=T+(C^N&(P^C))+O[13]+2850285829&4294967295,T=P+(k<<5&4294967295|k>>>27),k=N+(P^C&(T^P))+O[2]+4243563512&4294967295,N=T+(k<<9&4294967295|k>>>23),k=C+(T^P&(N^T))+O[7]+1735328473&4294967295,C=N+(k<<14&4294967295|k>>>18),k=P+(N^T&(C^N))+O[12]+2368359562&4294967295,P=C+(k<<20&4294967295|k>>>12),k=T+(P^C^N)+O[5]+4294588738&4294967295,T=P+(k<<4&4294967295|k>>>28),k=N+(T^P^C)+O[8]+2272392833&4294967295,N=T+(k<<11&4294967295|k>>>21),k=C+(N^T^P)+O[11]+1839030562&4294967295,C=N+(k<<16&4294967295|k>>>16),k=P+(C^N^T)+O[14]+4259657740&4294967295,P=C+(k<<23&4294967295|k>>>9),k=T+(P^C^N)+O[1]+2763975236&4294967295,T=P+(k<<4&4294967295|k>>>28),k=N+(T^P^C)+O[4]+1272893353&4294967295,N=T+(k<<11&4294967295|k>>>21),k=C+(N^T^P)+O[7]+4139469664&4294967295,C=N+(k<<16&4294967295|k>>>16),k=P+(C^N^T)+O[10]+3200236656&4294967295,P=C+(k<<23&4294967295|k>>>9),k=T+(P^C^N)+O[13]+681279174&4294967295,T=P+(k<<4&4294967295|k>>>28),k=N+(T^P^C)+O[0]+3936430074&4294967295,N=T+(k<<11&4294967295|k>>>21),k=C+(N^T^P)+O[3]+3572445317&4294967295,C=N+(k<<16&4294967295|k>>>16),k=P+(C^N^T)+O[6]+76029189&4294967295,P=C+(k<<23&4294967295|k>>>9),k=T+(P^C^N)+O[9]+3654602809&4294967295,T=P+(k<<4&4294967295|k>>>28),k=N+(T^P^C)+O[12]+3873151461&4294967295,N=T+(k<<11&4294967295|k>>>21),k=C+(N^T^P)+O[15]+530742520&4294967295,C=N+(k<<16&4294967295|k>>>16),k=P+(C^N^T)+O[2]+3299628645&4294967295,P=C+(k<<23&4294967295|k>>>9),k=T+(C^(P|~N))+O[0]+4096336452&4294967295,T=P+(k<<6&4294967295|k>>>26),k=N+(P^(T|~C))+O[7]+1126891415&4294967295,N=T+(k<<10&4294967295|k>>>22),k=C+(T^(N|~P))+O[14]+2878612391&4294967295,C=N+(k<<15&4294967295|k>>>17),k=P+(N^(C|~T))+O[5]+4237533241&4294967295,P=C+(k<<21&4294967295|k>>>11),k=T+(C^(P|~N))+O[12]+1700485571&4294967295,T=P+(k<<6&4294967295|k>>>26),k=N+(P^(T|~C))+O[3]+2399980690&4294967295,N=T+(k<<10&4294967295|k>>>22),k=C+(T^(N|~P))+O[10]+4293915773&4294967295,C=N+(k<<15&4294967295|k>>>17),k=P+(N^(C|~T))+O[1]+2240044497&4294967295,P=C+(k<<21&4294967295|k>>>11),k=T+(C^(P|~N))+O[8]+1873313359&4294967295,T=P+(k<<6&4294967295|k>>>26),k=N+(P^(T|~C))+O[15]+4264355552&4294967295,N=T+(k<<10&4294967295|k>>>22),k=C+(T^(N|~P))+O[6]+2734768916&4294967295,C=N+(k<<15&4294967295|k>>>17),k=P+(N^(C|~T))+O[13]+1309151649&4294967295,P=C+(k<<21&4294967295|k>>>11),k=T+(C^(P|~N))+O[4]+4149444226&4294967295,T=P+(k<<6&4294967295|k>>>26),k=N+(P^(T|~C))+O[11]+3174756917&4294967295,N=T+(k<<10&4294967295|k>>>22),k=C+(T^(N|~P))+O[2]+718787259&4294967295,C=N+(k<<15&4294967295|k>>>17),k=P+(N^(C|~T))+O[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(C+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var P=T-this.blockSize,O=this.B,C=this.h,N=0;N<T;){if(C==0)for(;N<=P;)i(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<T;)if(O[C++]=b.charCodeAt(N++),C==this.blockSize){i(this,O),C=0;break}}else for(;N<T;)if(O[C++]=b[N++],C==this.blockSize){i(this,O),C=0;break}}this.h=C,this.o+=T},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var P=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=P&255,P/=256;for(this.u(b),b=Array(16),T=P=0;4>T;++T)for(var O=0;32>O;O+=8)b[P++]=this.g[T]>>>O&255;return b};function o(b,T){var P=s;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=T(b)}function a(b,T){this.h=T;for(var P=[],O=!0,C=b.length-1;0<=C;C--){var N=b[C]|0;O&&N==T||(P[C]=N,O=!1)}this.g=P}var s={};function l(b){return-128<=b&&128>b?o(b,function(T){return new a([T|0],0>T?-1:0)}):new a([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return y(u(-b));for(var T=[],P=1,O=0;b>=P;O++)T[O]=b/P|0,P*=4294967296;return new a(T,0)}function c(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return y(c(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),O=f,C=0;C<b.length;C+=8){var N=Math.min(8,b.length-C),k=parseInt(b.substring(C,C+N),T);8>N?(N=u(Math.pow(T,N)),O=O.j(N).add(u(k))):(O=O.j(P),O=O.add(u(k)))}return O}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var b=0,T=1,P=0;P<this.g.length;P++){var O=this.i(P);b+=(0<=O?O:4294967296+O)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(m(this))return"0";if(g(this))return"-"+y(this).toString(b);for(var T=u(Math.pow(b,6)),P=this,O="";;){var C=S(P,T).g;P=v(P,C.j(T));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=C,m(P))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function m(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function g(b){return b.h==-1}t.l=function(b){return b=v(this,b),g(b)?-1:m(b)?0:1};function y(b){for(var T=b.g.length,P=[],O=0;O<T;O++)P[O]=~b.g[O];return new a(P,~b.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0,C=0;C<=T;C++){var N=O+(this.i(C)&65535)+(b.i(C)&65535),k=(N>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);O=k>>>16,N&=65535,k&=65535,P[C]=k<<16|N}return new a(P,P[P.length-1]&-2147483648?-1:0)};function v(b,T){return b.add(y(T))}t.j=function(b){if(m(this)||m(b))return f;if(g(this))return g(b)?y(this).j(y(b)):y(y(this).j(b));if(g(b))return y(this.j(y(b)));if(0>this.l(p)&&0>b.l(p))return u(this.m()*b.m());for(var T=this.g.length+b.g.length,P=[],O=0;O<2*T;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var C=0;C<b.g.length;C++){var N=this.i(O)>>>16,k=this.i(O)&65535,R=b.i(C)>>>16,V=b.i(C)&65535;P[2*O+2*C]+=k*V,w(P,2*O+2*C),P[2*O+2*C+1]+=N*V,w(P,2*O+2*C+1),P[2*O+2*C+1]+=k*R,w(P,2*O+2*C+1),P[2*O+2*C+2]+=N*R,w(P,2*O+2*C+2)}for(O=0;O<T;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=T;O<2*T;O++)P[O]=0;return new a(P,0)};function w(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function _(b,T){this.g=b,this.h=T}function S(b,T){if(m(T))throw Error("division by zero");if(m(b))return new _(f,f);if(g(b))return T=S(y(b),T),new _(y(T.g),y(T.h));if(g(T))return T=S(b,y(T)),new _(y(T.g),T.h);if(30<b.g.length){if(g(b)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var P=d,O=T;0>=O.l(b);)P=E(P),O=E(O);var C=A(P,1),N=A(O,1);for(O=A(O,2),P=A(P,2);!m(O);){var k=N.add(O);0>=k.l(b)&&(C=C.add(P),N=k),O=A(O,1),P=A(P,1)}return T=v(b,C.j(T)),new _(C,T)}for(C=f;0<=b.l(T);){for(P=Math.max(1,Math.floor(b.m()/T.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=u(P),k=N.j(T);g(k)||0<k.l(b);)P-=O,N=u(P),k=N.j(T);m(N)&&(N=d),C=C.add(N),b=v(b,k)}return new _(C,b)}t.A=function(b){return S(this,b).h},t.and=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)&b.i(O);return new a(P,this.h&b.h)},t.or=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)|b.i(O);return new a(P,this.h|b.h)},t.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)^b.i(O);return new a(P,this.h^b.h)};function E(b){for(var T=b.g.length+1,P=[],O=0;O<T;O++)P[O]=b.i(O)<<1|b.i(O-1)>>>31;return new a(P,b.h)}function A(b,T){var P=T>>5;T%=32;for(var O=b.g.length-P,C=[],N=0;N<O;N++)C[N]=0<T?b.i(N+P)>>>T|b.i(N+P+1)<<32-T:b.i(N+P);return new a(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k$=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Sa=a}).apply(typeof BP<"u"?BP:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N$,mc,R$,Ep,bw,M$,D$,$$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,I){return h==Array.prototype||h==Object.prototype||(h[x]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var x=0;x<h.length;++x){var I=h[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,x){if(x)e:{var I=r;h=h.split(".");for(var $=0;$<h.length-1;$++){var q=h[$];if(!(q in I))break e;I=I[q]}h=h[h.length-1],$=I[h],x=x($),x!=$&&x!=null&&e(I,h,{configurable:!0,writable:!0,value:x})}}function o(h,x){h instanceof String&&(h+="");var I=0,$=!1,q={next:function(){if(!$&&I<h.length){var X=I++;return{value:x(X,h[X]),done:!1}}return $=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(h){return h||function(){return o(this,function(x,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function u(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function c(h,x,I){return h.call.apply(h.bind,arguments)}function f(h,x,I){if(!h)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,$),h.apply(x,q)}}return function(){return h.apply(x,arguments)}}function d(h,x,I){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,x){var I=Array.prototype.slice.call(arguments,1);return function(){var $=I.slice();return $.push.apply($,arguments),h.apply(this,$)}}function m(h,x){function I(){}I.prototype=x.prototype,h.aa=x.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function($,q,X){for(var ae=Array(arguments.length-2),We=2;We<arguments.length;We++)ae[We-2]=arguments[We];return x.prototype[q].apply($,ae)}}function g(h){const x=h.length;if(0<x){const I=Array(x);for(let $=0;$<x;$++)I[$]=h[$];return I}return[]}function y(h,x){for(let I=1;I<arguments.length;I++){const $=arguments[I];if(l($)){const q=h.length||0,X=$.length||0;h.length=q+X;for(let ae=0;ae<X;ae++)h[q+ae]=$[ae]}else h.push($)}}class v{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function w(h){return/^[\s\xa0]*$/.test(h)}function _(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function S(h){return S[" "](h),h}S[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function A(h,x,I){for(const $ in h)x.call(I,h[$],$,h)}function b(h,x){for(const I in h)x.call(void 0,h[I],I,h)}function T(h){const x={};for(const I in h)x[I]=h[I];return x}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,x){let I,$;for(let q=1;q<arguments.length;q++){$=arguments[q];for(I in $)h[I]=$[I];for(let X=0;X<P.length;X++)I=P[X],Object.prototype.hasOwnProperty.call($,I)&&(h[I]=$[I])}}function C(h){var x=1;h=h.split(":");const I=[];for(;0<x&&h.length;)I.push(h.shift()),x--;return h.length&&I.push(h.join(":")),I}function N(h){s.setTimeout(()=>{throw h},0)}function k(){var h=B;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class R{constructor(){this.h=this.g=null}add(x,I){const $=V.get();$.set(x,I),this.h?this.h.next=$:this.g=$,this.h=$}}var V=new v(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let F,L=!1,B=new R,U=()=>{const h=s.Promise.resolve(void 0);F=()=>{h.then(G)}};var G=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(I){N(I)}var x=V;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}L=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};s.addEventListener("test",I,x),s.removeEventListener("test",I,x)}catch{}return h}();function ee(h,x){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,$=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(E){e:{try{S(x.nodeName);var q=!0;break e}catch{}q=!1}q||(x=null)}}else I=="mouseover"?x=h.fromElement:I=="mouseout"&&(x=h.toElement);this.relatedTarget=x,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}m(ee,K);var ne={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),se=0;function J(h,x,I,$,q){this.listener=h,this.proxy=null,this.src=x,this.type=I,this.capture=!!$,this.ha=q,this.key=++se,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,x,I,$,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ae=he(h,x,$,q);return-1<ae?(x=h[ae],I||(x.fa=!1)):(x=new J(x,this.src,X,!!$,q),x.fa=I,h.push(x)),x};function H(h,x){var I=x.type;if(I in h.g){var $=h.g[I],q=Array.prototype.indexOf.call($,x,void 0),X;(X=0<=q)&&Array.prototype.splice.call($,q,1),X&&(le(x),h.g[I].length==0&&(delete h.g[I],h.h--))}}function he(h,x,I,$){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==x&&X.capture==!!I&&X.ha==$)return q}return-1}var ce="closure_lm_"+(1e6*Math.random()|0),Ee={};function Te(h,x,I,$,q){if(Array.isArray(x)){for(var X=0;X<x.length;X++)Te(h,x[X],I,$,q);return null}return I=cr(I),h&&h[re]?h.K(x,I,u($)?!!$.capture:!1,q):qe(h,x,I,!1,$,q)}function qe(h,x,I,$,q,X){if(!x)throw Error("Invalid event type");var ae=u(q)?!!q.capture:!!q,We=On(h);if(We||(h[ce]=We=new oe(h)),I=We.add(x,I,$,ae,X),I.proxy)return I;if($=Mt(),I.proxy=$,$.src=h,$.listener=I,h.addEventListener)Y||(q=ae),q===void 0&&(q=!1),h.addEventListener(x.toString(),$,q);else if(h.attachEvent)h.attachEvent(dn(x.toString()),$);else if(h.addListener&&h.removeListener)h.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Mt(){function h(I){return x.call(h.src,h.listener,I)}const x=hn;return h}function Dt(h,x,I,$,q){if(Array.isArray(x))for(var X=0;X<x.length;X++)Dt(h,x[X],I,$,q);else $=u($)?!!$.capture:!!$,I=cr(I),h&&h[re]?(h=h.i,x=String(x).toString(),x in h.g&&(X=h.g[x],I=he(X,I,$,q),-1<I&&(le(X[I]),Array.prototype.splice.call(X,I,1),X.length==0&&(delete h.g[x],h.h--)))):h&&(h=On(h))&&(x=h.g[x.toString()],h=-1,x&&(h=he(x,I,$,q)),(I=-1<h?x[h]:null)&&It(I))}function It(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[re])H(x.i,h);else{var I=h.type,$=h.proxy;x.removeEventListener?x.removeEventListener(I,$,h.capture):x.detachEvent?x.detachEvent(dn(I),$):x.addListener&&x.removeListener&&x.removeListener($),(I=On(x))?(H(I,h),I.h==0&&(I.src=null,x[ce]=null)):le(h)}}}function dn(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function hn(h,x){if(h.da)h=!0;else{x=new ee(x,this);var I=h.listener,$=h.ha||h.src;h.fa&&It(h),h=I.call($,x)}return h}function On(h){return h=h[ce],h instanceof oe?h:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function cr(h){return typeof h=="function"?h:(h[Lr]||(h[Lr]=function(x){return h.handleEvent(x)}),h[Lr])}function ut(){W.call(this),this.i=new oe(this),this.M=this,this.F=null}m(ut,W),ut.prototype[re]=!0,ut.prototype.removeEventListener=function(h,x,I,$){Dt(this,h,x,I,$)};function yt(h,x){var I,$=h.F;if($)for(I=[];$;$=$.F)I.push($);if(h=h.M,$=x.type||x,typeof x=="string")x=new K(x,h);else if(x instanceof K)x.target=x.target||h;else{var q=x;x=new K($,h),O(x,q)}if(q=!0,I)for(var X=I.length-1;0<=X;X--){var ae=x.g=I[X];q=ss(ae,$,!0,x)&&q}if(ae=x.g=h,q=ss(ae,$,!0,x)&&q,q=ss(ae,$,!1,x)&&q,I)for(X=0;X<I.length;X++)ae=x.g=I[X],q=ss(ae,$,!1,x)&&q}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var I=h.g[x],$=0;$<I.length;$++)le(I[$]);delete h.g[x],h.h--}}this.F=null},ut.prototype.K=function(h,x,I,$){return this.i.add(String(h),x,!1,I,$)},ut.prototype.L=function(h,x,I,$){return this.i.add(String(h),x,!0,I,$)};function ss(h,x,I,$){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var q=!0,X=0;X<x.length;++X){var ae=x[X];if(ae&&!ae.da&&ae.capture==I){var We=ae.listener,Ut=ae.ha||ae.src;ae.fa&&H(h.i,ae),q=We.call(Ut,$)!==!1&&q}}return q&&!$.defaultPrevented}function ls(h,x,I){if(typeof h=="function")I&&(h=d(h,I));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:s.setTimeout(h,x||0)}function Fd(h){h.g=ls(()=>{h.g=null,h.i&&(h.i=!1,Fd(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class vv extends W{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Fd(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xo(h){W.call(this),this.h=h,this.g={}}m(Xo,W);var Bd=[];function Ud(h){A(h.g,function(x,I){this.g.hasOwnProperty(I)&&It(x)},h),h.g={}}Xo.prototype.N=function(){Xo.aa.N.call(this),Ud(this)},Xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wu=s.JSON.stringify,_v=s.JSON.parse,wv=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function bu(){}bu.prototype.h=null;function zd(h){return h.h||(h.h=h.i())}function Wd(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xu(){K.call(this,"d")}m(xu,K);function Eu(){K.call(this,"c")}m(Eu,K);var Vr={},Hd=null;function us(){return Hd=Hd||new ut}Vr.La="serverreachability";function qd(h){K.call(this,Vr.La,h)}m(qd,K);function Qo(h){const x=us();yt(x,new qd(x))}Vr.STAT_EVENT="statevent";function Gd(h,x){K.call(this,Vr.STAT_EVENT,h),this.stat=x}m(Gd,K);function Bt(h){const x=us();yt(x,new Gd(x,h))}Vr.Ma="timingevent";function Kd(h,x){K.call(this,Vr.Ma,h),this.size=x}m(Kd,K);function Jo(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},x)}function Zo(){this.g=!0}Zo.prototype.xa=function(){this.g=!1};function bv(h,x,I,$,q,X){h.info(function(){if(h.g)if(X)for(var ae="",We=X.split("&"),Ut=0;Ut<We.length;Ut++){var Me=We[Ut].split("=");if(1<Me.length){var Jt=Me[0];Me=Me[1];var Zt=Jt.split("_");ae=2<=Zt.length&&Zt[1]=="type"?ae+(Jt+"="+Me+"&"):ae+(Jt+"=redacted&")}}else ae=null;else ae=X;return"XMLHTTP REQ ("+$+") [attempt "+q+"]: "+x+`
`+I+`
`+ae})}function xv(h,x,I,$,q,X,ae){h.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+q+"]: "+x+`
`+I+`
`+X+" "+ae})}function Yi(h,x,I,$){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Sv(h,I)+($?" "+$:"")})}function Ev(h,x){h.info(function(){return"TIMEOUT: "+x})}Zo.prototype.info=function(){};function Sv(h,x){if(!h.g)return x;if(!x)return null;try{var I=JSON.parse(x);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var $=I[h];if(!(2>$.length)){var q=$[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return wu(I)}catch{return x}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Su={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fs;function ds(){}m(ds,bu),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},fs=new ds;function Fr(h,x,I,$){this.j=h,this.i=x,this.l=I,this.R=$||1,this.U=new Xo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xd}function Xd(){this.i=null,this.g="",this.h=!1}var Yd={},Tu={};function Au(h,x,I){h.L=1,h.v=lh(Hn(x)),h.m=I,h.P=!0,Qd(h,null)}function Qd(h,x){h.F=Date.now(),hs(h),h.A=Hn(h.v);var I=h.A,$=h.R;Array.isArray($)||($=[String($)]),DS(I.i,"t",$),h.C=0,I=h.j.J,h.h=new Xd,h.g=ZS(h.j,I?x:null,!h.m),0<h.O&&(h.M=new vv(d(h.Y,h,h.g),h.O)),x=h.U,I=h.g,$=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Bd[0]=q.toString()),q=Bd);for(var X=0;X<q.length;X++){var ae=Te(I,q[X],$||x.handleEvent,!1,x.h||x);if(!ae)break;x.g[ae.key]=ae}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Qo(),bv(h.i,h.u,h.A,h.l,h.R,h.m)}Fr.prototype.ca=function(h){h=h.target;const x=this.M;x&&ui(h)==3?x.j():this.Y(h)},Fr.prototype.Y=function(h){try{if(h==this.g)e:{const Zt=ui(this.g);var x=this.g.Ba();const vs=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||US(this.g)))){this.J||Zt!=4||x==7||(x==8||0>=vs?Qo(3):Qo(2)),Iu(this);var I=this.g.Z();this.X=I;t:if(Pu(this)){var $=US(this.g);h="";var q=$.length,X=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),ea(this);var ae="";break t}this.h.i=new s.TextDecoder}for(x=0;x<q;x++)this.h.h=!0,h+=this.h.i.decode($[x],{stream:!(X&&x==q-1)});$.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=I==200,xv(this.i,this.u,this.A,this.l,this.R,Zt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ut=this.g;if((We=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Me=We;break t}}Me=null}if(I=Me)Yi(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ou(this,I);else{this.o=!1,this.s=3,Bt(12),si(this),ea(this);break e}}if(this.P){I=!0;let fr;for(;!this.J&&this.C<ae.length;)if(fr=Tv(this,ae),fr==Tu){Zt==4&&(this.s=4,Bt(14),I=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==Yd){this.s=4,Bt(15),Yi(this.i,this.l,ae,"[Invalid Chunk]"),I=!1;break}else Yi(this.i,this.l,fr,null),Ou(this,fr);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||ae.length!=0||this.h.h||(this.s=1,Bt(16),I=!1),this.o=this.o&&I,!I)Yi(this.i,this.l,ae,"[Invalid Chunked Response]"),si(this),ea(this);else if(0<ae.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),kv(Jt),Jt.M=!0,Bt(11))}}else Yi(this.i,this.l,ae,null),Ou(this,ae);Zt==4&&si(this),this.o&&!this.J&&(Zt==4?XS(this.j,this):(this.o=!1,hs(this)))}else I3(this.g),I==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),si(this),ea(this)}}}catch{}finally{}};function Pu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Tv(h,x){var I=h.C,$=x.indexOf(`
`,I);return $==-1?Tu:(I=Number(x.substring(I,$)),isNaN(I)?Yd:($+=1,$+I>x.length?Tu:(x=x.slice($,$+I),h.C=$+I,x)))}Fr.prototype.cancel=function(){this.J=!0,si(this)};function hs(h){h.S=Date.now()+h.I,Jd(h,h.I)}function Jd(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Jo(d(h.ba,h),x)}function Iu(h){h.B&&(s.clearTimeout(h.B),h.B=null)}Fr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ev(this.i,this.A),this.L!=2&&(Qo(),Bt(17)),si(this),this.s=2,ea(this)):Jd(this,this.S-h)};function ea(h){h.j.G==0||h.J||XS(h.j,h)}function si(h){Iu(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,Ud(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Ou(h,x){try{var I=h.j;if(I.G!=0&&(I.g==h||Cu(I.h,h))){if(!h.K&&Cu(I.h,h)&&I.G==3){try{var $=I.Da.g.parse(x)}catch{$=null}if(Array.isArray($)&&$.length==3){var q=$;if(q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)ph(I),dh(I);else break e;Cv(I),Bt(18)}}else I.za=q[1],0<I.za-I.T&&37500>q[2]&&I.F&&I.v==0&&!I.C&&(I.C=Jo(d(I.Za,I),6e3));if(1>=nh(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ta(I,11)}else if((h.K||I.g==h)&&ph(I),!w(x))for(q=I.Da.g.parse(x),x=0;x<q.length;x++){let Me=q[x];if(I.T=Me[0],Me=Me[1],I.G==2)if(Me[0]=="c"){I.K=Me[1],I.ia=Me[2];const Jt=Me[3];Jt!=null&&(I.la=Jt,I.j.info("VER="+I.la));const Zt=Me[4];Zt!=null&&(I.Aa=Zt,I.j.info("SVER="+I.Aa));const vs=Me[5];vs!=null&&typeof vs=="number"&&0<vs&&($=1.5*vs,I.L=$,I.j.info("backChannelRequestTimeoutMs_="+$)),$=I;const fr=h.g;if(fr){const gh=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var X=$.h;X.g||gh.indexOf("spdy")==-1&&gh.indexOf("quic")==-1&&gh.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ku(X,X.h),X.h=null))}if($.D){const Nv=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Nv&&($.ya=Nv,Xe($.I,$.D,Nv))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),$=I;var ae=h;if($.qa=JS($,$.J?$.ia:null,$.W),ae.K){rh($.h,ae);var We=ae,Ut=$.L;Ut&&(We.I=Ut),We.B&&(Iu(We),hs(We)),$.g=ae}else GS($);0<I.i.length&&hh(I)}else Me[0]!="stop"&&Me[0]!="close"||ta(I,7);else I.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?ta(I,7):Ov(I):Me[0]!="noop"&&I.l&&I.l.ta(Me),I.v=0)}}Qo(4)}catch{}}var Zd=class{constructor(h,x){this.g=h,this.map=x}};function eh(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function th(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nh(h){return h.h?1:h.g?h.g.size:0}function Cu(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function ku(h,x){h.g?h.g.add(x):h.h=x}function rh(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}eh.prototype.cancel=function(){if(this.i=ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ih(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const I of h.g.values())x=x.concat(I.D);return x}return g(h.i)}function ps(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var x=[],I=h.length,$=0;$<I;$++)x.push(h[$]);return x}x=[],I=0;for($ in h)x[I++]=h[$];return x}function Av(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var x=[];h=h.length;for(var I=0;I<h;I++)x.push(I);return x}x=[],I=0;for(const $ in h)x[I++]=$;return x}}}function oh(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var I=Av(h),$=ps(h),q=$.length,X=0;X<q;X++)x.call(void 0,$[X],I&&I[X],h)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pv(h,x){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var $=h[I].indexOf("="),q=null;if(0<=$){var X=h[I].substring(0,$);q=h[I].substring($+1)}else X=h[I];x(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function li(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof li){this.h=h.h,ah(this,h.j),this.o=h.o,this.g=h.g,sh(this,h.s),this.l=h.l;var x=h.i,I=new Mu;I.i=x.i,x.g&&(I.g=new Map(x.g),I.h=x.h),kS(this,I),this.m=h.m}else h&&(x=String(h).match(ms))?(this.h=!1,ah(this,x[1]||"",!0),this.o=Nu(x[2]||""),this.g=Nu(x[3]||"",!0),sh(this,x[4]),this.l=Nu(x[5]||"",!0),kS(this,x[6]||"",!0),this.m=Nu(x[7]||"")):(this.h=!1,this.i=new Mu(null,this.h))}li.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Ru(x,NS,!0),":");var I=this.g;return(I||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Ru(x,NS,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(Ru(I,I.charAt(0)=="/"?v3:y3,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",Ru(I,w3)),h.join("")};function Hn(h){return new li(h)}function ah(h,x,I){h.j=I?Nu(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function sh(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function kS(h,x,I){x instanceof Mu?(h.i=x,b3(h.i,h.h)):(I||(x=Ru(x,_3)),h.i=new Mu(x,h.h))}function Xe(h,x,I){h.i.set(x,I)}function lh(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Nu(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ru(h,x,I){return typeof h=="string"?(h=encodeURI(h).replace(x,g3),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function g3(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var NS=/[#\/\?@]/g,y3=/[#\?:]/g,v3=/[#\?]/g,_3=/[#\?@]/g,w3=/#/g;function Mu(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Qi(h){h.g||(h.g=new Map,h.h=0,h.i&&Pv(h.i,function(x,I){h.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}t=Mu.prototype,t.add=function(h,x){Qi(this),this.i=null,h=gs(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(x),this.h+=1,this};function RS(h,x){Qi(h),x=gs(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function MS(h,x){return Qi(h),x=gs(h,x),h.g.has(x)}t.forEach=function(h,x){Qi(this),this.g.forEach(function(I,$){I.forEach(function(q){h.call(x,q,$,this)},this)},this)},t.na=function(){Qi(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),I=[];for(let $=0;$<x.length;$++){const q=h[$];for(let X=0;X<q.length;X++)I.push(x[$])}return I},t.V=function(h){Qi(this);let x=[];if(typeof h=="string")MS(this,h)&&(x=x.concat(this.g.get(gs(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)x=x.concat(h[I])}return x},t.set=function(h,x){return Qi(this),this.i=null,h=gs(this,h),MS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function DS(h,x,I){RS(h,x),0<I.length&&(h.i=null,h.g.set(gs(h,x),g(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var I=0;I<x.length;I++){var $=x[I];const X=encodeURIComponent(String($)),ae=this.V($);for($=0;$<ae.length;$++){var q=X;ae[$]!==""&&(q+="="+encodeURIComponent(String(ae[$]))),h.push(q)}}return this.i=h.join("&")};function gs(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function b3(h,x){x&&!h.j&&(Qi(h),h.i=null,h.g.forEach(function(I,$){var q=$.toLowerCase();$!=q&&(RS(this,$),DS(this,q,I))},h)),h.j=x}function x3(h,x){const I=new Zo;if(s.Image){const $=new Image;$.onload=p(Ji,I,"TestLoadImage: loaded",!0,x,$),$.onerror=p(Ji,I,"TestLoadImage: error",!1,x,$),$.onabort=p(Ji,I,"TestLoadImage: abort",!1,x,$),$.ontimeout=p(Ji,I,"TestLoadImage: timeout",!1,x,$),s.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=h}else x(!1)}function E3(h,x){const I=new Zo,$=new AbortController,q=setTimeout(()=>{$.abort(),Ji(I,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:$.signal}).then(X=>{clearTimeout(q),X.ok?Ji(I,"TestPingServer: ok",!0,x):Ji(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),Ji(I,"TestPingServer: error",!1,x)})}function Ji(h,x,I,$,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),$(I)}catch{}}function S3(){this.g=new wv}function T3(h,x,I){const $=I||"";try{oh(h,function(q,X){let ae=q;u(q)&&(ae=wu(q)),x.push($+X+"="+encodeURIComponent(ae))})}catch(q){throw x.push($+"type="+encodeURIComponent("_badmap")),q}}function uh(h){this.l=h.Ub||null,this.j=h.eb||!1}m(uh,bu),uh.prototype.g=function(){return new ch(this.l,this.j)},uh.prototype.i=function(h){return function(){return h}}({});function ch(h,x){ut.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ch,ut),t=ch.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,$u(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||s).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Du(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,$u(this)),this.g&&(this.readyState=3,$u(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$S(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function $S(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Du(this):$u(this),this.readyState==3&&$S(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Du(this))},t.Qa=function(h){this.g&&(this.response=h,Du(this))},t.ga=function(){this.g&&Du(this)};function Du(h){h.readyState=4,h.l=null,h.j=null,h.v=null,$u(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=x.next();return h.join(`\r
`)};function $u(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jS(h){let x="";return A(h,function(I,$){x+=$,x+=":",x+=I,x+=`\r
`}),x}function Iv(h,x,I){e:{for($ in I){var $=!1;break e}$=!0}$||(I=jS(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):Xe(h,x,I))}function ct(h){ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ct,ut);var A3=/^https?$/i,P3=["POST","PUT"];t=ct.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,I,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fs.g(),this.v=this.o?zd(this.o):zd(fs),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(X){LS(this,X);return}if(h=I||"",I=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var q in $)I.set(q,$[q]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const X of $.keys())I.set(X,$.get(X));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(I.keys()).find(X=>X.toLowerCase()=="content-type"),q=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(P3,x,void 0))||$||q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of I)this.g.setRequestHeader(X,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BS(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){LS(this,X)}};function LS(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,VS(h),fh(h)}function VS(h){h.A||(h.A=!0,yt(h,"complete"),yt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,yt(this,"complete"),yt(this,"abort"),fh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fh(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?FS(this):this.bb())},t.bb=function(){FS(this)};function FS(h){if(h.h&&typeof a<"u"&&(!h.v[1]||ui(h)!=4||h.Z()!=2)){if(h.u&&ui(h)==4)ls(h.Ea,0,h);else if(yt(h,"readystatechange"),ui(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var $;if($=ae===0){var q=String(h.D).match(ms)[1]||null;!q&&s.self&&s.self.location&&(q=s.self.location.protocol.slice(0,-1)),$=!A3.test(q?q.toLowerCase():"")}I=$}if(I)yt(h,"complete"),yt(h,"success");else{h.m=6;try{var X=2<ui(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",VS(h)}}finally{fh(h)}}}}function fh(h,x){if(h.g){BS(h);const I=h.g,$=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||yt(h,"ready");try{I.onreadystatechange=$}catch{}}}function BS(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ui(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),_v(x)}};function US(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function I3(h){const x={};h=(h.g&&2<=ui(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<h.length;$++){if(w(h[$]))continue;var I=C(h[$]);const q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const X=x[q]||[];x[q]=X,X.push(I)}b(x,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ju(h,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||x}function zS(h){this.Aa=0,this.i=[],this.j=new Zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ju("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ju("baseRetryDelayMs",5e3,h),this.cb=ju("retryDelaySeedMs",1e4,h),this.Wa=ju("forwardChannelMaxRetries",2,h),this.wa=ju("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new eh(h&&h.concurrentRequestLimit),this.Da=new S3,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zS.prototype,t.la=8,t.G=1,t.connect=function(h,x,I,$){Bt(0),this.W=h,this.H=x||{},I&&$!==void 0&&(this.H.OSID=I,this.H.OAID=$),this.F=this.X,this.I=JS(this,null,this.W),hh(this)};function Ov(h){if(WS(h),h.G==3){var x=h.U++,I=Hn(h.I);if(Xe(I,"SID",h.K),Xe(I,"RID",x),Xe(I,"TYPE","terminate"),Lu(h,I),x=new Fr(h,h.j,x),x.L=2,x.v=lh(Hn(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(x.v.toString(),"")}catch{}!I&&s.Image&&(new Image().src=x.v,I=!0),I||(x.g=ZS(x.j,null),x.g.ea(x.v)),x.F=Date.now(),hs(x)}QS(h)}function dh(h){h.g&&(kv(h),h.g.cancel(),h.g=null)}function WS(h){dh(h),h.u&&(s.clearTimeout(h.u),h.u=null),ph(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function hh(h){if(!th(h.h)&&!h.s){h.s=!0;var x=h.Ga;F||U(),L||(F(),L=!0),B.add(x,h),h.B=0}}function O3(h,x){return nh(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Jo(d(h.Ga,h,x),YS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new Fr(this,this.j,h);let X=this.o;if(this.S&&(X?(X=T(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var $=this.i[I];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(x+=$,4096<x){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=qS(this,q,x),I=Hn(this.I),Xe(I,"RID",h),Xe(I,"CVER",22),this.D&&Xe(I,"X-HTTP-Session-Id",this.D),Lu(this,I),X&&(this.O?x="headers="+encodeURIComponent(String(jS(X)))+"&"+x:this.m&&Iv(I,this.m,X)),ku(this.h,q),this.Ua&&Xe(I,"TYPE","init"),this.P?(Xe(I,"$req",x),Xe(I,"SID","null"),q.T=!0,Au(q,I,null)):Au(q,I,x),this.G=2}}else this.G==3&&(h?HS(this,h):this.i.length==0||th(this.h)||HS(this))};function HS(h,x){var I;x?I=x.l:I=h.U++;const $=Hn(h.I);Xe($,"SID",h.K),Xe($,"RID",I),Xe($,"AID",h.T),Lu(h,$),h.m&&h.o&&Iv($,h.m,h.o),I=new Fr(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),x&&(h.i=x.D.concat(h.i)),x=qS(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ku(h.h,I),Au(I,$,x)}function Lu(h,x){h.H&&A(h.H,function(I,$){Xe(x,$,I)}),h.l&&oh({},function(I,$){Xe(x,$,I)})}function qS(h,x,I){I=Math.min(h.i.length,I);var $=h.l?d(h.l.Na,h.l,h):null;e:{var q=h.i;let X=-1;for(;;){const ae=["count="+I];X==-1?0<I?(X=q[0].g,ae.push("ofs="+X)):X=0:ae.push("ofs="+X);let We=!0;for(let Ut=0;Ut<I;Ut++){let Me=q[Ut].g;const Jt=q[Ut].map;if(Me-=X,0>Me)X=Math.max(0,q[Ut].g-100),We=!1;else try{T3(Jt,ae,"req"+Me+"_")}catch{$&&$(Jt)}}if(We){$=ae.join("&");break e}}}return h=h.i.splice(0,I),x.D=h,$}function GS(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;F||U(),L||(F(),L=!0),B.add(x,h),h.v=0}}function Cv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Jo(d(h.Fa,h),YS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,KS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Jo(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),dh(this),KS(this))};function kv(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function KS(h){h.g=new Fr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=Hn(h.qa);Xe(x,"RID","rpc"),Xe(x,"SID",h.K),Xe(x,"AID",h.T),Xe(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(x,"TO",h.ja),Xe(x,"TYPE","xmlhttp"),Lu(h,x),h.m&&h.o&&Iv(x,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=lh(Hn(x)),I.m=null,I.P=!0,Qd(I,h)}t.Za=function(){this.C!=null&&(this.C=null,dh(this),Cv(this),Bt(19))};function ph(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function XS(h,x){var I=null;if(h.g==x){ph(h),kv(h),h.g=null;var $=2}else if(Cu(h.h,x))I=x.D,rh(h.h,x),$=1;else return;if(h.G!=0){if(x.o)if($==1){I=x.m?x.m.length:0,x=Date.now()-x.F;var q=h.B;$=us(),yt($,new Kd($,I)),hh(h)}else GS(h);else if(q=x.s,q==3||q==0&&0<x.X||!($==1&&O3(h,x)||$==2&&Cv(h)))switch(I&&0<I.length&&(x=h.h,x.i=x.i.concat(I)),q){case 1:ta(h,5);break;case 4:ta(h,10);break;case 3:ta(h,6);break;default:ta(h,2)}}}function YS(h,x){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*x}function ta(h,x){if(h.j.info("Error code "+x),x==2){var I=d(h.fb,h),$=h.Xa;const q=!$;$=new li($||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ah($,"https"),lh($),q?x3($.toString(),I):E3($.toString(),I)}else Bt(2);h.G=0,h.l&&h.l.sa(x),QS(h),WS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function QS(h){if(h.G=0,h.ka=[],h.l){const x=ih(h.h);(x.length!=0||h.i.length!=0)&&(y(h.ka,x),y(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function JS(h,x,I){var $=I instanceof li?Hn(I):new li(I);if($.g!="")x&&($.g=x+"."+$.g),sh($,$.s);else{var q=s.location;$=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;var X=new li(null);$&&ah(X,$),x&&(X.g=x),q&&sh(X,q),I&&(X.l=I),$=X}return I=h.D,x=h.ya,I&&x&&Xe($,I,x),Xe($,"VER",h.la),Lu(h,$),$}function ZS(h,x,I){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new ct(new uh({eb:I})):new ct(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eT(){}t=eT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mh(){}mh.prototype.g=function(h,x){return new Cn(h,x)};function Cn(h,x){ut.call(this),this.g=new zS(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!w(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!w(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new ys(this)}m(Cn,ut),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Ov(this.g)},Cn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=wu(h),h=I);x.i.push(new Zd(x.Ya++,h)),x.G==3&&hh(x)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Ov(this.g),delete this.g,Cn.aa.N.call(this)};function tT(h){xu.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const I in x){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}m(tT,xu);function nT(){Eu.call(this),this.status=1}m(nT,Eu);function ys(h){this.g=h}m(ys,eT),ys.prototype.ua=function(){yt(this.g,"a")},ys.prototype.ta=function(h){yt(this.g,new tT(h))},ys.prototype.sa=function(h){yt(this.g,new nT)},ys.prototype.ra=function(){yt(this.g,"b")},mh.prototype.createWebChannel=mh.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,$$=function(){return new mh},D$=function(){return us()},M$=Vr,bw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,Ep=cs,Su.COMPLETE="complete",R$=Su,Wd.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",ut.prototype.listen=ut.prototype.K,mc=Wd,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,N$=ct}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const UP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new cy("@firebase/firestore");function Xu(){return $a.logLevel}function me(t,...e){if($a.logLevel<=Oe.DEBUG){const n=e.map(CE);$a.debug(`Firestore (${ru}): ${t}`,...n)}}function Di(t,...e){if($a.logLevel<=Oe.ERROR){const n=e.map(CE);$a.error(`Firestore (${ru}): ${t}`,...n)}}function xl(t,...e){if($a.logLevel<=Oe.WARN){const n=e.map(CE);$a.warn(`Firestore (${ru}): ${t}`,...n)}}function CE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function Fe(t,e){t||we()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class hX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pX{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ko,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ko)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new j$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new on(e)}}class mX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new yX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_X(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Tt(0,0))}static max(){return new be(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends wf{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const wX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends wf{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return wX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}function bX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new jo(i,ye.empty(),e)}function xX(t){return new jo(t.readTime,t.key,-1)}class jo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jo(be.min(),ye.empty(),-1)}static max(){return new jo(be.max(),ye.empty(),-1)}}function EX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==SX)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function AX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kE.oe=-1;function hy(t){return t==null}function _m(t){return t===0&&1/t==-1/0}function PX(t){return typeof t=="number"&&Number.isInteger(t)&&!_m(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function iu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=o??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WP(this.data.getIterator())}getIteratorFrom(e){return new WP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class WP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new Xt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new F$("Invalid base64 string: "+o):o}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const IX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=IX.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RE(t){const e=t.mapValue.fields.__previous_value__;return NE(e)?RE(e):e}function bf(t){const e=Lo(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class xf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh={mapValue:{}};function La(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NE(t)?4:kX(t)?9007199254740991:CX(t)?10:11:we()}function ri(t,e){if(t===e)return!0;const n=La(t);if(n!==La(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bf(t).isEqual(bf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Lo(i.timestampValue),s=Lo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ja(i.bytesValue).isEqual(ja(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return pt(i.geoPointValue.latitude)===pt(o.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return pt(i.integerValue)===pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=pt(i.doubleValue),s=pt(o.doubleValue);return a===s?_m(a)===_m(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(zP(a)!==zP(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!ri(a[l],s[l])))return!1;return!0}(t,e);default:return we()}}function Ef(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function Sl(t,e){if(t===e)return 0;const n=La(t),r=La(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=pt(o.integerValue||o.doubleValue),l=pt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return HP(t.timestampValue,e.timestampValue);case 4:return HP(bf(t),bf(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ja(o),l=ja(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=De(s[u],l[u]);if(c!==0)return c}return De(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=De(pt(o.latitude),pt(a.latitude));return s!==0?s:De(pt(o.longitude),pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qP(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=De(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:qP(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===qh.mapValue&&a===qh.mapValue)return 0;if(o===qh.mapValue)return 1;if(a===qh.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=De(l[f],c[f]);if(d!==0)return d;const p=Sl(s[l[f]],u[c[f]]);if(p!==0)return p}return De(l.length,c.length)}(t.mapValue,e.mapValue);default:throw we()}}function HP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Lo(t),r=Lo(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function qP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Sl(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function Tl(t){return xw(t)}function xw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ja(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=xw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${xw(n.fields[a])}`;return i+"}"}(t.mapValue):we()}function GP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ew(t){return!!t&&"integerValue"in t}function ME(t){return!!t&&"arrayValue"in t}function KP(t){return!!t&&"nullValue"in t}function XP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sp(t){return!!t&&"mapValue"in t}function CX(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return iu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Rc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){iu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Yn(Rc(this.value))}}function B$(t){const e=[];return iu(t.fields,(n,r)=>{const i=new qt([n]);if(Sp(r)){const o=B$(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new sn(e,0,be.min(),be.min(),be.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new sn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new sn(e,2,n,be.min(),be.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,be.min(),be.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.position=e,this.inclusive=n}}function YP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=Sl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n="asc"){this.field=e,this.dir=n}}function NX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${}class Et extends U${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MX(e,n,r):n==="array-contains"?new jX(e,r):n==="in"?new LX(e,r):n==="not-in"?new VX(e,r):n==="array-contains-any"?new FX(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DX(e,r):new $X(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sl(n,this.value)):n!==null&&La(this.value)===La(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends U${constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rr(e,n)}matches(e){return z$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function z$(t){return t.op==="and"}function W$(t){return RX(t)&&z$(t)}function RX(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function Sw(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(W$(t))return t.filters.map(e=>Sw(e)).join(",");{const e=t.filters.map(n=>Sw(n)).join(",");return`${t.op}(${e})`}}function H$(t,e){return t instanceof Et?function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&ri(r.value,i.value)}(t,e):t instanceof Rr?function(r,i){return i instanceof Rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&H$(a,i.filters[s]),!0):!1}(t,e):void we()}function q$(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(q$).join(" ,")+"}"}(t):"Filter"}class MX extends Et{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class DX extends Et{constructor(e,n){super(e,"in",n),this.keys=G$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $X extends Et{constructor(e,n){super(e,"not-in",n),this.keys=G$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class jX extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ME(n)&&Ef(n.arrayValue,this.value)}}class LX extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ef(this.value.arrayValue,n)}}class VX extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ef(this.value.arrayValue,n)}}class FX extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ME(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ef(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function JP(t,e=null,n=[],r=[],i=null,o=null,a=null){return new BX(t,e,n,r,i,o,a)}function DE(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tl(r)).join(",")),e.ue=n}return e.ue}function $E(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QP(t.startAt,e.startAt)&&QP(t.endAt,e.endAt)}function Tw(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UX(t,e,n,r,i,o,a,s){return new ou(t,e,n,r,i,o,a,s)}function jE(t){return new ou(t)}function ZP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K$(t){return t.collectionGroup!==null}function Mc(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Xt(qt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sf(o,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new Sf(qt.keyField(),r))}return e.ce}function Yr(t){const e=xe(t);return e.le||(e.le=zX(e,Mc(t))),e.le}function zX(t,e){if(t.limitType==="F")return JP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sf(i.field,o)});const n=t.endAt?new wm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wm(t.startAt.position,t.startAt.inclusive):null;return JP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Aw(t,e){const n=t.filters.concat([e]);return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pw(t,e,n){return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function py(t,e){return $E(Yr(t),Yr(e))&&t.limitType===e.limitType}function X$(t){return`${DE(Yr(t))}|lt:${t.limitType}`}function Ts(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>q$(i)).join(", ")}]`),hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Tl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Tl(i)).join(",")),`Target(${r})`}(Yr(t))}; limitType=${t.limitType})`}function my(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=YP(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Mc(r),i)||r.endAt&&!function(a,s,l){const u=YP(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Mc(r),i))}(t,e)}function WX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y$(t){return(e,n)=>{let r=!1;for(const i of Mc(t)){const o=HX(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function HX(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Sl(l,u):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){iu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return V$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=new lt(ye.comparator);function $i(){return qX}const Q$=new lt(ye.comparator);function gc(...t){let e=Q$;for(const n of t)e=e.insert(n.key,n);return e}function J$(t){let e=Q$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ma(){return Dc()}function Z$(){return Dc()}function Dc(){return new au(t=>t.toString(),(t,e)=>t.isEqual(e))}const GX=new lt(ye.comparator),KX=new Xt(ye.comparator);function Pe(...t){let e=KX;for(const n of t)e=e.add(n);return e}const XX=new Xt(De);function YX(){return XX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_m(e)?"-0":e}}function ej(t){return{integerValue:""+t}}function QX(t,e){return PX(e)?ej(e):LE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._=void 0}}function JX(t,e,n){return t instanceof bm?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&NE(o)&&(o=RE(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Tf?nj(t,e):t instanceof Af?rj(t,e):function(i,o){const a=tj(i,o),s=eI(a)+eI(i.Pe);return Ew(a)&&Ew(i.Pe)?ej(s):LE(i.serializer,s)}(t,e)}function ZX(t,e,n){return t instanceof Tf?nj(t,e):t instanceof Af?rj(t,e):n}function tj(t,e){return t instanceof xm?function(r){return Ew(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bm extends gy{}class Tf extends gy{constructor(e){super(),this.elements=e}}function nj(t,e){const n=ij(e);for(const r of t.elements)n.some(i=>ri(i,r))||n.push(r);return{arrayValue:{values:n}}}class Af extends gy{constructor(e){super(),this.elements=e}}function rj(t,e){let n=ij(e);for(const r of t.elements)n=n.filter(i=>!ri(i,r));return{arrayValue:{values:n}}}class xm extends gy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function eI(t){return pt(t.integerValue||t.doubleValue)}function ij(t){return ME(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Tf&&i instanceof Tf||r instanceof Af&&i instanceof Af?El(r.elements,i.elements,ri):r instanceof xm&&i instanceof xm?ri(r.Pe,i.Pe):r instanceof bm&&i instanceof bm}(t.transform,e.transform)}class tY{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yy{}function oj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VE(t.key,Or.none()):new bd(t.key,t.data,Or.none());{const n=t.data,r=Yn.empty();let i=new Xt(qt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Za(t.key,r,new Tr(i.toArray()),Or.none())}}function nY(t,e,n){t instanceof bd?function(i,o,a){const s=i.value.clone(),l=nI(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(i,o,a){if(!Tp(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=nI(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(aj(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function $c(t,e,n,r){return t instanceof bd?function(o,a,s,l){if(!Tp(o.precondition,a))return s;const u=o.value.clone(),c=rI(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Za?function(o,a,s,l){if(!Tp(o.precondition,a))return s;const u=rI(o.fieldTransforms,l,a),c=a.data;return c.setAll(aj(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Tp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function rY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tj(r.transform,i||null);o!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,o))}return n||null}function tI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&El(r,i,(o,a)=>eY(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bd extends yy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Za extends yy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nI(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,ZX(a,s,n[i]))}return r}function rI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,JX(o,a,e))}return r}class VE extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iY extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&nY(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Z$();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=oj(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>tI(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>tI(n,r))}}class FE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return GX}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new FE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ke;function lY(t){switch(t){default:return we();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function sj(t){if(t===void 0)return Di("GRPC error has no .code"),Z.UNKNOWN;switch(t){case vt.OK:return Z.OK;case vt.CANCELLED:return Z.CANCELLED;case vt.UNKNOWN:return Z.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Z.INTERNAL;case vt.UNAVAILABLE:return Z.UNAVAILABLE;case vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case vt.NOT_FOUND:return Z.NOT_FOUND;case vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case vt.ABORTED:return Z.ABORTED;case vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case vt.DATA_LOSS:return Z.DATA_LOSS;default:return we()}}(ke=vt||(vt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY=new Sa([4294967295,4294967295],0);function iI(t){const e=uY().encode(t),n=new k$;return n.update(e),new Uint8Array(n.digest())}function oI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sa([n,r],0),new Sa([i,o],0)]}class BE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Sa.fromNumber(r)));return i.compare(cY)===1&&(i=new Sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=iI(e),[r,i]=oI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new BE(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=iI(e),[r,i]=oI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vy(be.min(),i,new lt(De),$i(),Pe())}}class xd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xd(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class lj{constructor(e,n){this.targetId=e,this.me=n}}class uj{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aI{constructor(){this.fe=0,this.ge=lI(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new xd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=lI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fY{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=sI(),this.Qe=new lt(De)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Tw(o))if(r===0){const a=new ye(o.path);this.Ue(n,a,sn.newNoDocument(a,be.min()))}else Fe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ja(r).toUint8Array()}catch(l){if(l instanceof F$)return xl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new BE(a,i,o)}catch(l){return xl(l instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Tw(s.target)){const l=new ye(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,sn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Pe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new vy(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=sI(),this.Qe=new lt(De),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new aI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(De),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new aI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sI(){return new lt(ye.comparator)}function lI(){return new lt(ye.comparator)}const dY={asc:"ASCENDING",desc:"DESCENDING"},hY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pY={and:"AND",or:"OR"};class mY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iw(t,e){return t.useProto3Json||hy(e)?e:{value:e}}function Em(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gY(t,e){return Em(t,e.toTimestamp())}function Qr(t){return Fe(!!t),be.fromTimestamp(function(n){const r=Lo(n);return new Tt(r.seconds,r.nanos)}(t))}function UE(t,e){return Ow(t,e).canonicalString()}function Ow(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fj(t){const e=Ze.fromString(t);return Fe(gj(e)),e}function Cw(t,e){return UE(t.databaseId,e.path)}function S0(t,e){const n=fj(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(hj(n))}function dj(t,e){return UE(t.databaseId,e)}function yY(t){const e=fj(t);return e.length===4?Ze.emptyPath():hj(e)}function kw(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hj(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uI(t,e,n){return{name:Cw(t,e),fields:n.value.mapValue.fields}}function vY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Fe(c===void 0||typeof c=="string"),Qt.fromBase64String(c||"")):(Fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?Z.UNKNOWN:sj(u.code);return new pe(c,u.message||"")}(a);n=new uj(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=S0(t,r.document.name),o=Qr(r.document.updateTime),a=r.document.createTime?Qr(r.document.createTime):be.min(),s=new Yn({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ap(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=S0(t,r.document),o=r.readTime?Qr(r.readTime):be.min(),a=sn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Ap([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=S0(t,r.document),o=r.removedTargetIds||[];n=new Ap([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new sY(i,o),s=r.targetId;n=new lj(s,a)}}return n}function _Y(t,e){let n;if(e instanceof bd)n={update:uI(t,e.key,e.value)};else if(e instanceof VE)n={delete:Cw(t,e.key)};else if(e instanceof Za)n={update:uI(t,e.key,e.data),updateMask:IY(e.fieldMask)};else{if(!(e instanceof iY))return we();n={verify:Cw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof bm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Tf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Af)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof xm)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:gY(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(t,e.precondition)),n}function wY(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Qr(i.updateTime):Qr(o);return a.isEqual(be.min())&&(a=Qr(o)),new tY(a,i.transformResults||[])}(n,e))):[]}function bY(t,e){return{documents:[dj(t,e.path)]}}function xY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dj(t,i);const o=function(u){if(u.length!==0)return mj(Rr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:As(d.field),direction:TY(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Iw(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function EY(t){let e=yY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=pj(f);return d instanceof Rr&&W$(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(m){return new Sf(Ps(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,hy(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new wm(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new wm(p,d)}(n.endAt)),UX(e,i,a,o,s,"F",l,u)}function SY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ps(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ps(n.unaryFilter.field);return Et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ps(n.unaryFilter.field);return Et.create(a,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(Ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>pj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function TY(t){return dY[t]}function AY(t){return hY[t]}function PY(t){return pY[t]}function As(t){return{fieldPath:t.canonicalString()}}function Ps(t){return qt.fromServerFormat(t.fieldPath)}function mj(t){return t instanceof Et?function(n){if(n.op==="=="){if(XP(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(KP(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XP(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(KP(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:AY(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(i=>mj(i));return r.length===1?r[0]:{compositeFilter:{op:PY(n.op),filters:r}}}(t):we()}function IY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,i,o=be.min(),a=be.min(),s=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e){this.ct=e}}function CY(t){const e=EY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(){this.un=new NY}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(jo.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(jo.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class NY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xt(Ze.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Al(0)}static kn(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(){this.changes=new au(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$c(r.mutation,i,Tr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=ma();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=gc();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ma();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=$i();const a=Dc(),s=function(){return Dc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Za)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),$c(c.mutation,u,c.mutation.getFieldMask(),Tt.now())):a.set(u.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new MY(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Dc();let i=new lt((a,s)=>a-s),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Tr.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Pe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=Z$();c.forEach(d=>{if(!o.has(d)){const p=oj(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(ma());let s=-1,l=o;return a.next(u=>te.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?te.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Pe())).next(c=>({batchId:s,changes:J$(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=gc();return this.indexManager.getCollectionParents(e,o).next(s=>te.forEach(s,l=>{const u=function(f,d){return new ou(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,sn.newInvalidDocument(c)))});let s=gc();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&$c(c.mutation,u,Tr.empty(),Tt.now()),my(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:CY(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(){this.overlays=new lt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ma();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=ma(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ma(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ma(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return te.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new aY(n,r));let o=this.Ir.get(n);o===void 0&&(o=Pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Tr=new Xt($t.Er),this.dr=new Xt($t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new Ze([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new Ze([])),r=new $t(n,e),i=new $t(n,e+1);let o=Pe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new $t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt($t.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oY(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new $t(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(De);return n.forEach(i=>{const o=new $t(i,0),a=new $t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new $t(new ye(o),0);let s=new Xt(De);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),te.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $t(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(e){this.Mr=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$i();const a=n.path,s=new ye(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||EX(xX(c),r)<=0||(i.has(c.key)||my(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){we()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BY(this)}getSize(e){return te.resolve(this.size)}}class BY extends RY{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.persistence=e,this.Nr=new au(n=>DE(n),$E),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zE,this.targetCount=0,this.kr=Al.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kE(0),this.Kr=!1,this.Kr=!0,this.$r=new LY,this.referenceDelegate=e(this),this.Ur=new UY(this),this.indexManager=new kY,this.remoteDocumentCache=function(i){return new FY(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new OY(n),this.Gr=new $Y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new VY(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new WY(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WY extends TX{constructor(e){super(),this.currentSequenceNumber=e}}class WE{constructor(e){this.persistence=e,this.Jr=new zE,this.Yr=null}static Zr(e){return new WE(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new HE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Aq()?8:AX(fn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new HY;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Xu()<=Oe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Xu()<=Oe.DEBUG&&me("QueryEngine","Query:",Ts(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xu()<=Oe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):te.resolve())}Yi(e,n){if(ZP(n))return te.resolve(null);let r=Yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pw(n,null,"F"),r=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Pe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,Pw(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return ZP(n)||i.isEqual(be.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?te.resolve(null):(Xu()<=Oe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ts(n)),this.rs(e,a,n,bX(i,-1)).next(s=>s))})}ts(e,n){let r=new Xt(Y$(e));return n.forEach((i,o)=>{my(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Xu()<=Oe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ts(n)),this.Ji.getDocumentsMatchingQuery(e,n,jo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new lt(De),this._s=new au(o=>DE(o),$E),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DY(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function KY(t,e,n,r){return new GY(t,e,n,r)}async function yj(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Pe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function XY(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=te.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const y=u.docVersions.get(m);Fe(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Pe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vj(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YY(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,y,v){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=$i(),u=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(QY(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(be.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return te.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function QY(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=$i();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):me("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function JY(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZY(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new yo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Nw(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!wd(a))throw a;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function cI(t,e,n){const r=xe(t);let i=be.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=xe(l),d=f._s.get(c);return d!==void 0?te.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,a,Yr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:be.min(),n?o:Pe())).next(s=>(eQ(r,WX(e),s),{documents:s,Ts:o})))}function eQ(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class fI{constructor(){this.activeTargetIds=YX()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tQ{constructor(){this.so=new fI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function T0(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class oQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=T0(),l=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(me("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw xl("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=rQ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=T0();return new Promise((a,s)=>{const l=new N$;l.setWithCredentials(!0),l.listenOnce(R$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ep.NO_ERROR:const c=l.getResponseJson();me(nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case Ep.TIMEOUT:me(nn,`RPC '${e}' ${o} timed out`),s(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const f=l.getStatus();if(me(nn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(v)>=0?v:Z.UNKNOWN}(p.status);s(new pe(m,p.message))}else s(new pe(Z.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{me(nn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);me(nn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=T0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$$(),s=D$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");me(nn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let d=!1,p=!1;const m=new iQ({Io:y=>{p?me(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(me(nn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),me(nn,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},To:()=>f.close()}),g=(y,v,w)=>{y.listen(v,_=>{try{w(_)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,mc.EventType.OPEN,()=>{p||(me(nn,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,mc.EventType.CLOSE,()=>{p||(p=!0,me(nn,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,mc.EventType.ERROR,y=>{p||(p=!0,xl(nn,`RPC '${e}' stream ${i} transport errored:`,y),m.So(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),g(f,mc.EventType.MESSAGE,y=>{var v;if(!p){const w=y.data[0];Fe(!!w);const _=w,S=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(S){me(nn,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let A=function(P){const O=vt[P];if(O!==void 0)return sj(O)}(E),b=S.message;A===void 0&&(A=Z.INTERNAL,b="Unknown error status: "+E+" with message "+S.message),p=!0,m.So(new pe(A,b)),f.close()}else me(nn,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),g(s,M$.STAT_EVENT,y=>{y.stat===bw.PROXY?me(nn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===bw.NOPROXY&&me(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function A0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){return new mY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _j(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aQ extends wj{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vY(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?Qr(a.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=kw(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Tw(l)?{documents:bY(o,l)}:{query:xY(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=cj(o,a.resumeToken);const u=Iw(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(be.min())>0){s.readTime=Em(o,a.snapshotVersion.toTimestamp());const u=Iw(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=SY(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=kw(this.serializer),n.removeTarget=e,this.a_(n)}}class sQ extends wj{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wY(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=kw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_Y(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Ow(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Z.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Ow(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Z.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{es(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await Ed(u),u.q_.set("Unknown"),u.L_.delete(4),await wy(u)}(this))})}),this.q_=new uQ(r,i)}}async function wy(t){if(es(t))for(const e of t.B_)await e(!0)}async function Ed(t){for(const e of t.B_)await e(!1)}function bj(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),XE(n)?KE(n):su(n).r_()&&GE(n,e))}function qE(t,e){const n=xe(t),r=su(n);n.N_.delete(e),r.r_()&&xj(n,e),n.N_.size===0&&(r.r_()?r.o_():es(n)&&n.q_.set("Unknown"))}function GE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).A_(e)}function xj(t,e){t.Q_.xe(e),su(t).R_(e)}function KE(t){t.Q_=new fY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),su(t).start(),t.q_.v_()}function XE(t){return es(t)&&!su(t).n_()&&t.N_.size>0}function es(t){return xe(t).L_.size===0}function Ej(t){t.Q_=void 0}async function fQ(t){t.q_.set("Online")}async function dQ(t){t.N_.forEach((e,n)=>{GE(t,e)})}async function hQ(t,e){Ej(t),XE(t)?(t.q_.M_(e),KE(t)):t.q_.set("Unknown")}async function pQ(t,e,n){if(t.q_.set("Online"),e instanceof uj&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sm(t,r)}else if(e instanceof Ap?t.Q_.Ke(e):e instanceof lj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await vj(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Qt.EMPTY_BYTE_STRING,c.snapshotVersion)),xj(o,l);const f=new yo(c.target,l,u,c.sequenceNumber);GE(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await Sm(t,r)}}async function Sm(t,e,n){if(!wd(e))throw e;t.L_.add(1),await Ed(t),t.q_.set("Offline"),n||(n=()=>vj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wy(t)})}function Sj(t,e){return e().catch(n=>Sm(t,n,e))}async function by(t){const e=xe(t),n=Vo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mQ(e);)try{const i=await JY(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,gQ(e,i)}catch(i){await Sm(e,i)}Tj(e)&&Aj(e)}function mQ(t){return es(t)&&t.O_.length<10}function gQ(t,e){t.O_.push(e);const n=Vo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Tj(t){return es(t)&&!Vo(t).n_()&&t.O_.length>0}function Aj(t){Vo(t).start()}async function yQ(t){Vo(t).p_()}async function vQ(t){const e=Vo(t);for(const n of t.O_)e.m_(n.mutations)}async function _Q(t,e,n){const r=t.O_.shift(),i=FE.from(r,e,n);await Sj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await by(t)}async function wQ(t,e){e&&Vo(t).V_&&await async function(r,i){if(function(a){return lY(a)&&a!==Z.ABORTED}(i.code)){const o=r.O_.shift();Vo(r).s_(),await Sj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await by(r)}}(t,e),Tj(t)&&Aj(t)}async function hI(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=es(n);n.L_.add(3),await Ed(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wy(n)}async function bQ(t,e){const n=xe(t);e?(n.L_.delete(2),await wy(n)):e||(n.L_.add(2),await Ed(n),n.q_.set("Unknown"))}function su(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new aQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:fQ.bind(null,t),Ro:dQ.bind(null,t),mo:hQ.bind(null,t),d_:pQ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),XE(t)?KE(t):t.q_.set("Unknown")):(await t.K_.stop(),Ej(t))})),t.K_}function Vo(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new sQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yQ.bind(null,t),mo:wQ.bind(null,t),f_:vQ.bind(null,t),g_:_Q.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await by(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new YE(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QE(t,e){if(Di("AsyncQueue",`${e}: ${t}`),wd(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new el(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.W_=new lt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pl{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Pl(e,n,el.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EQ{constructor(){this.queries=mI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=mI(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function mI(){return new au(t=>X$(t),py)}async function Pj(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new xQ,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=QE(a,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&JE(n)}async function Ij(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SQ(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&JE(n)}function TQ(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function JE(t){t.Y_.forEach(e=>{e.next()})}var Rw,gI;(gI=Rw||(Rw={})).ea="default",gI.Cache="cache";class Oj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.key=e}}class kj{constructor(e){this.key=e}}class AQ{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=Y$(e),this.Ra=new el(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new pI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=my(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.ga(d,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),y=!0):d&&!p&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(s=!0)),y&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return g(p)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Pl(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new kj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Cj(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Pl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class PQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IQ{constructor(e){this.key=e,this.va=!1}}class OQ{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new au(s=>X$(s),py),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(ye.comparator),this.Na=new Map,this.La=new zE,this.Ba={},this.ka=new Map,this.qa=Al.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function CQ(t,e,n=!0){const r=jj(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Nj(r,e,n,!0),i}async function kQ(t,e){const n=jj(t);await Nj(n,e,!0,!1)}async function Nj(t,e,n,r){const i=await ZY(t.localStore,Yr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await NQ(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&bj(t.remoteStore,i),s}async function NQ(t,e,n,r,i){t.Ka=(f,d,p)=>async function(g,y,v,w){let _=y.view.ma(v);_.ns&&(_=await cI(g.localStore,y.query,!1).then(({documents:b})=>y.view.ma(b,_)));const S=w&&w.targetChanges.get(y.targetId),E=w&&w.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(_,g.isPrimaryClient,S,E);return vI(g,y.targetId,A.wa),A.snapshot}(t,f,d,p);const o=await cI(t.localStore,e,!0),a=new AQ(e,o.Ts),s=a.ma(o.documents),l=xd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);vI(t,n,u.wa);const c=new PQ(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function RQ(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!py(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qE(r.remoteStore,i.targetId),Mw(r,i.targetId)}).catch(_d)):(Mw(r,i.targetId),await Nw(r.localStore,i.targetId,!0))}async function MQ(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qE(n.remoteStore,r.targetId))}async function DQ(t,e,n){const r=UQ(t);try{const i=await function(a,s){const l=xe(a),u=Tt.now(),c=s.reduce((p,m)=>p.add(m.key),Pe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=$i(),g=Pe();return l.cs.getEntries(p,c).next(y=>{m=y,m.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{f=y;const v=[];for(const w of s){const _=rY(w,f.get(w.key).overlayedDocument);_!=null&&v.push(new Za(w.key,_,B$(_.value.mapValue),Or.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,s)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:J$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new lt(De)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Sd(r,i.changes),await by(r.remoteStore)}catch(i){const o=QE(i,"Failed to persist write");n.reject(o)}}async function Rj(t,e){const n=xe(t);try{const r=await YY(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Fe(a.va):i.removedDocuments.size>0&&(Fe(a.va),a.va=!1))}),await Sd(n,r,e)}catch(r){await _d(r)}}function yI(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=xe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&JE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $Q(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new lt(ye.comparator);a=a.insert(o,sn.newNoDocument(o,be.min()));const s=Pe().add(o),l=new vy(be.min(),new Map,new lt(De),a,s);await Rj(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),ZE(r)}else await Nw(r.localStore,e,!1).then(()=>Mw(r,e,n)).catch(_d)}async function jQ(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await XY(n.localStore,e);Dj(n,r,null),Mj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sd(n,i)}catch(i){await _d(i)}}async function LQ(t,e,n){const r=xe(t);try{const i=await function(a,s){const l=xe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Fe(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Dj(r,e,n),Mj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sd(r,i)}catch(i){await _d(i)}}function Mj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Dj(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Mw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$j(t,r)})}function $j(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(qE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ZE(t))}function vI(t,e,n){for(const r of n)r instanceof Cj?(t.La.addReference(r.key,e),VQ(t,r)):r instanceof kj?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$j(t,r.key)):we()}function VQ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),ZE(t))}function ZE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new IQ(n)),t.Oa=t.Oa.insert(n,r),bj(t.remoteStore,new yo(Yr(jE(n.path)),r,"TargetPurposeLimboResolution",kE.oe))}}async function Sd(t,e,n){const r=xe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=HE.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(u,d=>te.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>te.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!wd(f))throw f;me("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,g)}}}(r.localStore,o))}async function FQ(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await yj(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new pe(Z.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sd(n,r.hs)}}function BQ(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function jj(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$Q.bind(null,e),e.Ca.d_=SQ.bind(null,e.eventManager),e.Ca.$a=TQ.bind(null,e.eventManager),e}function UQ(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LQ.bind(null,e),e}class Tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_y(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return KY(this.persistence,new qY,e.initialUser,this.serializer)}Ga(e){return new zY(WE.Zr,this.serializer)}Wa(e){return new tQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tm.provider={build:()=>new Tm};class Dw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FQ.bind(null,this.syncEngine),await bQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EQ}()}createDatastore(e){const n=_y(e.databaseInfo.databaseId),r=function(o){return new oQ(o)}(e.databaseInfo);return function(o,a,s,l){return new lQ(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new cQ(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>yI(this.syncEngine,n,0),function(){return dI.D()?new dI:new nQ}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new OQ(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);me("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ed(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dw.provider={build:()=>new Dw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=L$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{me("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(me("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function P0(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _I(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WQ(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hI(e.remoteStore,i)),t._onlineComponents=e}async function WQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await P0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await P0(t,new Tm)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await P0(t,new Tm);return t._offlineComponents}async function Vj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await _I(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await _I(t,new Dw))),t._onlineComponents}function HQ(t){return Vj(t).then(e=>e.syncEngine)}async function $w(t){const e=await Vj(t),n=e.eventManager;return n.onListen=CQ.bind(null,e.syncEngine),n.onUnlisten=RQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MQ.bind(null,e.syncEngine),n}function qQ(t,e,n={}){const r=new ko;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Lj({next:d=>{c.Za(),a.enqueueAndForget(()=>Ij(o,f)),d.fromCache&&l.source==="server"?u.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new Oj(s,c,{includeMetadataChanges:!0,_a:!0});return Pj(o,f)}(await $w(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GQ(t,e,n,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bI(t){if(!ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xI(t){if(ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function Jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xy(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ey{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dX;switch(r.type){case"firstParty":return new gX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wI.get(n);r&&(me("ComponentProvider","Removing Datastore"),wI.delete(n),r.terminate())}(this),Promise.resolve()}}function KQ(t,e,n,r={}){var i;const o=(t=Jr(t,Ey))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=on.MOCK_USER;else{s=wq(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new on(u)}t._authCredentials=new hX(new j$(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class No extends zo{constructor(e,n,r){super(e,n,jE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ye(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function Us(t,e,...n){if(t=rt(t),Bj("collection","path",e),t instanceof Ey){const r=Ze.fromString(e,...n);return xI(r),new No(t,null,r)}{if(!(t instanceof Pn||t instanceof No))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return xI(r),new No(t.firestore,null,r)}}function vc(t,e,...n){if(t=rt(t),arguments.length===1&&(e=L$.newId()),Bj("doc","path",e),t instanceof Ey){const r=Ze.fromString(e,...n);return bI(r),new Pn(t,null,new ye(r))}{if(!(t instanceof Pn||t instanceof No))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return bI(r),new Pn(t.firestore,t instanceof No?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _j(this,"async_queue_retry"),this.Vu=()=>{const r=A0();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=A0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=A0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wd(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=YE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function TI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Va extends Ey{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new SI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SI(e),this._firestoreClient=void 0,await e}}}function XQ(t,e){const n=typeof t=="object"?t:SE(),r=typeof t=="string"?t:"(default)",i=Ja(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=vq("firestore");o&&KQ(i,...o)}return i}function e1(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YQ(t),t._firestoreClient}function YQ(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new OX(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Fj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new zQ(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(Qt.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Il(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ=/^__.*__$/;class JQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new bd(e,this.data,n,this.fieldTransforms)}}function Uj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class o1{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new o1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Am(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Uj(this.Cu)&&QQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ZQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_y(e)}Qu(e,n,r,i=!1){return new o1({Cu:e,methodName:n,qu:r,path:qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a1(t){const e=t._freezeSettings(),n=_y(t._databaseId);return new ZQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zj(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);qj("Data must be an object, but it was:",a,r);const s=Wj(r,a);let l,u;if(o.merge)l=new Tr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=tJ(e,f,n);if(!a.contains(d))throw new pe(Z.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);rJ(c,d)||c.push(d)}l=new Tr(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new JQ(new Yn(s),l,u)}class s1 extends n1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s1}}function eJ(t,e,n,r=!1){return l1(n,t.Qu(r?4:3,e))}function l1(t,e){if(Hj(t=rt(t)))return qj("Unsupported field value:",e,t),Wj(t,e);if(t instanceof n1)return function(r,i){if(!Uj(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=l1(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Tt.fromDate(r);return{timestampValue:Em(i.serializer,o)}}if(r instanceof Tt){const o=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Em(i.serializer,o)}}if(r instanceof r1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Il)return{bytesValue:cj(i.serializer,r._byteString)};if(r instanceof Pn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:UE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof i1)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return LE(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${xy(r)}`)}(t,e)}function Wj(t,e){const n={};return V$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(t,(r,i)=>{const o=l1(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Hj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof r1||t instanceof Il||t instanceof Pn||t instanceof n1||t instanceof i1)}function qj(t,e,n){if(!Hj(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function tJ(t,e,n){if((e=rt(e))instanceof t1)return e._internalPath;if(typeof e=="string")return Gj(t,e);throw Am("Field path arguments must be of type string or ",t,!1,void 0,n)}const nJ=new RegExp("[~\\*/\\[\\]]");function Gj(t,e,n){if(e.search(nJ)>=0)throw Am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t1(...e.split("."))._internalPath}catch{throw Am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Am(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new pe(Z.INVALID_ARGUMENT,s+t+l)}function rJ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iJ extends Kj{data(){return super.data()}}function Sy(t,e){return typeof e=="string"?Gj(t,e):e instanceof t1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u1{}class Yj extends u1{}function Qj(t,e,...n){let r=[];e instanceof u1&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof c1).length,s=o.filter(l=>l instanceof Ty).length;if(a>1||a>0&&s>0)throw new pe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ty extends Yj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ty(e,n,r)}_apply(e){const n=this._parse(e);return Zj(e._query,n),new zo(e.firestore,e.converter,Aw(e._query,n))}_parse(e){const n=a1(e.firestore);return function(o,a,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){PI(f,c);const p=[];for(const m of f)p.push(AI(l,o,m));d={arrayValue:{values:p}}}else d=AI(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||PI(f,c),d=eJ(s,a,f,c==="in"||c==="not-in");return Et.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oJ(t,e,n){const r=e,i=Sy("where",t);return Ty._create(i,r,n)}class c1 extends u1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new c1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)Zj(a,l),a=Aw(a,l)}(e._query,n),new zo(e.firestore,e.converter,Aw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f1 extends Yj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new f1(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sf(o,a)}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new ou(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Jj(t,e="asc"){const n=e,r=Sy("orderBy",t);return f1._create(r,n)}function AI(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new pe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K$(e)&&n.indexOf("/")!==-1)throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ye.isDocumentKey(r))throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GP(t,new ye(r))}if(n instanceof Pn)return GP(t,n._key);throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xy(n)}.`)}function PI(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zj(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aJ{convertValue(e,n="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return iu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>pt(a.doubleValue));return new i1(o)}convertGeoPoint(e){return new r1(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=RE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Fe(gj(r));const i=new xf(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tL extends Kj{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pp extends tL{data(e={}){return super.data(e)}}class nL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _c(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pp(this._firestore,this._userDataWriter,r.key,r,new _c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Pp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new _c(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Pp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new _c(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:sJ(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class d1 extends aJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function lJ(t){t=Jr(t,zo);const e=Jr(t.firestore,Va),n=e1(e),r=new d1(e);return Xj(t._query),qQ(n,t._query).then(i=>new nL(e,r,t,i))}function II(t,e,n){t=Jr(t,Pn);const r=Jr(t.firestore,Va),i=eL(t.converter,e,n);return h1(r,[zj(a1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function uJ(t){return h1(Jr(t.firestore,Va),[new VE(t._key,Or.none())])}function jw(t,e){const n=Jr(t.firestore,Va),r=vc(t),i=eL(t.converter,e);return h1(n,[zj(a1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function Lw(t,...e){var n,r,i;t=rt(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||TI(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(TI(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Pn)u=Jr(t.firestore,Va),c=jE(t._key.path),l={next:f=>{e[a]&&e[a](cJ(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Jr(t,zo);u=Jr(f.firestore,Va),c=f._query;const d=new d1(u);l={next:p=>{e[a]&&e[a](new nL(u,d,f,p))},error:e[a+1],complete:e[a+2]},Xj(t._query)}return function(d,p,m,g){const y=new Lj(g),v=new Oj(p,y,m);return d.asyncQueue.enqueueAndForget(async()=>Pj(await $w(d),v)),()=>{y.Za(),d.asyncQueue.enqueueAndForget(async()=>Ij(await $w(d),v))}}(e1(u),c,s,l)}function h1(t,e){return function(r,i){const o=new ko;return r.asyncQueue.enqueueAndForget(async()=>DQ(await HQ(r),i,o)),o.promise}(e1(t),e)}function cJ(t,e,n){const r=n.docs.get(e._key),i=new d1(t);return new tL(t,i,e._key,r,new _c(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(){return new s1("deleteField")}(function(e,n=!0){(function(i){ru=i})(nu),ni(new Nr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Va(new pX(r.getProvider("auth-internal")),new vX(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),tr(UP,"4.7.3",e),tr(UP,"4.7.3","esm2017")})();function p1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dJ=rL,iL=new Qa("auth","Firebase",rL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new cy("@firebase/auth");function hJ(t,...e){Pm.logLevel<=Oe.WARN&&Pm.warn(`Auth (${nu}): ${t}`,...e)}function Ip(t,...e){Pm.logLevel<=Oe.ERROR&&Pm.error(`Auth (${nu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw g1(t,...e)}function Cr(t,...e){return g1(t,...e)}function m1(t,e,n){const r=Object.assign(Object.assign({},dJ()),{[e]:n});return new Qa("auth","Firebase",r).create(e,{appName:t.name})}function Zr(t){return m1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ar(t,"argument-error"),m1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iL.create(t,...e)}function _e(t,e,...n){if(!t)throw g1(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ip(e),new Error(e)}function ji(t,e){t||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mJ(){return OI()==="http:"||OI()==="https:"}function OI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mJ()||e$()||"connection"in navigator)?navigator.onLine:!0}function yJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=bq()||Sq()}get(){return gJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _J=new Td(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $r(t,e,n,r,i={}){return aL(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=vd(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return Eq()||(u.referrerPolicy="no-referrer"),oL.fetch()(sL(t,t.config.apiHost,n,s),u)})}async function aL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vJ),e);try{const i=new bJ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Kh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Kh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Kh(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw m1(t,c,u);ar(t,c)}}catch(i){if(i instanceof Dr)throw i;ar(t,"network-request-failed",{message:String(i)})}}async function Ad(t,e,n,r,i={}){const o=await $r(t,e,n,r,i);return"mfaPendingCredential"in o&&ar(t,"multi-factor-auth-required",{_serverResponse:o}),o}function sL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?y1(t.config,i):`${t.config.apiScheme}://${i}`}function wJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),_J.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function CI(t){return t!==void 0&&t.enterprise!==void 0}class xJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function EJ(t,e){return $r(t,"GET","/v2/recaptchaConfig",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SJ(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function lL(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TJ(t,e=!1){const n=rt(t),r=await n.getIdToken(e),i=v1(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jc(I0(i.auth_time)),issuedAtTime:jc(I0(i.iat)),expirationTime:jc(I0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function I0(t){return Number(t)*1e3}function v1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ip("JWT malformed, contained fewer than 3 sections"),null;try{const i=YD(n);return i?JSON.parse(i):(Ip("Failed to decode base64 JWT payload"),null)}catch(i){return Ip("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kI(t){const e=v1(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&AJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fa(t,lL(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uL(o.providerUserInfo):[],s=OJ(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Fw(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function IJ(t){const e=rt(t);await Im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uL(t){return t.map(e=>{var{providerId:n}=e,r=p1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CJ(t,e){const n=await aL(t,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=sL(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",oL.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kJ(t,e){return $r(t,"POST","/v2/accounts:revokeToken",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=kI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await CJ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new tl;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _i{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=p1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TJ(this,e)}reload(){return IJ(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await Fa(this,SJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:S,isAnonymous:E,providerData:A,stsTokenManager:b}=n;_e(_&&b,e,"internal-error");const T=tl.fromJSON(this.name,b);_e(typeof _=="string",e,"internal-error"),no(f,e.name),no(d,e.name),_e(typeof S=="boolean",e,"internal-error"),_e(typeof E=="boolean",e,"internal-error"),no(p,e.name),no(m,e.name),no(g,e.name),no(y,e.name),no(v,e.name),no(w,e.name);const P=new _i({uid:_,auth:e,email:d,emailVerified:S,displayName:f,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:v,lastLoginAt:w});return A&&Array.isArray(A)&&(P.providerData=A.map(O=>Object.assign({},O))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new tl;i.updateFromServerResponse(n);const o=new _i({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Im(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?uL(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new tl;s.updateFromIdToken(r);const l=new _i({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Map;function wi(t){ji(t instanceof Function,"Expected a class definition");let e=NI.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cL.type="NONE";const RI=cL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Op(this.userKey,i.apiKey,o),this.fullPersistenceKey=Op("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_i._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nl(wi(RI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||wi(RI);const a=Op(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=_i._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new nl(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new nl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gL(e))return"Blackberry";if(yL(e))return"Webos";if(dL(e))return"Safari";if((e.includes("chrome/")||hL(e))&&!e.includes("edge/"))return"Chrome";if(mL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fL(t=fn()){return/firefox\//i.test(t)}function dL(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hL(t=fn()){return/crios\//i.test(t)}function pL(t=fn()){return/iemobile/i.test(t)}function mL(t=fn()){return/android/i.test(t)}function gL(t=fn()){return/blackberry/i.test(t)}function yL(t=fn()){return/webos/i.test(t)}function _1(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NJ(t=fn()){var e;return _1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RJ(){return Tq()&&document.documentMode===10}function vL(t=fn()){return _1(t)||mL(t)||yL(t)||gL(t)||/windows phone/i.test(t)||pL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e=[]){let n;switch(t){case"Browser":n=MI(fn());break;case"Worker":n=`${MI(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DJ(t,e={}){return $r(t,"GET","/v2/passwordPolicy",Hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J=6;class jJ{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:$J,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DI(this),this.idTokenSubscription=new DI(this),this.beforeStateQueue=new MJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lL(this,{idToken:e}),r=await _i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Im(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Zr(this));const n=e?rt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DJ(this),n=new jJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_L(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qi(t){return rt(t)}class DI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nq(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VJ(t){Ay=t}function wL(t){return Ay.loadJS(t)}function FJ(){return Ay.recaptchaEnterpriseScript}function BJ(){return Ay.gapiScript}function UJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zJ="recaptcha-enterprise",WJ="NO_RECAPTCHA";class HJ{constructor(e){this.type=zJ,this.auth=qi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{EJ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new xJ(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;CI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(WJ)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&CI(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=FJ();l.length!==0&&(l+=s),wL(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function $I(t,e,n,r=!1){const i=new HJ(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Om(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $I(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await $I(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t,e){const n=Ja(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(vf(o,e??{}))return i;ar(i,"already-initialized")}return n.initialize({options:e})}function GJ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KJ(t,e,n){const r=qi(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=bL(e),{host:a,port:s}=XJ(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),YJ()}function bL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XJ(t){const e=bL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jI(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:jI(a)}}}function jI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function QJ(t,e){return $r(t,"POST","/v1/accounts:update",e)}async function JJ(t,e){return $r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZJ(t,e){return Ad(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}async function xL(t,e){return $r(t,"POST","/v1/accounts:sendOobCode",Hi(t,e))}async function eZ(t,e){return xL(t,e)}async function tZ(t,e){return xL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nZ(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function rZ(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends w1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,n,"signInWithPassword",ZJ);case"emailLink":return nZ(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,r,"signUpPassword",JJ);case"emailLink":return rZ(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e){return Ad(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ="http://localhost";class Ba extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=p1(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ba(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return rl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rl(e,n)}buildRequest(){const e={requestUri:iZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aZ(t){const e=hc(pc(t)).link,n=e?hc(pc(e)).deep_link_id:null,r=hc(pc(t)).deep_link_id;return(r?hc(pc(r)).link:null)||r||n||e||t}class b1{constructor(e){var n,r,i,o,a,s;const l=hc(pc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=oZ((i=l.mode)!==null&&i!==void 0?i:null);_e(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=aZ(e);try{return new b1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.providerId=ts.PROVIDER_ID}static credential(e,n){return Pf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=b1.parseLink(n);return _e(r,"argument-error"),Pf._fromEmailAndCode(e,r.code,r.tenantId)}}ts.PROVIDER_ID="password";ts.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ts.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends x1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Pd{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Pd{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Pd{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sZ(t,e){return Ad(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await _i._fromIdTokenResponse(e,r,i),a=LI(r);return new Ua({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LI(r);return new Ua({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends Dr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cm(e,n,r,i)}}function EL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cm._fromErrorAndOperation(t,o,e,r):o})}async function lZ(t,e,n=!1){const r=await Fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(Zr(r));const i="reauthenticate";try{const o=await Fa(t,EL(r,i,e,t),n);_e(o.idToken,r,"internal-error");const a=v1(o.idToken);_e(a,r,"internal-error");const{sub:s}=a;return _e(t.uid===s,r,"user-mismatch"),Ua._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e,n=!1){if(Jn(t.app))return Promise.reject(Zr(t));const r="signIn",i=await EL(t,r,e),o=await Ua._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function uZ(t,e){return TL(qi(t),e)}async function cZ(t,e){return SL(rt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t){const e=qi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fZ(t,e,n){const r=qi(t);await Om(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",tZ)}async function dZ(t,e,n){if(Jn(t.app))return Promise.reject(Zr(t));const r=qi(t),a=await Om(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AL(t),l}),s=await Ua._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function hZ(t,e,n){return Jn(t.app)?Promise.reject(Zr(t)):uZ(rt(t),ts.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AL(t),r})}async function VI(t,e){const n=rt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await eZ(n.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pZ(t,e){return $r(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=rt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Fa(r,pZ(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function gZ(t,e){const n=rt(t);return Jn(n.auth.app)?Promise.reject(Zr(n.auth)):PL(n,e,null)}function yZ(t,e){return PL(rt(t),null,e)}async function PL(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const a=await Fa(t,QJ(r,o));await t._updateTokensIfNecessary(a,!0)}function vZ(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function _Z(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function wZ(t,e,n,r){return rt(t).onAuthStateChanged(e,n,r)}function bZ(t){return rt(t).signOut()}async function xZ(t){return rt(t).delete()}const km="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(km,"1"),this.storage.removeItem(km),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=1e3,SZ=10;class OL extends IL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);RJ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OL.type="LOCAL";const TZ=OL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL extends IL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CL.type="SESSION";const kL=CL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Py(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await AZ(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Py.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=E1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function IZ(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function OZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kZ(){return NL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebaseLocalStorageDb",NZ=1,Nm="firebaseLocalStorage",ML="fbase_key";class Id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iy(t,e){return t.transaction([Nm],e?"readwrite":"readonly").objectStore(Nm)}function RZ(){const t=indexedDB.deleteDatabase(RL);return new Id(t).toPromise()}function Bw(){const t=indexedDB.open(RL,NZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nm,{keyPath:ML})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nm)?e(r):(r.close(),await RZ(),e(await Bw()))})})}async function FI(t,e,n){const r=Iy(t,!0).put({[ML]:e,value:n});return new Id(r).toPromise()}async function MZ(t,e){const n=Iy(t,!1).get(e),r=await new Id(n).toPromise();return r===void 0?null:r.value}function BI(t,e){const n=Iy(t,!0).delete(e);return new Id(n).toPromise()}const DZ=800,$Z=3;class DL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$Z)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Py._getInstance(kZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OZ(),!this.activeServiceWorker)return;this.sender=new PZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bw();return await FI(e,km,"1"),await BI(e,km),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Iy(i,!1).getAll();return new Id(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DL.type="LOCAL";const jZ=DL;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e){return e?wi(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LZ(t){return TL(t.auth,new S1(t),t.bypassAuthState)}function VZ(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),SL(n,new S1(t),t.bypassAuthState)}async function FZ(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),lZ(n,new S1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LZ;case"linkViaPopup":case"linkViaRedirect":return FZ;case"reauthViaPopup":case"reauthViaRedirect":return VZ;default:ar(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ=new Td(2e3,1e4);async function UZ(t,e,n){if(Jn(t.app))return Promise.reject(Cr(t,"operation-not-supported-in-this-environment"));const r=qi(t);pJ(t,e,x1);const i=$L(r,n);return new ga(r,"signInViaPopup",e,i).executeNotNull()}class ga extends jL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=E1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BZ.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ="pendingRedirect",Cp=new Map;class WZ extends jL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cp.get(this.auth._key());if(!e){try{const r=await HZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cp.set(this.auth._key(),e)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HZ(t,e){const n=KZ(e),r=GZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qZ(t,e){Cp.set(t._key(),e)}function GZ(t){return wi(t._redirectPersistence)}function KZ(t){return Op(zZ,t.config.apiKey,t.name)}async function XZ(t,e,n=!1){if(Jn(t.app))return Promise.reject(Zr(t));const r=qi(t),i=$L(r,e),a=await new WZ(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=10*60*1e3;class QZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(UI(e))}saveEventToCache(e){this.cachedEventUids.add(UI(e)),this.lastProcessedEventTime=Date.now()}}function UI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZZ(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tee=/^https?/;async function nee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZZ(t);for(const n of e)try{if(ree(n))return}catch{}ar(t,"unauthorized-domain")}function ree(t){const e=Vw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!tee.test(n))return!1;if(eee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=new Td(3e4,6e4);function zI(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oee(t){return new Promise((e,n)=>{var r,i,o;function a(){zI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zI(),n(Cr(t,"network-request-failed"))},timeout:iee.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)a();else{const s=UJ("iframefcb");return ei()[s]=()=>{gapi.load?a():n(Cr(t,"network-request-failed"))},wL(`${BJ()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw kp=null,e})}let kp=null;function aee(t){return kp=kp||oee(t),kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=new Td(5e3,15e3),lee="__/auth/iframe",uee="emulator/auth/iframe",cee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dee(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y1(e,uee):`https://${t.config.authDomain}/${lee}`,r={apiKey:e.apiKey,appName:t.name,v:nu},i=fee.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${vd(r).slice(1)}`}async function hee(t){const e=await aee(t),n=ei().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:dee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cee,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Cr(t,"network-request-failed"),s=ei().setTimeout(()=>{o(a)},see.get());function l(){ei().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mee=500,gee=600,yee="_blank",vee="http://localhost";class WI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _ee(t,e,n,r=mee,i=gee){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},pee),{width:r.toString(),height:i.toString(),top:o,left:a}),u=fn().toLowerCase();n&&(s=hL(u)?yee:n),fL(u)&&(e=e||vee,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(NJ(u)&&s!=="_self")return wee(e||"",s),new WI(null);const f=window.open(e||"",s,c);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new WI(f)}function wee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee="__/auth/handler",xee="emulator/auth/handler",Eee=encodeURIComponent("fac");async function HI(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nu,eventId:i};if(e instanceof x1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",kq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof Pd){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${Eee}=${encodeURIComponent(l)}`:"";return`${See(t)}?${vd(s).slice(1)}${u}`}function See({config:t}){return t.emulator?y1(t,xee):`https://${t.authDomain}/${bee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="webStorageSupport";class Tee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kL,this._completeRedirectFn=XZ,this._overrideRedirectResult=qZ}async _openPopup(e,n,r,i){var o;ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await HI(e,n,r,Vw(),i);return _ee(e,a,E1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await HI(e,n,r,Vw(),i);return IZ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hee(e),r=new QZ(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O0,{type:O0},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[O0];a!==void 0&&n(!!a),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vL()||dL()||_1()}}const Aee=Tee;var qI="@firebase/auth",GI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Oee(t){ni(new Nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_L(t)},u=new LJ(r,i,o,l);return GJ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ni(new Nr("auth-internal",e=>{const n=qi(e.getProvider("auth").getImmediate());return(r=>new Pee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(qI,GI,Iee(t)),tr(qI,GI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee=5*60,kee=ZD("authIdTokenMaxAge")||Cee;let KI=null;const Nee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kee)return;const i=n==null?void 0:n.token;KI!==i&&(KI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ree(t=SE()){const e=Ja(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qJ(t,{popupRedirectResolver:Aee,persistence:[jZ,TZ,kL]}),r=ZD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Nee(o.toString());_Z(n,a,()=>a(n.currentUser)),vZ(n,s=>a(s))}}const i=QD("auth");return i&&KJ(n,`http://${i}`),n}function Mee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VJ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Cr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Mee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Oee("Browser");const Dee={apiKey:"AIzaSyATjhPDDzVhZfKOZcKTWYj7EiqQcfx5Wl0",authDomain:"boost-productivity-126b9.firebaseapp.com",projectId:"boost-productivity-126b9",storageBucket:"boost-productivity-126b9.firebasestorage.app",messagingSenderId:"527676361193",appId:"1:527676361193:web:5442c4919f0989b5102378",measurementId:"G-41Q1PB5MEH"},T1=a$(Dee);lX(T1);const zr=XQ(T1),ws=Ree(T1),VL=D.createContext();function ns(){return D.useContext(VL)}function $ee({children:t}){const[e,n]=D.useState(null),[r,i]=D.useState(!0);D.useEffect(()=>wZ(ws,v=>{n(v),i(!1)}),[]);const g={currentUser:e,signup:async(y,v)=>{const w=await dZ(ws,y,v);return await VI(w.user),w},login:(y,v)=>hZ(ws,y,v),logout:()=>bZ(ws),updateEmail:y=>gZ(e,y),updatePassword:y=>yZ(e,y),resetPassword:y=>fZ(ws,y),signInWithGoogle:async()=>{const y=new pi;return UZ(ws,y)},updateDisplayName:y=>mZ(e,{displayName:y}),deleteAccount:()=>xZ(e),sendEmailVerification:()=>VI(e)};return M.jsx(VL.Provider,{value:g,children:!r&&t})}var FL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XI=z.createContext&&z.createContext(FL),jee=["attr","size","title"];function Lee(t,e){if(t==null)return{};var n=Vee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){Fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fee(t,e,n){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=Uee(t,"string");return typeof e=="symbol"?e:e+""}function Uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BL(t){return t&&t.map((e,n)=>z.createElement(e.tag,Mm({key:n},e.attr),BL(e.child)))}function A1(t){return e=>z.createElement(zee,Rm({attr:Mm({},t.attr)},e),BL(t.child))}function zee(t){var e=n=>{var{attr:r,size:i,title:o}=t,a=Lee(t,jee),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),z.createElement("svg",Rm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Mm(Mm({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&z.createElement("title",null,o),t.children)};return XI!==void 0?z.createElement(XI.Consumer,null,n=>e(n)):e(FL)}function Wee(t){return A1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(t)}function UL(t){return A1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448zm-176.34-64c-41.49 0-81.5-12.28-118.92-36.5-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58 2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1 204.8 204.8 0 0 1-51.16 6.47zm235.18-145.4c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83 2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1 192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37 34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16 310.72 310.72 0 0 1-64.12 72.73 2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13 343.49 343.49 0 0 0 68.64-78.48 32.2 32.2 0 0 0-.1-34.78z"},child:[]},{tag:"path",attr:{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4 2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160zm-90.22 73.66a2 2 0 0 0-3.38 1 96 96 0 0 0 115 115 2 2 0 0 0 1-3.38z"},child:[]}]})(t)}function zL(t){return A1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(t)}const wt={SESSION:{START:"session_start",END:"session_end"},PAGE:{HOME:"home_page_view",ACCOUNT:"account_page_view"},MODAL:{LOGIN_VIEW:"login_modal_view",SIGNUP_VIEW:"signup_modal_view"},AUTH:{LOGIN_ATTEMPT:"login_attempt",LOGIN_SUCCESS:"login_success",SIGNUP_ATTEMPT:"signup_attempt",SIGNUP_SUCCESS:"signup_success"},NODE:{SUBMIT:"node_submitted",DELETE:"node_deleted",MOVE:"node_moved"},ACCOUNT:{EMAIL_UPDATE_CLICK:"update_email_clicked",EMAIL_UPDATE_SUCCESS:"update_email_success",PASSWORD_UPDATE_CLICK:"update_password_clicked",PASSWORD_UPDATE_SUCCESS:"update_password_success",NAME_UPDATE_CLICK:"update_display_name_clicked",NAME_UPDATE_SUCCESS:"update_display_name_success",RESET_EMAIL_CLICK:"send_password_reset_email_clicked",RESET_EMAIL_SUCCESS:"send_password_reset_email_success",DANGER_ZONE_VIEW:"danger_zone_view",LOGOUT_CLICK:"logout_clicked",LOGOUT_SUCCESS:"logout_success",DELETE_ACCOUNT_CLICK:"delete_account_clicked",DELETE_ACCOUNT_CONFIRM:"delete_account_confirm",DELETE_ACCOUNT_SUCCESS:"delete_account_success"}},bt=async(t,e="anonymous",n={})=>{try{await jw(Us(zr,"events"),{type:t,userId:e,timestamp:new Date,sessionId:sessionStorage.getItem("sessionId")||"unknown",data:n})}catch(r){console.error("Error logging event:",r)}},Hee=(t="anonymous")=>{const e=crypto.randomUUID();sessionStorage.setItem("sessionId",e),bt(wt.SESSION.START,t,{sessionId:e})};function qee(){const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,o]=D.useState(""),[a,s]=D.useState(""),[l,u]=D.useState(""),[c,f]=D.useState(""),[d,p]=D.useState(!1),[m,g]=D.useState(""),{currentUser:y,updateEmail:v,updatePassword:w,resetPassword:_,updateDisplayName:S,deleteAccount:E,logout:A,sendEmailVerification:b}=ns(),T=dd(),P=async F=>{if(F.preventDefault(),bt(wt.ACCOUNT.EMAIL_UPDATE_CLICK,y==null?void 0:y.uid),t===(y==null?void 0:y.email)){f("New email must be different from current email");return}try{u(""),f(""),await v(t),bt(wt.ACCOUNT.EMAIL_UPDATE_SUCCESS,y==null?void 0:y.uid),u("Email updated successfully"),e("")}catch(L){V(L,"email update")}},O=async F=>{if(F.preventDefault(),bt(wt.ACCOUNT.PASSWORD_UPDATE_CLICK,y==null?void 0:y.uid),i.length<6){f("Password must be at least 6 characters long");return}try{u(""),f(""),await w(i),bt(wt.ACCOUNT.PASSWORD_UPDATE_SUCCESS,y==null?void 0:y.uid),u("Password updated successfully"),o("")}catch(L){V(L,"password update")}},C=async F=>{if(F.preventDefault(),bt(wt.ACCOUNT.NAME_UPDATE_CLICK,y==null?void 0:y.uid),!a.trim()){f("Display name cannot be empty");return}try{u(""),f(""),await S(a),bt(wt.ACCOUNT.NAME_UPDATE_SUCCESS,y==null?void 0:y.uid),u("Display name updated successfully"),s("")}catch(L){V(L,"display name update")}},N=async()=>{bt(wt.ACCOUNT.RESET_EMAIL_CLICK,y==null?void 0:y.uid);try{u(""),f(""),await _(y.email),bt(wt.ACCOUNT.RESET_EMAIL_SUCCESS,y==null?void 0:y.uid),u("Password reset email sent. Please check your inbox.")}catch(F){V(F,"password reset")}},k=async()=>{if(m!=="DELETE"){f("Please type DELETE to confirm account deletion");return}try{u(""),f(""),await E(),p(!1),T("/")}catch(F){V(F,"account deletion")}},R=async()=>{try{u(""),f(""),await b(),u("Verification email sent. Please check your inbox.")}catch(F){f("Failed to send verification email"),console.error("Verification error:",F)}},V=(F,L)=>{switch(F.code){case"auth/requires-recent-login":f(`Please log out and log back in to change your ${L}`);break;case"auth/invalid-email":f("Invalid email format");break;case"auth/email-already-in-use":f("This email is already registered to another account");break;case"auth/weak-password":f("Password is too weak. Please choose a stronger password");break;default:f(`Failed to update ${L}`),console.error(`${L} error:`,F)}},j=()=>M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:M.jsxs("div",{className:"bg-surface p-6 rounded-lg border border-border max-w-md w-full mx-4",children:[M.jsx("h3",{className:"text-xl font-semibold text-error mb-4",children:"Delete Account"}),M.jsx("p",{className:"text-text-primary mb-4",children:"This action cannot be undone. All your data will be permanently deleted."}),M.jsxs("p",{className:"text-text-secondary mb-6",children:["Please type ",M.jsx("span",{className:"font-mono text-error",children:"DELETE"})," to confirm."]}),M.jsx("input",{type:"text",value:m,onChange:F=>g(F.target.value),placeholder:"Type DELETE to confirm",className:"w-full p-2 bg-background border border-border rounded-md focus:border-error focus:outline-none mb-4"}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:()=>{p(!1),g(""),f("")},className:"flex-1 py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Cancel"}),M.jsx("button",{onClick:k,className:"flex-1 py-2 px-4 bg-error text-white rounded-md hover:opacity-90 transition-opacity",children:"Delete Account"})]})]})});return M.jsxs("div",{className:"min-h-screen bg-background text-text-primary p-8",children:[M.jsxs("div",{className:"max-w-2xl mx-auto",children:[M.jsxs(vA,{to:"/",className:"inline-flex items-center text-text-primary hover:text-text-secondary mb-6",children:[M.jsx(Wee,{className:"mr-2"}),"Back"]}),M.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Account Settings"}),M.jsxs("div",{className:"bg-surface rounded-lg border border-border p-6",children:[M.jsxs("div",{className:"p-4 bg-background rounded-lg border border-border mb-6",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-2",children:"Current Email"}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("p",{children:y==null?void 0:y.email}),y!=null&&y.emailVerified?M.jsx("span",{className:"text-sm text-success",children:"Verified"}):M.jsx("button",{onClick:R,className:"text-sm text-primary hover:text-primary/80 underline",children:"Verify Email"})]}),M.jsx("h3",{className:"text-text-secondary text-sm mb-2 mt-4",children:"Display Name"}),M.jsx("p",{children:(y==null?void 0:y.displayName)||"Not Set"})]}),l&&M.jsx("div",{className:"p-3 bg-success/10 border border-success rounded-md text-success text-center text-sm mb-4",children:l}),c&&M.jsx("div",{className:"p-3 bg-error/10 border border-error rounded-md text-error text-center text-sm mb-4",children:c}),!(y!=null&&y.emailVerified)&&M.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-md text-text-primary text-center text-sm mb-4",children:"Please verify your email address to ensure account security."}),M.jsxs("form",{onSubmit:P,className:"mb-6 space-y-4",children:[M.jsx("h3",{className:"text-text-secondary text-sm",children:"Update Email"}),M.jsx("input",{type:"email",placeholder:"New Email",value:t,onChange:F=>e(F.target.value),className:"w-full p-2 bg-background border border-border rounded-md focus:border-primary focus:outline-none"}),M.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Update Email"})]}),M.jsxs("form",{onSubmit:O,className:"mb-6 space-y-4",children:[M.jsx("h3",{className:"text-text-secondary text-sm",children:"Update Password"}),M.jsx("input",{type:"password",placeholder:"New Password",value:i,onChange:F=>o(F.target.value),className:"w-full p-2 bg-background border border-border rounded-md focus:border-primary focus:outline-none"}),M.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Update Password"})]}),M.jsxs("form",{onSubmit:C,className:"mb-6 space-y-4",children:[M.jsx("h3",{className:"text-text-secondary text-sm",children:"Update Display Name"}),M.jsx("input",{type:"text",placeholder:"New Display Name",value:a,onChange:F=>s(F.target.value),className:"w-full p-2 bg-background border border-border rounded-md focus:border-primary focus:outline-none"}),M.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Update Display Name"})]}),M.jsx("div",{className:"space-y-4",children:M.jsx("button",{onClick:N,className:"w-full py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Send Password Reset Email"})})]}),M.jsx("div",{className:"mt-12 text-center",children:M.jsx(vA,{to:"/settings/advanced",className:"text-xs text-text-secondary opacity-50 hover:opacity-100 transition-opacity",children:"Advanced Settings"})})]}),d&&M.jsx(j,{})]})}const Gee=({value:t,onChange:e,onSubmit:n,onClose:r,nodeName:i})=>W2.createPortal(M.jsx("div",{className:"absolute inset-0 w-screen h-screen bg-background p-8",style:{zIndex:1e3},children:M.jsxs("div",{className:"max-w-4xl mx-auto h-full flex flex-col",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-2xl font-bold",children:i}),M.jsx("button",{onClick:r,className:"px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Exit Fullscreen"})]}),M.jsxs("form",{onSubmit:n,className:"flex-1 flex flex-col",children:[M.jsx("textarea",{value:t,onChange:e,className:"flex-1 bg-surface border border-border rounded-lg p-4 text-text-primary focus:outline-none focus:border-primary resize-none text-lg mb-4",placeholder:`Type your ${i.toLowerCase()} here...`,autoFocus:!0}),M.jsx("button",{type:"submit",className:"bg-primary hover:bg-primary/90 text-white font-medium py-3 px-6 rounded-lg transition-colors self-end",children:"Submit"})]})]})}),document.body),Kee=({data:t})=>{const[e,n]=D.useState(""),[r,i]=D.useState(!1),[o,a]=D.useState(!1),s=D.useRef(null),l=()=>{s.current&&s.current.focus()};D.useEffect(()=>{t.registerFocus&&t.registerFocus(l)},[t.registerFocus]),D.useEffect(()=>{n("")},[t.key]),D.useEffect(()=>{t.focusOnMount&&s.current&&setTimeout(()=>{s.current.focus()},0)},[t.focusOnMount]);const u=c=>{c.preventDefault(),e.trim()&&(t.onSubmit(e,t.id),n(""),i(!1))};return M.jsxs("div",{className:"field-node relative bg-surface border border-border rounded-lg w-[400px]",children:[t.onDeleteType&&M.jsx("button",{onClick:()=>t.onDeleteType(t.name),className:"absolute top-3 left-4 text-text-secondary hover:text-error cursor-pointer opacity-60 hover:opacity-100",title:"Delete this node type",children:""}),t.isSubmitted&&M.jsx("span",{onClick:()=>t.onDelete(t.id),className:"absolute top-3 left-4 text-text-secondary hover:text-error cursor-pointer opacity-60 hover:opacity-100",children:""}),M.jsxs("div",{className:"field-content",children:[M.jsx("div",{className:"field-name",children:t.name}),t.isSubmitted?M.jsxs("div",{className:`text-center py-2 ${o?"":"h-[100px]"}`,children:[M.jsx("div",{className:`text-success ${o?"":"h-[60px] overflow-hidden"}`,children:o?M.jsx("div",{className:"whitespace-pre-wrap break-words",children:t.message}):M.jsx("div",{className:"line-clamp-2",children:t.message})}),t.message.length>100&&M.jsx("button",{onClick:()=>a(!o),className:"text-xs text-text-secondary hover:text-text-primary mt-1",children:o?"Show less":"Show more"})]}):M.jsxs("form",{onSubmit:u,className:"field-form",children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{ref:s,type:"text",value:e,onChange:c=>n(c.target.value),className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary",placeholder:`Type your ${t.name.toLowerCase()} here...`}),M.jsx("button",{type:"button",onClick:()=>i(!0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-text-secondary hover:text-text-primary",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:M.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})})]}),M.jsx("button",{type:"submit",className:"mt-2 w-full bg-primary hover:bg-primary/90 text-white font-medium py-2 rounded-lg transition-colors",children:"Submit"})]})]}),r&&M.jsx(Gee,{value:e,onChange:c=>n(c.target.value),onSubmit:u,onClose:()=>i(!1),nodeName:t.name})]})};function WL(){const{signInWithGoogle:t}=ns();return M.jsxs("button",{onClick:t,className:"w-full h-10 relative bg-white hover:shadow-md border border-[#747775] rounded-md px-3 transition-shadow duration-200 flex items-center justify-between group",children:[M.jsx("div",{className:"absolute inset-0 bg-[#303030] opacity-0 group-hover:opacity-[0.08] group-active:opacity-[0.12] transition-opacity duration-200 rounded-md"}),M.jsxs("div",{className:"flex items-center justify-center w-full gap-3",children:[M.jsx("div",{className:"w-5 h-5 flex-shrink-0",children:M.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",style:{display:"block",width:"100%",height:"100%"},children:[M.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),M.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),M.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),M.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),M.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),M.jsx("span",{className:"font-['Roboto'] text-sm font-medium tracking-[0.25px] text-[#1f1f1f]",children:"Continue with Google"})]})]})}function Xee({onClose:t,onSwitchToSignup:e}){const[n,r]=D.useState(""),[i,o]=D.useState(""),[a,s]=D.useState(""),[l,u]=D.useState(!1),[c,f]=D.useState(!1),{login:d,resetPassword:p}=ns(),m=async g=>{g.preventDefault(),s("");try{f(!0),await d(n,i)}catch(y){switch(y.code){case"auth/invalid-email":s("Invalid email address format");break;case"auth/user-disabled":s("This account has been disabled");break;case"auth/user-not-found":s("No account found with this email");break;case"auth/wrong-password":s("Incorrect password");break;case"auth/too-many-requests":s("Too many failed attempts. Please try again later");break;default:s("Failed to log in. Please check your credentials"),console.error("Login error:",y)}}finally{f(!1)}};return M.jsxs("div",{className:"bg-surface p-8 rounded-lg border border-border w-[480px] max-w-[90vw]",children:[M.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Log In"}),a&&M.jsx("div",{className:"error mb-4",children:a}),M.jsxs("form",{onSubmit:m,className:"space-y-4",children:[M.jsx("div",{children:M.jsx("input",{type:"email",value:n,onChange:g=>r(g.target.value),placeholder:"Email",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"})}),M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:l?"text":"password",value:i,onChange:g=>o(g.target.value),placeholder:"Password",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"}),M.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary hover:text-text-primary",children:l?M.jsx(UL,{size:20}):M.jsx(zL,{size:20})})]}),M.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary hover:bg-primary/90 text-white font-medium py-2.5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Log In"})]}),M.jsxs("div",{className:"flex items-center my-6",children:[M.jsx("div",{className:"flex-grow border-t border-border"}),M.jsx("span",{className:"flex-shrink-0 mx-4 text-sm text-text-secondary",children:"or"}),M.jsx("div",{className:"flex-grow border-t border-border"})]}),M.jsx(WL,{}),M.jsxs("div",{className:"mt-6 text-center text-sm text-text-secondary",children:["Don't have an account?"," ",M.jsx("button",{onClick:e,className:"text-primary hover:text-primary/80 font-medium underline",children:"Sign Up"})]})]})}function Yee({onSwitchToLogin:t}){const[e,n]=D.useState(""),[r,i]=D.useState(""),[o,a]=D.useState(""),[s,l]=D.useState(!1),[u,c]=D.useState(!1),{signup:f}=ns(),d=async m=>{if(m.preventDefault(),a(""),r.length<6){a("Password must be at least 6 characters long");return}try{c(!0),await f(e,r)}catch(g){switch(g.code){case"auth/email-already-in-use":a("An account with this email already exists");break;case"auth/invalid-email":a("Invalid email address format");break;case"auth/operation-not-allowed":a("Email/password accounts are not enabled. Please contact support");break;case"auth/weak-password":a("Password should be at least 6 characters");break;default:a("Failed to create account. Please try again"),console.error("Signup error:",g)}}finally{c(!1)}},p=m=>{a("Failed to sign up with Google. Please try again."),console.error("Google sign up error:",m)};return M.jsxs("div",{className:"bg-surface p-8 rounded-lg border border-border w-[480px] max-w-[90vw]",children:[M.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),o&&M.jsx("div",{className:"error mb-4",children:o}),M.jsxs("form",{onSubmit:d,className:"space-y-4",children:[M.jsx("div",{children:M.jsx("input",{type:"email",value:e,onChange:m=>n(m.target.value),placeholder:"Email",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"})}),M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:s?"text":"password",value:r,onChange:m=>i(m.target.value),placeholder:"Password",required:!0,className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary"}),M.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary hover:text-text-primary",children:s?M.jsx(UL,{size:20}):M.jsx(zL,{size:20})})]}),M.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-white font-medium py-2.5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:u?M.jsxs(M.Fragment,{children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing up..."]}):"Sign Up"})]}),M.jsxs("div",{className:"flex items-center my-6",children:[M.jsx("div",{className:"flex-grow border-t border-border"}),M.jsx("span",{className:"flex-shrink-0 mx-4 text-sm text-text-secondary",children:"or"}),M.jsx("div",{className:"flex-grow border-t border-border"})]}),M.jsx("div",{onError:p,children:M.jsx(WL,{})}),M.jsxs("div",{className:"mt-6 text-center text-sm text-text-secondary",children:["Already have an account?"," ",M.jsx("button",{onClick:t,className:"text-primary hover:text-primary/80 font-medium underline",children:"Log In"})]})]})}const Qee={field:Kee},Jee={hideAttribution:!0};function Zee(){const t=dd(),{currentUser:e}=ns(),[n,r]=D.useState(!1),[i,o]=D.useState(!1),[a,s]=D.useState(!1),l=D.useRef(null),[u,c]=D.useState([]),[f,d]=D.useState(0),[p,m]=D.useState(!1),[g,y]=D.useState(""),v=D.useCallback(async(K,Y)=>{const ee=R.current.find(se=>se.id===Y);if(!ee){console.error("Source node not found:",Y);return}const ne=ee.data.name,re=ne.toLowerCase().replace(/\s+/g,"_")+"s";if(!e){c(se=>[...se,{message:K,nodeType:ne}]),s(!0),setTimeout(()=>s(!1),2e3);return}try{const se=Us(zr,`users/${e.uid}/${re}`),J={type:"field",data:{message:K,name:ne,isSubmitted:!0},position:ee.position,createdAt:new Date};await jw(se,J)}catch(se){console.error("Error saving node:",se)}},[e]),w=D.useCallback(async K=>{const Y=R.current.find(ne=>ne.id===K);if(!Y)return;const ee=Y.data.name.toLowerCase().replace(/\s+/g,"_")+"s";if(e)try{await uJ(vc(zr,`users/${e.uid}/${ee}`,K))}catch(ne){console.error("Error deleting node:",ne)}else P(ne=>ne.filter(re=>re.id!==K))},[e]),_=100,S=200,b=140+60,[T,P]=D.useState([]),[O,C]=D.useState(new Set),[N,k]=D.useState([]),R=D.useRef(T);D.useEffect(()=>{R.current=T},[T]),D.useEffect(()=>{if(!e){P([{id:"1",type:"field",position:{x:window.innerWidth/2-100,y:_},data:{id:"1",name:"Note",message:"",onSubmit:v,onDelete:w}}]);return}Lw(vc(zr,"users",e.uid),K=>{var oe;if(!K.exists())return;const Y=["goals",...Object.keys(((oe=K.data())==null?void 0:oe.nodeTypes)||{})];C(new Set(Y));const ee=400,ne=60,re=ee*Y.length+ne*(Y.length-1),se=(window.innerWidth-re)/2,J=Y.map((H,he)=>({id:`empty_${H}`,type:"field",position:{x:se+he*(ee+ne),y:_},data:{id:`empty_${H}`,name:H==="goals"?"Goal":H.slice(0,-1).split("_").map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(" "),message:"",onSubmit:v,onDelete:w,onDeleteType:void 0,key:Date.now()}}));P(J);const le=Y.map((H,he)=>{const ce=Qj(Us(zr,`users/${e.uid}/${H}`),Jj("createdAt","desc"));return Lw(ce,Ee=>{const Te=Ee.docs.map((qe,Mt)=>{var Dt;return{id:qe.id,type:"field",position:{x:se+he*(ee+ne),y:_+S+Mt*b},data:{id:qe.id,name:H==="goals"?"Goal":H.slice(0,-1).split("_").map(It=>It.charAt(0).toUpperCase()+It.slice(1)).join(" "),message:((Dt=qe.data().data)==null?void 0:Dt.message)||"",isSubmitted:!0,onSubmit:v,onDelete:w}}});P(qe=>{const Mt=qe.filter(It=>It.data.name.toLowerCase().replace(/\s+/g,"_")+"s"!==H),Dt={...J[he],data:{...J[he].data,onDeleteType:H!=="goals"&&Te.length===0?W:void 0}};return[...Mt,Dt,...Te]})})});return()=>{le.forEach(H=>H())}})},[e]),D.useEffect(()=>{(async()=>{if(e&&u.length>0){const Y=Us(zr,`users/${e.uid}/goals`);for(const ee of u)try{await jw(Y,{type:"field",data:{message:ee.message,name:ee.nodeType,isSubmitted:!0},createdAt:new Date})}catch(ne){console.error("Error saving goal:",ne)}c([])}})()},[e,u]);const V=D.useCallback(K=>{K.forEach(Y=>{Y.type==="position"&&Y.dragging===!1&&bt(wt.NODE.MOVE,e==null?void 0:e.uid,{nodeId:Y.id,from:Y.position,to:Y.position})}),P(Y=>vD(K,Y))},[e]),j=D.useCallback(K=>k(Y=>_D(K,Y)),[]);D.useEffect(()=>{e&&(r(!1),o(!1))},[e]),D.useEffect(()=>(Hee(e==null?void 0:e.uid),bt(wt.PAGE.HOME,e==null?void 0:e.uid),()=>{bt(wt.SESSION.END,e==null?void 0:e.uid)}),[e]);const F=()=>{bt(wt.MODAL.LOGIN_VIEW,e==null?void 0:e.uid),r(!0)},L=()=>{bt(wt.MODAL.SIGNUP_VIEW,e==null?void 0:e.uid),o(!0)},B=()=>{t("/account")},U=K=>{K.target===K.currentTarget&&(r(!1),o(!1))},G=async K=>{if(K.preventDefault(),!!g.trim())try{if(e){const Y=g.toLowerCase().replace(/\s+/g,"_")+"s",ee=vc(zr,"users",e.uid);await II(ee,{nodeTypes:{[Y]:!0}},{merge:!0})}else{const Y=crypto.randomUUID(),ee={id:Y,type:"field",position:{x:window.innerWidth/2-100,y:_},data:{id:Y,name:g,message:"",onSubmit:v,onDelete:w,key:Date.now(),registerFocus:ne=>{l.current=ne}}};P(ne=>{const re=[ee,...ne];return R.current=re,re})}y(""),m(!1)}catch(Y){console.error("Error creating node type:",Y)}},W=async K=>{if(e)try{if(K.toLowerCase()==="goal")return;const Y=K.toLowerCase().replace(/\s+/g,"_")+"s";if(!(await lJ(Us(zr,`users/${e.uid}/${Y}`))).empty){console.error("Cannot delete node type with existing nodes");return}const ne=vc(zr,"users",e.uid);await II(ne,{nodeTypes:{[Y]:fJ()}},{merge:!0})}catch(Y){console.error("Error deleting node type:",Y)}};return M.jsxs("div",{className:"min-h-screen bg-background text-text-primary",children:[M.jsx("div",{className:"w-full h-screen",children:M.jsxs(F7,{nodes:T,edges:N,onNodesChange:V,onEdgesChange:j,nodeTypes:Qee,fitView:!0,minZoom:.5,maxZoom:1.5,fitViewOptions:{padding:.5},className:"bg-background",proOptions:Jee,children:[M.jsx(H7,{className:"bg-background"}),M.jsx(J7,{className:"bg-surface border border-border rounded-lg"}),M.jsxs(bl,{position:"top-left",className:"p-4 flex items-center gap-4",children:[M.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"boost."}),M.jsx("button",{onClick:()=>m(!0),className:"nav-link px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"+ New Node Type"})]}),M.jsx(bl,{position:"top-right",className:"p-4",children:e?M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:B,className:"nav-link px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Account"}),e.email==="jacob.beauchamp75@gmail.com"&&M.jsx("button",{onClick:()=>t("/admin"),className:"nav-link px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Admin"})]}):M.jsxs("div",{className:"relative",children:[M.jsxs("div",{className:`flex gap-2 ${a?"animate-pulse":""}`,children:[M.jsx("button",{onClick:F,className:"px-4 py-2 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Log In"}),M.jsx("button",{onClick:L,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:"Sign Up"})]}),a&&M.jsx("div",{className:"absolute top-full right-0 mt-2 bg-surface-secondary text-text-primary px-4 py-2 rounded-md shadow-lg whitespace-nowrap border border-border",children:"Log in to save your goals"})]})})]})}),n&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:U,children:M.jsx(Xee,{onClose:()=>r(!1),onSwitchToSignup:()=>{r(!1),o(!0)}})}),i&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:U,children:M.jsx(Yee,{onClose:()=>o(!1),onSwitchToLogin:()=>{o(!1),r(!0)}})}),p&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:M.jsxs("div",{className:"bg-surface p-6 rounded-lg border border-border w-[400px]",children:[M.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Node Type"}),M.jsxs("form",{onSubmit:G,children:[M.jsx("input",{type:"text",value:g,onChange:K=>y(K.target.value),placeholder:"Enter node type name...",className:"w-full bg-background border border-border rounded-lg px-4 py-2.5 text-text-primary focus:outline-none focus:border-primary mb-4",autoFocus:!0}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 bg-background text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Cancel"}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:"Create"})]})]})]})})]})}function ete(){const t=dd(),{deleteAccount:e,logout:n,currentUser:r}=ns(),[i,o]=D.useState(""),[a,s]=D.useState(""),[l,u]=D.useState(!1);D.useEffect(()=>{bt(wt.ACCOUNT.DANGER_ZONE_VIEW,r==null?void 0:r.uid)},[r]);const c=async()=>{bt(wt.ACCOUNT.LOGOUT_CLICK,r==null?void 0:r.uid);try{await n(),bt(wt.ACCOUNT.LOGOUT_SUCCESS,r==null?void 0:r.uid),t("/")}catch(p){console.error("Logout error:",p)}},f=async()=>{bt(wt.ACCOUNT.DELETE_ACCOUNT_CONFIRM,r==null?void 0:r.uid);try{const p=ts.credential(r.email,i);await cZ(r,p),await e(),bt(wt.ACCOUNT.DELETE_ACCOUNT_SUCCESS,r==null?void 0:r.uid),t("/")}catch(p){s("Invalid password. Please try again."),console.error("Reauthentication error:",p)}},d=async()=>{bt(wt.ACCOUNT.DELETE_ACCOUNT_CLICK,r==null?void 0:r.uid),window.confirm("This action cannot be undone. Are you absolutely sure?")&&u(!0)};return M.jsx("div",{className:"min-h-screen bg-background p-8",children:M.jsxs("div",{className:"max-w-md mx-auto",children:[M.jsx("h2",{className:"text-xl text-text-secondary mb-8",children:"Advanced Settings"}),M.jsx("div",{className:"space-y-8",children:M.jsxs("div",{className:"border border-error/10 rounded-lg p-6 bg-error/5",children:[M.jsx("h3",{className:"text-error mb-4",children:"Danger Zone"}),M.jsx("p",{className:"text-sm text-text-secondary mb-6",children:"These actions are irreversible and can result in permanent data loss."}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("button",{onClick:c,className:"w-full py-2 px-4 bg-error/10 text-error hover:bg-error/20 rounded-md transition-colors",children:"Log Out"}),M.jsx("button",{onClick:d,className:"w-full py-2 px-4 bg-error/10 text-error hover:bg-error/20 rounded-md transition-colors",children:"Delete Account"})]})]})}),l&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:M.jsxs("div",{className:"bg-surface p-6 rounded-lg border border-border max-w-md w-full mx-4",children:[M.jsx("h3",{className:"text-xl font-semibold text-error mb-4",children:"Confirm Account Deletion"}),M.jsx("p",{className:"text-text-primary mb-4",children:"Please enter your password to confirm account deletion."}),a&&M.jsx("p",{className:"text-error text-sm mb-4",children:a}),M.jsx("input",{type:"password",value:i,onChange:p=>o(p.target.value),placeholder:"Enter your password",className:"w-full p-2 bg-background border border-border rounded-md focus:border-error focus:outline-none mb-4"}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:()=>{u(!1),o(""),s("")},className:"flex-1 py-2 px-4 bg-surface text-text-primary border border-border rounded-md hover:bg-border transition-colors",children:"Cancel"}),M.jsx("button",{onClick:f,className:"flex-1 py-2 px-4 bg-error text-white rounded-md hover:opacity-90 transition-opacity",children:"Confirm Delete"})]})]})}),M.jsx("button",{onClick:()=>t("/account"),className:"mt-8 text-sm text-text-secondary hover:text-text-primary transition-colors",children:" Back to Account"})]})})}function HL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HL(t))&&(r&&(r+=" "),r+=e);return r}var tte=Array.isArray,In=tte,nte=typeof yh=="object"&&yh&&yh.Object===Object&&yh,qL=nte,rte=qL,ite=typeof self=="object"&&self&&self.Object===Object&&self,ote=rte||ite||Function("return this")(),ai=ote,ate=ai,ste=ate.Symbol,Od=ste,QI=Od,GL=Object.prototype,lte=GL.hasOwnProperty,ute=GL.toString,Yu=QI?QI.toStringTag:void 0;function cte(t){var e=lte.call(t,Yu),n=t[Yu];try{t[Yu]=void 0;var r=!0}catch{}var i=ute.call(t);return r&&(e?t[Yu]=n:delete t[Yu]),i}var fte=cte,dte=Object.prototype,hte=dte.toString;function pte(t){return hte.call(t)}var mte=pte,JI=Od,gte=fte,yte=mte,vte="[object Null]",_te="[object Undefined]",ZI=JI?JI.toStringTag:void 0;function wte(t){return t==null?t===void 0?_te:vte:ZI&&ZI in Object(t)?gte(t):yte(t)}var Gi=wte;function bte(t){return t!=null&&typeof t=="object"}var Ki=bte,xte=Gi,Ete=Ki,Ste="[object Symbol]";function Tte(t){return typeof t=="symbol"||Ete(t)&&xte(t)==Ste}var lu=Tte,Ate=In,Pte=lu,Ite=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ote=/^\w*$/;function Cte(t,e){if(Ate(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Pte(t)?!0:Ote.test(t)||!Ite.test(t)||e!=null&&t in Object(e)}var P1=Cte;function kte(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wo=kte;const uu=ze(Wo);var Nte=Gi,Rte=Wo,Mte="[object AsyncFunction]",Dte="[object Function]",$te="[object GeneratorFunction]",jte="[object Proxy]";function Lte(t){if(!Rte(t))return!1;var e=Nte(t);return e==Dte||e==$te||e==Mte||e==jte}var I1=Lte;const Se=ze(I1);var Vte=ai,Fte=Vte["__core-js_shared__"],Bte=Fte,C0=Bte,eO=function(){var t=/[^.]+$/.exec(C0&&C0.keys&&C0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ute(t){return!!eO&&eO in t}var zte=Ute,Wte=Function.prototype,Hte=Wte.toString;function qte(t){if(t!=null){try{return Hte.call(t)}catch{}try{return t+""}catch{}}return""}var KL=qte,Gte=I1,Kte=zte,Xte=Wo,Yte=KL,Qte=/[\\^$.*+?()[\]{}|]/g,Jte=/^\[object .+?Constructor\]$/,Zte=Function.prototype,ene=Object.prototype,tne=Zte.toString,nne=ene.hasOwnProperty,rne=RegExp("^"+tne.call(nne).replace(Qte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ine(t){if(!Xte(t)||Kte(t))return!1;var e=Gte(t)?rne:Jte;return e.test(Yte(t))}var one=ine;function ane(t,e){return t==null?void 0:t[e]}var sne=ane,lne=one,une=sne;function cne(t,e){var n=une(t,e);return lne(n)?n:void 0}var rs=cne,fne=rs,dne=fne(Object,"create"),Oy=dne,tO=Oy;function hne(){this.__data__=tO?tO(null):{},this.size=0}var pne=hne;function mne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gne=mne,yne=Oy,vne="__lodash_hash_undefined__",_ne=Object.prototype,wne=_ne.hasOwnProperty;function bne(t){var e=this.__data__;if(yne){var n=e[t];return n===vne?void 0:n}return wne.call(e,t)?e[t]:void 0}var xne=bne,Ene=Oy,Sne=Object.prototype,Tne=Sne.hasOwnProperty;function Ane(t){var e=this.__data__;return Ene?e[t]!==void 0:Tne.call(e,t)}var Pne=Ane,Ine=Oy,One="__lodash_hash_undefined__";function Cne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ine&&e===void 0?One:e,this}var kne=Cne,Nne=pne,Rne=gne,Mne=xne,Dne=Pne,$ne=kne;function cu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cu.prototype.clear=Nne;cu.prototype.delete=Rne;cu.prototype.get=Mne;cu.prototype.has=Dne;cu.prototype.set=$ne;var jne=cu;function Lne(){this.__data__=[],this.size=0}var Vne=Lne;function Fne(t,e){return t===e||t!==t&&e!==e}var O1=Fne,Bne=O1;function Une(t,e){for(var n=t.length;n--;)if(Bne(t[n][0],e))return n;return-1}var Cy=Une,zne=Cy,Wne=Array.prototype,Hne=Wne.splice;function qne(t){var e=this.__data__,n=zne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Hne.call(e,n,1),--this.size,!0}var Gne=qne,Kne=Cy;function Xne(t){var e=this.__data__,n=Kne(e,t);return n<0?void 0:e[n][1]}var Yne=Xne,Qne=Cy;function Jne(t){return Qne(this.__data__,t)>-1}var Zne=Jne,ere=Cy;function tre(t,e){var n=this.__data__,r=ere(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nre=tre,rre=Vne,ire=Gne,ore=Yne,are=Zne,sre=nre;function fu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fu.prototype.clear=rre;fu.prototype.delete=ire;fu.prototype.get=ore;fu.prototype.has=are;fu.prototype.set=sre;var ky=fu,lre=rs,ure=ai,cre=lre(ure,"Map"),C1=cre,nO=jne,fre=ky,dre=C1;function hre(){this.size=0,this.__data__={hash:new nO,map:new(dre||fre),string:new nO}}var pre=hre;function mre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gre=mre,yre=gre;function vre(t,e){var n=t.__data__;return yre(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ny=vre,_re=Ny;function wre(t){var e=_re(this,t).delete(t);return this.size-=e?1:0,e}var bre=wre,xre=Ny;function Ere(t){return xre(this,t).get(t)}var Sre=Ere,Tre=Ny;function Are(t){return Tre(this,t).has(t)}var Pre=Are,Ire=Ny;function Ore(t,e){var n=Ire(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Cre=Ore,kre=pre,Nre=bre,Rre=Sre,Mre=Pre,Dre=Cre;function du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}du.prototype.clear=kre;du.prototype.delete=Nre;du.prototype.get=Rre;du.prototype.has=Mre;du.prototype.set=Dre;var k1=du,XL=k1,$re="Expected a function";function N1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($re);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(N1.Cache||XL),n}N1.Cache=XL;var YL=N1;const jre=ze(YL);var Lre=YL,Vre=500;function Fre(t){var e=Lre(t,function(r){return n.size===Vre&&n.clear(),r}),n=e.cache;return e}var Bre=Fre,Ure=Bre,zre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wre=/\\(\\)?/g,Hre=Ure(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zre,function(n,r,i,o){e.push(i?o.replace(Wre,"$1"):r||n)}),e}),qre=Hre;function Gre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var R1=Gre,rO=Od,Kre=R1,Xre=In,Yre=lu,iO=rO?rO.prototype:void 0,oO=iO?iO.toString:void 0;function QL(t){if(typeof t=="string")return t;if(Xre(t))return Kre(t,QL)+"";if(Yre(t))return oO?oO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Qre=QL,Jre=Qre;function Zre(t){return t==null?"":Jre(t)}var JL=Zre,eie=In,tie=P1,nie=qre,rie=JL;function iie(t,e){return eie(t)?t:tie(t,e)?[t]:nie(rie(t))}var ZL=iie,oie=lu;function aie(t){if(typeof t=="string"||oie(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ry=aie,sie=ZL,lie=Ry;function uie(t,e){e=sie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[lie(e[n++])];return n&&n==r?t:void 0}var M1=uie,cie=M1;function fie(t,e,n){var r=t==null?void 0:cie(t,e);return r===void 0?n:r}var eV=fie;const nr=ze(eV);function die(t){return t==null}var hie=die;const Ie=ze(hie);var pie=Gi,mie=In,gie=Ki,yie="[object String]";function vie(t){return typeof t=="string"||!mie(t)&&gie(t)&&pie(t)==yie}var _ie=vie;const Cd=ze(_ie);var tV={exports:{}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1=Symbol.for("react.element"),$1=Symbol.for("react.portal"),My=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),$y=Symbol.for("react.profiler"),jy=Symbol.for("react.provider"),Ly=Symbol.for("react.context"),wie=Symbol.for("react.server_context"),Vy=Symbol.for("react.forward_ref"),Fy=Symbol.for("react.suspense"),By=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),zy=Symbol.for("react.lazy"),bie=Symbol.for("react.offscreen"),nV;nV=Symbol.for("react.module.reference");function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case D1:switch(t=t.type,t){case My:case $y:case Dy:case Fy:case By:return t;default:switch(t=t&&t.$$typeof,t){case wie:case Ly:case Vy:case zy:case Uy:case jy:return t;default:return e}}case $1:return e}}}Be.ContextConsumer=Ly;Be.ContextProvider=jy;Be.Element=D1;Be.ForwardRef=Vy;Be.Fragment=My;Be.Lazy=zy;Be.Memo=Uy;Be.Portal=$1;Be.Profiler=$y;Be.StrictMode=Dy;Be.Suspense=Fy;Be.SuspenseList=By;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(t){return lr(t)===Ly};Be.isContextProvider=function(t){return lr(t)===jy};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D1};Be.isForwardRef=function(t){return lr(t)===Vy};Be.isFragment=function(t){return lr(t)===My};Be.isLazy=function(t){return lr(t)===zy};Be.isMemo=function(t){return lr(t)===Uy};Be.isPortal=function(t){return lr(t)===$1};Be.isProfiler=function(t){return lr(t)===$y};Be.isStrictMode=function(t){return lr(t)===Dy};Be.isSuspense=function(t){return lr(t)===Fy};Be.isSuspenseList=function(t){return lr(t)===By};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===My||t===$y||t===Dy||t===Fy||t===By||t===bie||typeof t=="object"&&t!==null&&(t.$$typeof===zy||t.$$typeof===Uy||t.$$typeof===jy||t.$$typeof===Ly||t.$$typeof===Vy||t.$$typeof===nV||t.getModuleId!==void 0)};Be.typeOf=lr;tV.exports=Be;var xie=tV.exports,Eie=Gi,Sie=Ki,Tie="[object Number]";function Aie(t){return typeof t=="number"||Sie(t)&&Eie(t)==Tie}var rV=Aie;const Pie=ze(rV);var Iie=rV;function Oie(t){return Iie(t)&&t!=+t}var Cie=Oie;const kd=ze(Cie);var Ar=function(e){return e===0?0:e>0?1:-1},ya=function(e){return Cd(e)&&e.indexOf("%")===e.length-1},ue=function(e){return Pie(e)&&!kd(e)},Nt=function(e){return ue(e)||Cd(e)},kie=0,Nd=function(e){var n=++kie;return"".concat(e||"").concat(n)},za=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!Cd(e))return r;var o;if(ya(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return kd(o)&&(o=r),i&&o>n&&(o=n),o},ho=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Nie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},xr=function(e,n){return ue(e)&&ue(n)?function(r){return e+r*(n-e)}:function(){return n}};function Dm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):nr(r,e))===n})}function il(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Uw(t){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(t)}var Rie=["viewBox","children"],Mie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aO=["points","pathLength"],k0={svg:Rie,polygon:aO,polyline:aO},j1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$m=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!uu(r))return null;var i={};return Object.keys(r).forEach(function(o){j1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Die=function(e,n,r){return function(i){return e(n,r,i),null}},jm=function(e,n,r){if(!uu(e)||Uw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];j1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Die(a,n,r))}),i},$ie=["children"],jie=["children"];function sO(t,e){if(t==null)return{};var n=Lie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zw(t){"@babel/helpers - typeof";return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(t)}var lO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ai=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uO=null,N0=null,L1=function t(e){if(e===uO&&Array.isArray(N0))return N0;var n=[];return D.Children.forEach(e,function(r){Ie(r)||(xie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),N0=n,uO=e,n};function rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ai(i)}):r=[Ai(e)],L1(t).forEach(function(i){var o=nr(i,"type.displayName")||nr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Mn(t,e){var n=rr(t,e);return n&&n[0]}var cO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ue(r)||r<=0||!ue(i)||i<=0)},Vie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fie=function(e){return e&&e.type&&Cd(e.type)&&Vie.indexOf(e.type)>=0},Bie=function(e){return e&&zw(e)==="object"&&"clipDot"in e},Uie=function(e,n,r,i){var o,a=(o=k0==null?void 0:k0[i])!==null&&o!==void 0?o:[];return!Se(e)&&(i&&a.includes(n)||Mie.includes(n))||r&&j1.includes(n)},Ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!uu(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Uie((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Ww=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return fO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!fO(o,a))return!1}return!0},fO=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,o=sO(r,$ie),a=n.props||{},s=a.children,l=sO(a,jie);return i&&s?il(o,l)&&Ww(i,s):!i&&!s?il(o,l):!1}return!1},dO=function(e,n){var r=[],i={};return L1(e).forEach(function(o,a){if(Fie(o))r.push(o);else if(o){var s=Ai(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},zie=function(e){var n=e&&e.type;return n&&lO[n]?lO[n]:null},Wie=function(e,n){return L1(n).indexOf(e)},Hie=["children","width","height","viewBox","className","style","title","desc"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function qie(t,e){if(t==null)return{};var n=Gie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=qie(t,Hie),c=i||{width:n,height:r,x:0,y:0},f=$e("recharts-surface",o);return z.createElement("svg",Hw({},Ce(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),z.createElement("title",null,s),z.createElement("desc",null,l),e)}var Kie=["children","className"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(this,arguments)}function Xie(t,e){if(t==null)return{};var n=Yie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Xie(t,Kie),o=$e("recharts-layer",r);return z.createElement("g",Gw({className:o},Ce(i,!0),{ref:e}),n)}),Pi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Qie(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Jie=Qie,Zie=Jie;function eoe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Zie(t,e,n)}var toe=eoe,noe="\\ud800-\\udfff",roe="\\u0300-\\u036f",ioe="\\ufe20-\\ufe2f",ooe="\\u20d0-\\u20ff",aoe=roe+ioe+ooe,soe="\\ufe0e\\ufe0f",loe="\\u200d",uoe=RegExp("["+loe+noe+aoe+soe+"]");function coe(t){return uoe.test(t)}var iV=coe;function foe(t){return t.split("")}var doe=foe,oV="\\ud800-\\udfff",hoe="\\u0300-\\u036f",poe="\\ufe20-\\ufe2f",moe="\\u20d0-\\u20ff",goe=hoe+poe+moe,yoe="\\ufe0e\\ufe0f",voe="["+oV+"]",Kw="["+goe+"]",Xw="\\ud83c[\\udffb-\\udfff]",_oe="(?:"+Kw+"|"+Xw+")",aV="[^"+oV+"]",sV="(?:\\ud83c[\\udde6-\\uddff]){2}",lV="[\\ud800-\\udbff][\\udc00-\\udfff]",woe="\\u200d",uV=_oe+"?",cV="["+yoe+"]?",boe="(?:"+woe+"(?:"+[aV,sV,lV].join("|")+")"+cV+uV+")*",xoe=cV+uV+boe,Eoe="(?:"+[aV+Kw+"?",Kw,sV,lV,voe].join("|")+")",Soe=RegExp(Xw+"(?="+Xw+")|"+Eoe+xoe,"g");function Toe(t){return t.match(Soe)||[]}var Aoe=Toe,Poe=doe,Ioe=iV,Ooe=Aoe;function Coe(t){return Ioe(t)?Ooe(t):Poe(t)}var koe=Coe,Noe=toe,Roe=iV,Moe=koe,Doe=JL;function $oe(t){return function(e){e=Doe(e);var n=Roe(e)?Moe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Noe(n,1).join(""):e.slice(1);return r[t]()+i}}var joe=$oe,Loe=joe,Voe=Loe("toUpperCase"),Foe=Voe;const Wy=ze(Foe);function Ge(t){return function(){return t}}const fV=Math.cos,Lm=Math.sin,jr=Math.sqrt,Vm=Math.PI,Hy=2*Vm,Yw=Math.PI,Qw=2*Yw,sa=1e-6,Boe=Qw-sa;function dV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Uoe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zoe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dV:Uoe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>sa)if(!(Math.abs(f*l-u*c)>sa)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+u*u,y=p*p+m*m,v=Math.sqrt(g),w=Math.sqrt(d),_=o*Math.tan((Yw-Math.acos((g+d-y)/(2*v*w)))/2),S=_/w,E=_/v;Math.abs(S-1)>sa&&this._append`L${e+S*c},${n+S*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>sa||Math.abs(this._y1-c)>sa)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%Qw+Qw),d>Boe?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>sa&&this._append`A${r},${r},0,${+(d>=Yw)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function V1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zoe(e)}function F1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hV(t){this._context=t}hV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qy(t){return new hV(t)}function pV(t){return t[0]}function mV(t){return t[1]}function gV(t,e){var n=Ge(!0),r=null,i=qy,o=null,a=V1(s);t=typeof t=="function"?t:t===void 0?pV:Ge(t),e=typeof e=="function"?e:e===void 0?mV:Ge(e);function s(l){var u,c=(l=F1(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ge(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ge(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ge(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Xh(t,e,n){var r=null,i=Ge(!0),o=null,a=qy,s=null,l=V1(u);t=typeof t=="function"?t:t===void 0?pV:Ge(+t),e=typeof e=="function"?e:Ge(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mV:Ge(+n);function u(f){var d,p,m,g=(f=F1(f)).length,y,v=!1,w,_=new Array(g),S=new Array(g);for(o==null&&(s=a(w=l())),d=0;d<=g;++d){if(!(d<g&&i(y=f[d],d,f))===v)if(v=!v)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(_[m],S[m]);s.lineEnd(),s.areaEnd()}v&&(_[d]=+t(y,d,f),S[d]=+e(y,d,f),s.point(r?+r(y,d,f):_[d],n?+n(y,d,f):S[d]))}if(w)return s=null,w+""||null}function c(){return gV().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ge(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ge(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ge(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class yV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Woe(t){return new yV(t,!0)}function Hoe(t){return new yV(t,!1)}const B1={draw(t,e){const n=jr(e/Vm);t.moveTo(n,0),t.arc(0,0,n,0,Hy)}},qoe={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vV=jr(1/3),Goe=vV*2,Koe={draw(t,e){const n=jr(e/Goe),r=n*vV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Xoe={draw(t,e){const n=jr(e),r=-n/2;t.rect(r,r,n,n)}},Yoe=.8908130915292852,_V=Lm(Vm/10)/Lm(7*Vm/10),Qoe=Lm(Hy/10)*_V,Joe=-fV(Hy/10)*_V,Zoe={draw(t,e){const n=jr(e*Yoe),r=Qoe*n,i=Joe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Hy*o/5,s=fV(a),l=Lm(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},R0=jr(3),eae={draw(t,e){const n=-jr(e/(R0*3));t.moveTo(0,n*2),t.lineTo(-R0*n,-n),t.lineTo(R0*n,-n),t.closePath()}},qn=-.5,Gn=jr(3)/2,Jw=1/jr(12),tae=(Jw/2+1)*3,nae={draw(t,e){const n=jr(e/tae),r=n/2,i=n*Jw,o=r,a=n*Jw+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(qn*r-Gn*i,Gn*r+qn*i),t.lineTo(qn*o-Gn*a,Gn*o+qn*a),t.lineTo(qn*s-Gn*l,Gn*s+qn*l),t.lineTo(qn*r+Gn*i,qn*i-Gn*r),t.lineTo(qn*o+Gn*a,qn*a-Gn*o),t.lineTo(qn*s+Gn*l,qn*l-Gn*s),t.closePath()}};function rae(t,e){let n=null,r=V1(i);t=typeof t=="function"?t:Ge(t||B1),e=typeof e=="function"?e:Ge(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ge(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ge(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Fm(){}function Bm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wV(t){this._context=t}wV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iae(t){return new wV(t)}function bV(t){this._context=t}bV.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oae(t){return new bV(t)}function xV(t){this._context=t}xV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aae(t){return new xV(t)}function EV(t){this._context=t}EV.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sae(t){return new EV(t)}function hO(t){return t<0?-1:1}function pO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(hO(o)+hO(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function mO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Um(t){this._context=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M0(this,this._t0,mO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M0(this,mO(this,n=pO(this,t,e)),n);break;default:M0(this,this._t0,n=pO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function SV(t){this._context=new TV(t)}(SV.prototype=Object.create(Um.prototype)).point=function(t,e){Um.prototype.point.call(this,e,t)};function TV(t){this._context=t}TV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function lae(t){return new Um(t)}function uae(t){return new SV(t)}function AV(t){this._context=t}AV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=gO(t),i=gO(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function cae(t){return new AV(t)}function Gy(t,e){this._context=t,this._t=e}Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fae(t){return new Gy(t,.5)}function dae(t){return new Gy(t,0)}function hae(t){return new Gy(t,1)}function Ol(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Zw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pae(t,e){return t[e]}function mae(t){const e=[];return e.key=t,e}function gae(){var t=Ge([]),e=Zw,n=Ol,r=pae;function i(o){var a=Array.from(t.apply(this,arguments),mae),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=F1(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ge(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ge(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Zw:typeof o=="function"?o:Ge(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ol,i):n},i}function yae(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ol(t,e)}}function vae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ol(t,e)}}function _ae(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=t[e[m]],y=g[r][1]||0,v=g[r-1][1]||0;p+=y-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ol(t,e)}}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}var wae=["type","size","sizeType"];function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bae(t,e,n){return e=xae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xae(t){var e=Eae(t,"string");return If(e)=="symbol"?e:e+""}function Eae(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sae(t,e){if(t==null)return{};var n=Tae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PV={symbolCircle:B1,symbolCross:qoe,symbolDiamond:Koe,symbolSquare:Xoe,symbolStar:Zoe,symbolTriangle:eae,symbolWye:nae},Aae=Math.PI/180,Pae=function(e){var n="symbol".concat(Wy(e));return PV[n]||B1},Iae=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Aae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Oae=function(e,n){PV["symbol".concat(Wy(e))]=n},U1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Sae(e,wae),u=vO(vO({},l),{},{type:r,size:o,sizeType:s}),c=function(){var y=Pae(r),v=rae().type(y).size(Iae(o,s,r));return v()},f=u.className,d=u.cx,p=u.cy,m=Ce(u,!0);return d===+d&&p===+p&&o===+o?z.createElement("path",eb({},m,{className:$e("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};U1.registerSymbol=Oae;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){Of(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OV(r.key),r)}}function Rae(t,e,n){return e&&Nae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mae(t,e,n){return e=zm(e),Dae(t,IV()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function Dae(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ae(t)}function $ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IV=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function jae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function Of(t,e,n){return e=OV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OV(t){var e=Lae(t,"string");return Cl(e)=="symbol"?e:e+""}function Lae(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hr=32,z1=function(t){function e(){return kae(this,e),Mae(this,e,arguments)}return jae(e,t),Rae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=hr/2,a=hr/6,s=hr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:hr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(hr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var u=Cae({},r);return delete u.legendIcon,z.cloneElement(r.legendIcon,u)}return z.createElement(U1,{fill:l,cx:o,cy:o,size:hr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:hr,height:hr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,y=$e(Of(Of({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Se(p.value)?null:p.value;Pi(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return z.createElement("li",tb({className:y,style:f,key:"legend-item-".concat(m)},jm(r.props,p,m)),z.createElement(qw,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Of(z1,"displayName","Legend");Of(z1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Vae=ky;function Fae(){this.__data__=new Vae,this.size=0}var Bae=Fae;function Uae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var zae=Uae;function Wae(t){return this.__data__.get(t)}var Hae=Wae;function qae(t){return this.__data__.has(t)}var Gae=qae,Kae=ky,Xae=C1,Yae=k1,Qae=200;function Jae(t,e){var n=this.__data__;if(n instanceof Kae){var r=n.__data__;if(!Xae||r.length<Qae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yae(r)}return n.set(t,e),this.size=n.size,this}var Zae=Jae,ese=ky,tse=Bae,nse=zae,rse=Hae,ise=Gae,ose=Zae;function hu(t){var e=this.__data__=new ese(t);this.size=e.size}hu.prototype.clear=tse;hu.prototype.delete=nse;hu.prototype.get=rse;hu.prototype.has=ise;hu.prototype.set=ose;var CV=hu,ase="__lodash_hash_undefined__";function sse(t){return this.__data__.set(t,ase),this}var lse=sse;function use(t){return this.__data__.has(t)}var cse=use,fse=k1,dse=lse,hse=cse;function Wm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fse;++e<n;)this.add(t[e])}Wm.prototype.add=Wm.prototype.push=dse;Wm.prototype.has=hse;var kV=Wm;function pse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var NV=pse;function mse(t,e){return t.has(e)}var RV=mse,gse=kV,yse=NV,vse=RV,_se=1,wse=2;function bse(t,e,n,r,i,o){var a=n&_se,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&wse?new gse:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var y=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!yse(e,function(v,w){if(!vse(p,w)&&(m===v||i(m,v,n,r,o)))return p.push(w)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var MV=bse,xse=ai,Ese=xse.Uint8Array,Sse=Ese;function Tse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ase=Tse;function Pse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var W1=Pse,wO=Od,bO=Sse,Ise=O1,Ose=MV,Cse=Ase,kse=W1,Nse=1,Rse=2,Mse="[object Boolean]",Dse="[object Date]",$se="[object Error]",jse="[object Map]",Lse="[object Number]",Vse="[object RegExp]",Fse="[object Set]",Bse="[object String]",Use="[object Symbol]",zse="[object ArrayBuffer]",Wse="[object DataView]",xO=wO?wO.prototype:void 0,D0=xO?xO.valueOf:void 0;function Hse(t,e,n,r,i,o,a){switch(n){case Wse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zse:return!(t.byteLength!=e.byteLength||!o(new bO(t),new bO(e)));case Mse:case Dse:case Lse:return Ise(+t,+e);case $se:return t.name==e.name&&t.message==e.message;case Vse:case Bse:return t==e+"";case jse:var s=Cse;case Fse:var l=r&Nse;if(s||(s=kse),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Rse,a.set(t,e);var c=Ose(s(t),s(e),r,i,o,a);return a.delete(t),c;case Use:if(D0)return D0.call(t)==D0.call(e)}return!1}var qse=Hse;function Gse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var DV=Gse,Kse=DV,Xse=In;function Yse(t,e,n){var r=e(t);return Xse(t)?r:Kse(r,n(t))}var Qse=Yse;function Jse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Zse=Jse;function ele(){return[]}var tle=ele,nle=Zse,rle=tle,ile=Object.prototype,ole=ile.propertyIsEnumerable,EO=Object.getOwnPropertySymbols,ale=EO?function(t){return t==null?[]:(t=Object(t),nle(EO(t),function(e){return ole.call(t,e)}))}:rle,sle=ale;function lle(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ule=lle,cle=Gi,fle=Ki,dle="[object Arguments]";function hle(t){return fle(t)&&cle(t)==dle}var ple=hle,SO=ple,mle=Ki,$V=Object.prototype,gle=$V.hasOwnProperty,yle=$V.propertyIsEnumerable,vle=SO(function(){return arguments}())?SO:function(t){return mle(t)&&gle.call(t,"callee")&&!yle.call(t,"callee")},H1=vle,Hm={exports:{}};function _le(){return!1}var wle=_le;Hm.exports;(function(t,e){var n=ai,r=wle,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Hm,Hm.exports);var jV=Hm.exports,ble=9007199254740991,xle=/^(?:0|[1-9]\d*)$/;function Ele(t,e){var n=typeof t;return e=e??ble,!!e&&(n=="number"||n!="symbol"&&xle.test(t))&&t>-1&&t%1==0&&t<e}var q1=Ele,Sle=9007199254740991;function Tle(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Sle}var G1=Tle,Ale=Gi,Ple=G1,Ile=Ki,Ole="[object Arguments]",Cle="[object Array]",kle="[object Boolean]",Nle="[object Date]",Rle="[object Error]",Mle="[object Function]",Dle="[object Map]",$le="[object Number]",jle="[object Object]",Lle="[object RegExp]",Vle="[object Set]",Fle="[object String]",Ble="[object WeakMap]",Ule="[object ArrayBuffer]",zle="[object DataView]",Wle="[object Float32Array]",Hle="[object Float64Array]",qle="[object Int8Array]",Gle="[object Int16Array]",Kle="[object Int32Array]",Xle="[object Uint8Array]",Yle="[object Uint8ClampedArray]",Qle="[object Uint16Array]",Jle="[object Uint32Array]",Qe={};Qe[Wle]=Qe[Hle]=Qe[qle]=Qe[Gle]=Qe[Kle]=Qe[Xle]=Qe[Yle]=Qe[Qle]=Qe[Jle]=!0;Qe[Ole]=Qe[Cle]=Qe[Ule]=Qe[kle]=Qe[zle]=Qe[Nle]=Qe[Rle]=Qe[Mle]=Qe[Dle]=Qe[$le]=Qe[jle]=Qe[Lle]=Qe[Vle]=Qe[Fle]=Qe[Ble]=!1;function Zle(t){return Ile(t)&&Ple(t.length)&&!!Qe[Ale(t)]}var eue=Zle;function tue(t){return function(e){return t(e)}}var LV=tue,qm={exports:{}};qm.exports;(function(t,e){var n=qL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(qm,qm.exports);var nue=qm.exports,rue=eue,iue=LV,TO=nue,AO=TO&&TO.isTypedArray,oue=AO?iue(AO):rue,VV=oue,aue=ule,sue=H1,lue=In,uue=jV,cue=q1,fue=VV,due=Object.prototype,hue=due.hasOwnProperty;function pue(t,e){var n=lue(t),r=!n&&sue(t),i=!n&&!r&&uue(t),o=!n&&!r&&!i&&fue(t),a=n||r||i||o,s=a?aue(t.length,String):[],l=s.length;for(var u in t)(e||hue.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cue(u,l)))&&s.push(u);return s}var mue=pue,gue=Object.prototype;function yue(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||gue;return t===n}var vue=yue;function _ue(t,e){return function(n){return t(e(n))}}var FV=_ue,wue=FV,bue=wue(Object.keys,Object),xue=bue,Eue=vue,Sue=xue,Tue=Object.prototype,Aue=Tue.hasOwnProperty;function Pue(t){if(!Eue(t))return Sue(t);var e=[];for(var n in Object(t))Aue.call(t,n)&&n!="constructor"&&e.push(n);return e}var Iue=Pue,Oue=I1,Cue=G1;function kue(t){return t!=null&&Cue(t.length)&&!Oue(t)}var Rd=kue,Nue=mue,Rue=Iue,Mue=Rd;function Due(t){return Mue(t)?Nue(t):Rue(t)}var Ky=Due,$ue=Qse,jue=sle,Lue=Ky;function Vue(t){return $ue(t,Lue,jue)}var Fue=Vue,PO=Fue,Bue=1,Uue=Object.prototype,zue=Uue.hasOwnProperty;function Wue(t,e,n,r,i,o){var a=n&Bue,s=PO(t),l=s.length,u=PO(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:zue.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=a;++f<l;){d=s[f];var v=t[d],w=e[d];if(r)var _=a?r(w,v,d,e,t,o):r(v,w,d,t,e,o);if(!(_===void 0?v===w||i(v,w,n,r,o):_)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var Hue=Wue,que=rs,Gue=ai,Kue=que(Gue,"DataView"),Xue=Kue,Yue=rs,Que=ai,Jue=Yue(Que,"Promise"),Zue=Jue,ece=rs,tce=ai,nce=ece(tce,"Set"),BV=nce,rce=rs,ice=ai,oce=rce(ice,"WeakMap"),ace=oce,rb=Xue,ib=C1,ob=Zue,ab=BV,sb=ace,UV=Gi,pu=KL,IO="[object Map]",sce="[object Object]",OO="[object Promise]",CO="[object Set]",kO="[object WeakMap]",NO="[object DataView]",lce=pu(rb),uce=pu(ib),cce=pu(ob),fce=pu(ab),dce=pu(sb),la=UV;(rb&&la(new rb(new ArrayBuffer(1)))!=NO||ib&&la(new ib)!=IO||ob&&la(ob.resolve())!=OO||ab&&la(new ab)!=CO||sb&&la(new sb)!=kO)&&(la=function(t){var e=UV(t),n=e==sce?t.constructor:void 0,r=n?pu(n):"";if(r)switch(r){case lce:return NO;case uce:return IO;case cce:return OO;case fce:return CO;case dce:return kO}return e});var hce=la,$0=CV,pce=MV,mce=qse,gce=Hue,RO=hce,MO=In,DO=jV,yce=VV,vce=1,$O="[object Arguments]",jO="[object Array]",Yh="[object Object]",_ce=Object.prototype,LO=_ce.hasOwnProperty;function wce(t,e,n,r,i,o){var a=MO(t),s=MO(e),l=a?jO:RO(t),u=s?jO:RO(e);l=l==$O?Yh:l,u=u==$O?Yh:u;var c=l==Yh,f=u==Yh,d=l==u;if(d&&DO(t)){if(!DO(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new $0),a||yce(t)?pce(t,e,n,r,i,o):mce(t,e,l,n,r,i,o);if(!(n&vce)){var p=c&&LO.call(t,"__wrapped__"),m=f&&LO.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new $0),i(g,y,n,r,o)}}return d?(o||(o=new $0),gce(t,e,n,r,i,o)):!1}var bce=wce,xce=bce,VO=Ki;function zV(t,e,n,r,i){return t===e?!0:t==null||e==null||!VO(t)&&!VO(e)?t!==t&&e!==e:xce(t,e,n,r,zV,i)}var K1=zV,Ece=CV,Sce=K1,Tce=1,Ace=2;function Pce(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Ece;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?Sce(c,u,Tce|Ace,r,f):d))return!1}}return!0}var Ice=Pce,Oce=Wo;function Cce(t){return t===t&&!Oce(t)}var WV=Cce,kce=WV,Nce=Ky;function Rce(t){for(var e=Nce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,kce(i)]}return e}var Mce=Rce;function Dce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var HV=Dce,$ce=Ice,jce=Mce,Lce=HV;function Vce(t){var e=jce(t);return e.length==1&&e[0][2]?Lce(e[0][0],e[0][1]):function(n){return n===t||$ce(n,t,e)}}var Fce=Vce;function Bce(t,e){return t!=null&&e in Object(t)}var Uce=Bce,zce=ZL,Wce=H1,Hce=In,qce=q1,Gce=G1,Kce=Ry;function Xce(t,e,n){e=zce(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Kce(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Gce(i)&&qce(a,i)&&(Hce(t)||Wce(t)))}var Yce=Xce,Qce=Uce,Jce=Yce;function Zce(t,e){return t!=null&&Jce(t,e,Qce)}var efe=Zce,tfe=K1,nfe=eV,rfe=efe,ife=P1,ofe=WV,afe=HV,sfe=Ry,lfe=1,ufe=2;function cfe(t,e){return ife(t)&&ofe(e)?afe(sfe(t),e):function(n){var r=nfe(n,t);return r===void 0&&r===e?rfe(n,t):tfe(e,r,lfe|ufe)}}var ffe=cfe;function dfe(t){return t}var mu=dfe;function hfe(t){return function(e){return e==null?void 0:e[t]}}var pfe=hfe,mfe=M1;function gfe(t){return function(e){return mfe(e,t)}}var yfe=gfe,vfe=pfe,_fe=yfe,wfe=P1,bfe=Ry;function xfe(t){return wfe(t)?vfe(bfe(t)):_fe(t)}var Efe=xfe,Sfe=Fce,Tfe=ffe,Afe=mu,Pfe=In,Ife=Efe;function Ofe(t){return typeof t=="function"?t:t==null?Afe:typeof t=="object"?Pfe(t)?Tfe(t[0],t[1]):Sfe(t):Ife(t)}var Ho=Ofe;function Cfe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var qV=Cfe;function kfe(t){return t!==t}var Nfe=kfe;function Rfe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Mfe=Rfe,Dfe=qV,$fe=Nfe,jfe=Mfe;function Lfe(t,e,n){return e===e?jfe(t,e,n):Dfe(t,$fe,n)}var Vfe=Lfe,Ffe=Vfe;function Bfe(t,e){var n=t==null?0:t.length;return!!n&&Ffe(t,e,0)>-1}var Ufe=Bfe;function zfe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Wfe=zfe;function Hfe(){}var qfe=Hfe,j0=BV,Gfe=qfe,Kfe=W1,Xfe=1/0,Yfe=j0&&1/Kfe(new j0([,-0]))[1]==Xfe?function(t){return new j0(t)}:Gfe,Qfe=Yfe,Jfe=kV,Zfe=Ufe,ede=Wfe,tde=RV,nde=Qfe,rde=W1,ide=200;function ode(t,e,n){var r=-1,i=Zfe,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=ede;else if(o>=ide){var u=e?null:nde(t);if(u)return rde(u);a=!1,i=tde,l=new Jfe}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var ade=ode,sde=Ho,lde=ade;function ude(t,e){return t&&t.length?lde(t,sde(e)):[]}var cde=ude;const FO=ze(cde);function GV(t,e,n){return e===!0?FO(t,n):Se(e)?FO(t,e):t}function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}var fde=["ref"];function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XV(r.key),r)}}function hde(t,e,n){return e&&UO(t.prototype,e),n&&UO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pde(t,e,n){return e=Gm(e),mde(t,KV()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function mde(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(t)}function gde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function Xy(t,e,n){return e=XV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XV(t){var e=vde(t,"string");return kl(e)=="symbol"?e:e+""}function vde(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _de(t,e){if(t==null)return{};var n=wde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bde(t){return t.value}function xde(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=_de(e,fde);return z.createElement(z1,n)}var zO=1,ol=function(t){function e(){var n;dde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=pde(this,e,[].concat(i)),Xy(n,"lastBoundingBox",{width:-1,height:-1}),n}return yde(e,t),hde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zO||Math.abs(i.height-this.lastBoundingBox.height)>zO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fi(fi({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=fi(fi({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},xde(o,fi(fi({},this.props),{},{payload:GV(c,u,bde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fi(fi({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ue(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Xy(ol,"displayName","Legend");Xy(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WO=Od,Ede=H1,Sde=In,HO=WO?WO.isConcatSpreadable:void 0;function Tde(t){return Sde(t)||Ede(t)||!!(HO&&t&&t[HO])}var Ade=Tde,Pde=DV,Ide=Ade;function YV(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ide),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?YV(s,e-1,n,r,i):Pde(i,s):r||(i[i.length]=s)}return i}var QV=YV;function Ode(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Cde=Ode,kde=Cde,Nde=kde(),Rde=Nde,Mde=Rde,Dde=Ky;function $de(t,e){return t&&Mde(t,e,Dde)}var JV=$de,jde=Rd;function Lde(t,e){return function(n,r){if(n==null)return n;if(!jde(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Vde=Lde,Fde=JV,Bde=Vde,Ude=Bde(Fde),X1=Ude,zde=X1,Wde=Rd;function Hde(t,e){var n=-1,r=Wde(t)?Array(t.length):[];return zde(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var ZV=Hde;function qde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Gde=qde,qO=lu;function Kde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=qO(t),a=e!==void 0,s=e===null,l=e===e,u=qO(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Xde=Kde,Yde=Xde;function Qde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Yde(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Jde=Qde,L0=R1,Zde=M1,ehe=Ho,the=ZV,nhe=Gde,rhe=LV,ihe=Jde,ohe=mu,ahe=In;function she(t,e,n){e.length?e=L0(e,function(o){return ahe(o)?function(a){return Zde(a,o.length===1?o[0]:o)}:o}):e=[ohe];var r=-1;e=L0(e,rhe(ehe));var i=the(t,function(o,a,s){var l=L0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return nhe(i,function(o,a){return ihe(o,a,n)})}var lhe=she;function uhe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var che=uhe,fhe=che,GO=Math.max;function dhe(t,e,n){return e=GO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=GO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),fhe(t,this,s)}}var hhe=dhe;function phe(t){return function(){return t}}var mhe=phe,ghe=rs,yhe=function(){try{var t=ghe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),e4=yhe,vhe=mhe,KO=e4,_he=mu,whe=KO?function(t,e){return KO(t,"toString",{configurable:!0,enumerable:!1,value:vhe(e),writable:!0})}:_he,bhe=whe,xhe=800,Ehe=16,She=Date.now;function The(t){var e=0,n=0;return function(){var r=She(),i=Ehe-(r-n);if(n=r,i>0){if(++e>=xhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ahe=The,Phe=bhe,Ihe=Ahe,Ohe=Ihe(Phe),Che=Ohe,khe=mu,Nhe=hhe,Rhe=Che;function Mhe(t,e){return Rhe(Nhe(t,e,khe),t+"")}var Dhe=Mhe,$he=O1,jhe=Rd,Lhe=q1,Vhe=Wo;function Fhe(t,e,n){if(!Vhe(n))return!1;var r=typeof e;return(r=="number"?jhe(n)&&Lhe(e,n.length):r=="string"&&e in n)?$he(n[e],t):!1}var Yy=Fhe,Bhe=QV,Uhe=lhe,zhe=Dhe,XO=Yy,Whe=zhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&XO(t,e[0],e[1])?e=[]:n>2&&XO(e[0],e[1],e[2])&&(e=[e[0]]),Uhe(t,Bhe(e,1),[])}),Hhe=Whe;const Y1=ze(Hhe);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(this,arguments)}function qhe(t,e){return Yhe(t)||Xhe(t,e)||Khe(t,e)||Ghe()}function Ghe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Khe(t,e){if(t){if(typeof t=="string")return YO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YO(t,e)}}function YO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Yhe(t){if(Array.isArray(t))return t}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return e=Jhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jhe(t){var e=Zhe(t,"string");return Cf(e)=="symbol"?e:e+""}function Zhe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function epe(t){return Array.isArray(t)&&Nt(t[0])&&Nt(t[1])?t.join(" ~ "):t}var tpe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(c&&c.length){var N={padding:0,margin:0},k=(d?Y1(c,d):c).map(function(R,V){if(R.type==="none")return null;var j=V0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),F=R.formatter||f||epe,L=R.value,B=R.name,U=L,G=B;if(F&&U!=null&&G!=null){var W=F(L,B,R,V,c);if(Array.isArray(W)){var K=qhe(W,2);U=K[0],G=K[1]}else U=W}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:j},Nt(G)?z.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Nt(G)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},U),z.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},S=V0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=V0({margin:0},u),A=!Ie(g),b=A?g:"",T=$e("recharts-default-tooltip",p),P=$e("recharts-tooltip-label",m);A&&y&&c!==void 0&&c!==null&&(b=y(g,c));var O=w?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",ub({className:T,style:S},O),z.createElement("p",{className:P,style:E},z.isValidElement(b)?b:"".concat(b)),_())};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Qh(t,e,n){return e=npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=rpe(t,"string");return kf(e)=="symbol"?e:e+""}function rpe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu="recharts-tooltip-wrapper",ipe={visibility:"hidden"};function ope(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return $e(Qu,Qh(Qh(Qh(Qh({},"".concat(Qu,"-right"),ue(n)&&e&&ue(e.x)&&n>=e.x),"".concat(Qu,"-left"),ue(n)&&e&&ue(e.x)&&n<e.x),"".concat(Qu,"-bottom"),ue(r)&&e&&ue(e.y)&&r>=e.y),"".concat(Qu,"-top"),ue(r)&&e&&ue(e.y)&&r<e.y))}function JO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ue(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function ape(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function spe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=JO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=JO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=ape({translateX:c,translateY:f,useTranslate3d:s})):u=ipe,{cssProperties:u,cssClasses:ope({translateX:c,translateY:f,coordinate:n})}}function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function upe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n4(r.key),r)}}function cpe(t,e,n){return e&&upe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fpe(t,e,n){return e=Km(e),dpe(t,t4()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function dpe(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hpe(t)}function hpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function ppe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function fb(t,e,n){return e=n4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n4(t){var e=mpe(t,"string");return Nl(e)=="symbol"?e:e+""}function mpe(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tC=1,gpe=function(t){function e(){var n;lpe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fpe(this,e,[].concat(i)),fb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fb(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return ppe(e,t),cpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>tC||Math.abs(r.height-this.state.lastBoundingBox.height)>tC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=spe({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),S=_.cssClasses,E=_.cssProperties,A=eC(eC({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return z.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(T){r.wrapperNode=T}},u)}}])}(D.PureComponent),ype=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gu={isSsr:ype()};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){Q1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i4(r.key),r)}}function wpe(t,e,n){return e&&_pe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bpe(t,e,n){return e=Xm(e),xpe(t,r4()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function xpe(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Epe(t)}function Epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},db(t,e)}function Q1(t,e,n){return e=i4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i4(t){var e=Tpe(t,"string");return Rl(e)=="symbol"?e:e+""}function Tpe(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ape(t){return t.dataKey}function Ppe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(tpe,e)}var Wr=function(t){function e(){return vpe(this,e),bpe(this,e,arguments)}return Spe(e,t),wpe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,E=m??[];f&&E.length&&(E=GV(m.filter(function(b){return b.value!=null&&(b.hide!==!0||r.props.includeHidden)}),g,Ape));var A=E.length>0;return z.createElement(gpe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:y,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:S},Ppe(u,rC(rC({},this.props),{},{payload:E})))}}])}(D.PureComponent);Q1(Wr,"displayName","Tooltip");Q1(Wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ipe=ai,Ope=function(){return Ipe.Date.now()},Cpe=Ope,kpe=/\s/;function Npe(t){for(var e=t.length;e--&&kpe.test(t.charAt(e)););return e}var Rpe=Npe,Mpe=Rpe,Dpe=/^\s+/;function $pe(t){return t&&t.slice(0,Mpe(t)+1).replace(Dpe,"")}var jpe=$pe,Lpe=jpe,iC=Wo,Vpe=lu,oC=NaN,Fpe=/^[-+]0x[0-9a-f]+$/i,Bpe=/^0b[01]+$/i,Upe=/^0o[0-7]+$/i,zpe=parseInt;function Wpe(t){if(typeof t=="number")return t;if(Vpe(t))return oC;if(iC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Lpe(t);var n=Bpe.test(t);return n||Upe.test(t)?zpe(t.slice(2),n?2:8):Fpe.test(t)?oC:+t}var o4=Wpe,Hpe=Wo,F0=Cpe,aC=o4,qpe="Expected a function",Gpe=Math.max,Kpe=Math.min;function Xpe(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(qpe);e=aC(e)||0,Hpe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Gpe(aC(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var b=r,T=i;return r=i=void 0,u=A,a=t.apply(T,b),a}function m(A){return u=A,s=setTimeout(v,e),c?p(A):a}function g(A){var b=A-l,T=A-u,P=e-b;return f?Kpe(P,o-T):P}function y(A){var b=A-l,T=A-u;return l===void 0||b>=e||b<0||f&&T>=o}function v(){var A=F0();if(y(A))return w(A);s=setTimeout(v,g(A))}function w(A){return s=void 0,d&&r?p(A):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function S(){return s===void 0?a:w(F0())}function E(){var A=F0(),b=y(A);if(r=arguments,i=this,l=A,b){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),a}return E.cancel=_,E.flush=S,E}var Ype=Xpe,Qpe=Ype,Jpe=Wo,Zpe="Expected a function";function eme(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Zpe);return Jpe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qpe(t,e,{leading:r,maxWait:e,trailing:i})}var tme=eme;const a4=ze(tme);function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){nme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nme(t,e,n){return e=rme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rme(t){var e=ime(t,"string");return Nf(e)=="symbol"?e:e+""}function ime(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ome(t,e){return ume(t)||lme(t,e)||sme(t,e)||ame()}function ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(t,e){if(t){if(typeof t=="string")return lC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(t,e)}}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ume(t){if(Array.isArray(t))return t}var cme=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,v=t.className,w=t.onResize,_=t.style,S=_===void 0?{}:_,E=D.useRef(null),A=D.useRef();A.current=w,D.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var b=D.useState({containerWidth:i.width,containerHeight:i.height}),T=ome(b,2),P=T[0],O=T[1],C=D.useCallback(function(k,R){O(function(V){var j=Math.round(k),F=Math.round(R);return V.containerWidth===j&&V.containerHeight===F?V:{containerWidth:j,containerHeight:F}})},[]);D.useEffect(function(){var k=function(B){var U,G=B[0].contentRect,W=G.width,K=G.height;C(W,K),(U=A.current)===null||U===void 0||U.call(A,W,K)};g>0&&(k=a4(k,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(k),V=E.current.getBoundingClientRect(),j=V.width,F=V.height;return C(j,F),R.observe(E.current),function(){R.disconnect()}},[C,g]);var N=D.useMemo(function(){var k=P.containerWidth,R=P.containerHeight;if(k<0||R<0)return null;Pi(ya(a)||ya(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Pi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=ya(a)?k:a,j=ya(l)?R:l;n&&n>0&&(V?j=V/n:j&&(V=j*n),d&&j>d&&(j=d)),Pi(V>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,j,a,l,c,f,n);var F=!Array.isArray(p)&&Ai(p.type).endsWith("Chart");return z.Children.map(p,function(L){return z.isValidElement(L)?D.cloneElement(L,Jh({width:V,height:j},F?{style:Jh({height:"100%",width:"100%",maxHeight:j,maxWidth:V},L.props.style)}:{})):L})},[n,p,l,d,f,c,P,a]);return z.createElement("div",{id:y?"".concat(y):void 0,className:$e("recharts-responsive-container",v),style:Jh(Jh({},S),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:E},N)}),s4=function(e){return null};s4.displayName="Cell";function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fme(t,e,n){return e=dme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=hme(t,"string");return Rf(e)=="symbol"?e:e+""}function hme(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bs={widthCache:{},cacheCount:0},pme=2e3,mme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cC="recharts_measurement_span";function gme(t){var e=hb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Lc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gu.isSsr)return{width:0,height:0};var r=gme(n),i=JSON.stringify({text:e,copyStyle:r});if(bs.widthCache[i])return bs.widthCache[i];try{var o=document.getElementById(cC);o||(o=document.createElement("span"),o.setAttribute("id",cC),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=hb(hb({},mme),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return bs.widthCache[i]=l,++bs.cacheCount>pme&&(bs.cacheCount=0,bs.widthCache={}),l}catch{return{width:0,height:0}}},yme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Ym(t,e){return bme(t)||wme(t,e)||_me(t,e)||vme()}function vme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _me(t,e){if(t){if(typeof t=="string")return fC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(t,e)}}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bme(t){if(Array.isArray(t))return t}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sme(r.key),r)}}function Eme(t,e,n){return e&&dC(t.prototype,e),n&&dC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t){var e=Tme(t,"string");return Mf(e)=="symbol"?e:e+""}function Tme(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ame=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,l4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ime=Object.keys(l4),zs="NaN";function Ome(t,e){return t*l4[e]}var Zh=function(){function t(e,n){xme(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ame.test(n)&&(this.num=NaN,this.unit=""),Ime.includes(n)&&(this.num=Ome(e,n),this.unit="px")}return Eme(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Pme.exec(n))!==null&&r!==void 0?r:[],o=Ym(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function u4(t){if(t.includes(zs))return zs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=hC.exec(e))!==null&&n!==void 0?n:[],i=Ym(r,4),o=i[1],a=i[2],s=i[3],l=Zh.parse(o??""),u=Zh.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return zs;e=e.replace(hC,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=pC.exec(e))!==null&&f!==void 0?f:[],p=Ym(d,4),m=p[1],g=p[2],y=p[3],v=Zh.parse(m??""),w=Zh.parse(y??""),_=g==="+"?v.add(w):v.subtract(w);if(_.isNaN())return zs;e=e.replace(pC,_.toString())}return e}var mC=/\(([^()]*)\)/;function Cme(t){for(var e=t;e.includes("(");){var n=mC.exec(e),r=Ym(n,2),i=r[1];e=e.replace(mC,u4(i))}return e}function kme(t){var e=t.replace(/\s+/g,"");return e=Cme(e),e=u4(e),e}function Nme(t){try{return kme(t)}catch{return zs}}function B0(t){var e=Nme(t.slice(5,-1));return e===zs?"":e}var Rme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mme=["dx","dy","angle","className","breakAll"];function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}function gC(t,e){if(t==null)return{};var n=Dme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yC(t,e){return Vme(t)||Lme(t,e)||jme(t,e)||$me()}function $me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jme(t,e){if(t){if(typeof t=="string")return vC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(t,e)}}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vme(t){if(Array.isArray(t))return t}var c4=/[ \f\n\r\t\v\u2028\u2029]+/,f4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ie(n)||(r?o=n.toString().split(""):o=n.toString().split(c4));var a=o.map(function(l){return{word:l,width:Lc(l,i).width}}),s=r?0:Lc("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Fme=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ue(a),f=s,d=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(j,F){var L=F.word,B=F.width,U=j[j.length-1];if(U&&(i==null||o||U.width+B+r<Number(i)))U.words.push(L),U.width+=B+r;else{var G={words:[L],width:B};j.push(G)}return j},[])},p=d(n),m=function(V){return V.reduce(function(j,F){return j.width>F.width?j:F})};if(!c)return p;for(var g="",y=function(V){var j=f.slice(0,V),F=f4({breakAll:u,style:l,children:j+g}).wordsWithComputedWidth,L=d(F),B=L.length>a||m(L).width>Number(i);return[B,L]},v=0,w=f.length-1,_=0,S;v<=w&&_<=f.length-1;){var E=Math.floor((v+w)/2),A=E-1,b=y(A),T=yC(b,2),P=T[0],O=T[1],C=y(E),N=yC(C,1),k=N[0];if(!P&&!k&&(v=E+1),P&&k&&(w=E-1),!P&&k){S=O;break}_++}return S||p},_C=function(e){var n=Ie(e)?[]:e.toString().split(c4);return[{words:n}]},Bme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!gu.isSsr){var l,u,c=f4({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return _C(i);return Fme({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return _C(i)},wC="#808080",Qm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,v=y===void 0?wC:y,w=gC(e,Rme),_=D.useMemo(function(){return Bme({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),S=w.dx,E=w.dy,A=w.angle,b=w.className,T=w.breakAll,P=gC(w,Mme);if(!Nt(r)||!Nt(o))return null;var O=r+(ue(S)?S:0),C=o+(ue(E)?E:0),N;switch(g){case"start":N=B0("calc(".concat(u,")"));break;case"middle":N=B0("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:N=B0("calc(".concat(_.length-1," * -").concat(s,")"));break}var k=[];if(f){var R=_[0].width,V=w.width;k.push("scale(".concat((ue(V)?V/R:1)/R,")"))}return A&&k.push("rotate(".concat(A,", ").concat(O,", ").concat(C,")")),k.length&&(P.transform=k.join(" ")),z.createElement("text",pb({},Ce(P,!0),{x:O,y:C,className:$e("recharts-text",b),textAnchor:p,fill:v.includes("url")?wC:v}),_.map(function(j,F){var L=j.words.join(T?"":" ");return z.createElement("tspan",{x:O,dy:F===0?N:s,key:"".concat(L,"-").concat(F)},L)}))};function Ro(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ume(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J1(t){let e,n,r;t.length!==2?(e=Ro,n=(s,l)=>Ro(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ro||t===Ume?t:zme,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function zme(){return 0}function d4(t){return t===null?NaN:+t}function*Wme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hme=J1(Ro),Md=Hme.right;J1(d4).center;class bC extends Map{constructor(e,n=Kme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(xC(this,e))}has(e){return super.has(xC(this,e))}set(e,n){return super.set(qme(this,e),n)}delete(e){return super.delete(Gme(this,e))}}function xC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xme(t=Ro){if(t===Ro)return h4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function h4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yme=Math.sqrt(50),Qme=Math.sqrt(10),Jme=Math.sqrt(2);function Jm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Yme?10:o>=Qme?5:o>=Jme?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Jm(t,e,n*2):[s,l,u]}function mb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Jm(e,t,n):Jm(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function gb(t,e,n){return e=+e,t=+t,n=+n,Jm(t,e,n)[2]}function yb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?gb(e,t,n):gb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function EC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function SC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function p4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?h4:Xme(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));p4(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Ju(t,n,e),i(t[r],o)>0&&Ju(t,n,r);a<s;){for(Ju(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Ju(t,n,s):(++s,Ju(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ju(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Zme(t,e,n){if(t=Float64Array.from(Wme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return SC(t);if(e>=1)return EC(t);var r,i=(r-1)*e,o=Math.floor(i),a=EC(p4(t,o).subarray(0,o+1)),s=SC(t.subarray(o+1));return a+(s-a)*(i-o)}}function ege(t,e,n=d4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function tge(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vb=Symbol("implicit");function Z1(){var t=new bC,e=[],n=[],r=vb;function i(o){let a=t.get(o);if(a===void 0){if(r!==vb)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new bC;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Z1(e,n).unknown(r)},ur.apply(i,arguments),i}function Df(){var t=Z1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var y=tge(d).map(function(v){return m+o*v});return n(p?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Df(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ur.apply(f(),arguments)}function m4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return m4(e())},t}function Vc(){return m4(Df.apply(null,arguments).paddingInner(1))}function nge(t){return function(){return t}}function Zm(t){return+t}var TC=[0,1];function gn(t){return t}function _b(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:nge(isNaN(e)?NaN:.5)}function rge(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ige(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=_b(i,r),o=n(a,o)):(r=_b(r,i),o=n(o,a)),function(s){return o(r(s))}}function oge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=_b(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Md(t,s,1,r)-1;return o[l](i[l](s))}}function Dd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qy(){var t=TC,e=TC,n=tu,r,i,o,a=gn,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==gn&&(a=rge(t[0],t[d-1])),s=d>2?oge:ige,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),br)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Zm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=fE,c()},f.clamp=function(d){return arguments.length?(a=d?!0:gn,c()):a!==gn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function eS(){return Qy()(gn,gn)}function age(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ml(t){return t=eg(Math.abs(t)),t?t[1]:NaN}function sge(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function lge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(t){if(!(e=uge.exec(t)))throw new Error("invalid format: "+t);var e;return new tS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$f.prototype=tS.prototype;function tS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var g4;function fge(t,e){var n=eg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(g4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eg(t,Math.max(0,e+o-1))[0]}function AC(t,e){var n=eg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const PC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:age,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AC(t*100,e),r:AC,s:fge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function IC(t){return t}var OC=Array.prototype.map,CC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dge(t){var e=t.grouping===void 0||t.thousands===void 0?IC:sge(OC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?IC:lge(OC.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=$f(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,w=f.comma,_=f.precision,S=f.trim,E=f.type;E==="n"?(w=!0,E="g"):PC[E]||(_===void 0&&(_=12),S=!0,E="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",b=g==="$"?r:/[%p]/.test(E)?a:"",T=PC[E],P=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(C){var N=A,k=b,R,V,j;if(E==="c")k=T(C)+k,C="";else{C=+C;var F=C<0||1/C<0;if(C=isNaN(C)?l:T(Math.abs(C),_),S&&(C=cge(C)),F&&+C==0&&m!=="+"&&(F=!1),N=(F?m==="("?m:s:m==="-"||m==="("?"":m)+N,k=(E==="s"?CC[8+g4/3]:"")+k+(F&&m==="("?")":""),P){for(R=-1,V=C.length;++R<V;)if(j=C.charCodeAt(R),48>j||j>57){k=(j===46?i+C.slice(R+1):C.slice(R))+k,C=C.slice(0,R);break}}}w&&!y&&(C=e(C,1/0));var L=N.length+C.length+k.length,B=L<v?new Array(v-L+1).join(d):"";switch(w&&y&&(C=e(B+C,B.length?v-k.length:1/0),B=""),p){case"<":C=N+C+k+B;break;case"=":C=N+B+C+k;break;case"^":C=B.slice(0,L=B.length>>1)+N+C+k+B.slice(L);break;default:C=B+N+C+k;break}return o(C)}return O.toString=function(){return f+""},O}function c(f,d){var p=u((f=$f(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ml(d)/3)))*3,g=Math.pow(10,-m),y=CC[8+m/3];return function(v){return p(g*v)+y}}return{format:u,formatPrefix:c}}var ep,nS,y4;hge({thousands:",",grouping:[3],currency:["$",""]});function hge(t){return ep=dge(t),nS=ep.format,y4=ep.formatPrefix,ep}function pge(t){return Math.max(0,-Ml(Math.abs(t)))}function mge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ml(e)/3)))*3-Ml(Math.abs(t)))}function gge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ml(e)-Ml(t))+1}function v4(t,e,n,r){var i=yb(t,e,n),o;switch(r=$f(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=mge(i,a))&&(r.precision=o),y4(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=gge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=pge(i))&&(r.precision=o-(r.type==="%")*2);break}}return nS(r)}function qo(t){var e=t.domain;return t.ticks=function(n){var r=e();return mb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return v4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=gb(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function tg(){var t=eS();return t.copy=function(){return Dd(t,tg())},ur.apply(t,arguments),qo(t)}function _4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Zm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return _4(t).unknown(e)},t=arguments.length?Array.from(t,Zm):[0,1],qo(n)}function w4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function kC(t){return Math.log(t)}function NC(t){return Math.exp(t)}function yge(t){return-Math.log(-t)}function vge(t){return-Math.exp(-t)}function _ge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wge(t){return t===10?_ge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function RC(t){return(e,n)=>-t(-e,n)}function rS(t){const e=t(kC,NC),n=e.domain;let r=10,i,o;function a(){return i=bge(r),o=wge(r),n()[0]<0?(i=RC(i),o=RC(o),t(yge,vge)):t(kC,NC),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const y=s==null?10:+s;let v=[];if(!(r%1)&&p-d<y){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;v.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;v.push(g)}v.length*2<y&&(v=mb(u,c,y))}else v=mb(d,p,Math.min(p-d,y)).map(o);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=nS(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(w4(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function b4(){const t=rS(Qy()).domain([1,10]);return t.copy=()=>Dd(t,b4()).base(t.base()),ur.apply(t,arguments),t}function MC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function DC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iS(t){var e=1,n=t(MC(e),DC(e));return n.constant=function(r){return arguments.length?t(MC(e=+r),DC(e)):e},qo(n)}function x4(){var t=iS(Qy());return t.copy=function(){return Dd(t,x4()).constant(t.constant())},ur.apply(t,arguments)}function $C(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ege(t){return t<0?-t*t:t*t}function oS(t){var e=t(gn,gn),n=1;function r(){return n===1?t(gn,gn):n===.5?t(xge,Ege):t($C(n),$C(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qo(e)}function aS(){var t=oS(Qy());return t.copy=function(){return Dd(t,aS()).exponent(t.exponent())},ur.apply(t,arguments),t}function Sge(){return aS.apply(null,arguments).exponent(.5)}function jC(t){return Math.sign(t)*t*t}function Tge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function E4(){var t=eS(),e=[0,1],n=!1,r;function i(o){var a=Tge(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(jC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Zm)).map(jC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return E4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ur.apply(i,arguments),qo(i)}function S4(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=ege(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Md(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ro),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return S4().domain(t).range(e).unknown(r)},ur.apply(o,arguments)}function T4(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Md(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return T4().domain([t,e]).range(i).unknown(o)},ur.apply(qo(a),arguments)}function A4(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Md(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return A4().domain(t).range(e).unknown(n)},ur.apply(i,arguments)}const U0=new Date,z0=new Date;function Rt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Rt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(U0.setTime(+o),z0.setTime(+a),t(U0),t(z0),Math.floor(n(U0,z0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ng=Rt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ng.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ng);ng.range;const bi=1e3,Zn=bi*60,xi=Zn*60,Li=xi*24,sS=Li*7,LC=Li*30,W0=Li*365,va=Rt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCSeconds());va.range;const lS=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bi)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getMinutes());lS.range;const uS=Rt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getUTCMinutes());uS.range;const cS=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bi-t.getMinutes()*Zn)},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getHours());cS.range;const fS=Rt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getUTCHours());fS.range;const $d=Rt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/Li,t=>t.getDate()-1);$d.range;const Jy=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>t.getUTCDate()-1);Jy.range;const P4=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>Math.floor(t/Li));P4.range;function is(t){return Rt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/sS)}const Zy=is(0),rg=is(1),Age=is(2),Pge=is(3),Dl=is(4),Ige=is(5),Oge=is(6);Zy.range;rg.range;Age.range;Pge.range;Dl.range;Ige.range;Oge.range;function os(t){return Rt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/sS)}const ev=os(0),ig=os(1),Cge=os(2),kge=os(3),$l=os(4),Nge=os(5),Rge=os(6);ev.range;ig.range;Cge.range;kge.range;$l.range;Nge.range;Rge.range;const dS=Rt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dS.range;const hS=Rt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hS.range;const Vi=Rt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vi.range;const Fi=Rt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fi.range;function I4(t,e,n,r,i,o){const a=[[va,1,bi],[va,5,5*bi],[va,15,15*bi],[va,30,30*bi],[o,1,Zn],[o,5,5*Zn],[o,15,15*Zn],[o,30,30*Zn],[i,1,xi],[i,3,3*xi],[i,6,6*xi],[i,12,12*xi],[r,1,Li],[r,2,2*Li],[n,1,sS],[e,1,LC],[e,3,3*LC],[t,1,W0]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=J1(([,,y])=>y).right(a,d);if(p===a.length)return t.every(yb(u/W0,c/W0,f));if(p===0)return ng.every(Math.max(yb(u,c,f),1));const[m,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[Mge,Dge]=I4(Fi,hS,ev,P4,fS,uS),[$ge,jge]=I4(Vi,dS,Zy,$d,cS,lS);function H0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function q0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Lge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ec(i),c=tc(i),f=ec(o),d=tc(o),p=ec(a),m=tc(a),g=ec(s),y=tc(s),v=ec(l),w=tc(l),_={a:F,A:L,b:B,B:U,c:null,d:WC,e:WC,f:sye,g:yye,G:_ye,H:iye,I:oye,j:aye,L:O4,m:lye,M:uye,p:G,q:W,Q:GC,s:KC,S:cye,u:fye,U:dye,V:hye,w:pye,W:mye,x:null,X:null,y:gye,Y:vye,Z:wye,"%":qC},S={a:K,A:Y,b:ee,B:ne,c:null,d:HC,e:HC,f:Sye,g:Mye,G:$ye,H:bye,I:xye,j:Eye,L:k4,m:Tye,M:Aye,p:re,q:se,Q:GC,s:KC,S:Pye,u:Iye,U:Oye,V:Cye,w:kye,W:Nye,x:null,X:null,y:Rye,Y:Dye,Z:jye,"%":qC},E={a:O,A:C,b:N,B:k,c:R,d:UC,e:UC,f:eye,g:BC,G:FC,H:zC,I:zC,j:Yge,L:Zge,m:Xge,M:Qge,p:P,q:Kge,Q:nye,s:rye,S:Jge,u:zge,U:Wge,V:Hge,w:Uge,W:qge,x:V,X:j,y:BC,Y:FC,Z:Gge,"%":tye};_.x=A(n,_),_.X=A(r,_),_.c=A(e,_),S.x=A(n,S),S.X=A(r,S),S.c=A(e,S);function A(J,le){return function(oe){var H=[],he=-1,ce=0,Ee=J.length,Te,qe,Mt;for(oe instanceof Date||(oe=new Date(+oe));++he<Ee;)J.charCodeAt(he)===37&&(H.push(J.slice(ce,he)),(qe=VC[Te=J.charAt(++he)])!=null?Te=J.charAt(++he):qe=Te==="e"?" ":"0",(Mt=le[Te])&&(Te=Mt(oe,qe)),H.push(Te),ce=he+1);return H.push(J.slice(ce,he)),H.join("")}}function b(J,le){return function(oe){var H=Zu(1900,void 0,1),he=T(H,J,oe+="",0),ce,Ee;if(he!=oe.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(le&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(ce=q0(Zu(H.y,0,1)),Ee=ce.getUTCDay(),ce=Ee>4||Ee===0?ig.ceil(ce):ig(ce),ce=Jy.offset(ce,(H.V-1)*7),H.y=ce.getUTCFullYear(),H.m=ce.getUTCMonth(),H.d=ce.getUTCDate()+(H.w+6)%7):(ce=H0(Zu(H.y,0,1)),Ee=ce.getDay(),ce=Ee>4||Ee===0?rg.ceil(ce):rg(ce),ce=$d.offset(ce,(H.V-1)*7),H.y=ce.getFullYear(),H.m=ce.getMonth(),H.d=ce.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ee="Z"in H?q0(Zu(H.y,0,1)).getUTCDay():H0(Zu(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ee+5)%7:H.w+H.U*7-(Ee+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,q0(H)):H0(H)}}function T(J,le,oe,H){for(var he=0,ce=le.length,Ee=oe.length,Te,qe;he<ce;){if(H>=Ee)return-1;if(Te=le.charCodeAt(he++),Te===37){if(Te=le.charAt(he++),qe=E[Te in VC?le.charAt(he++):Te],!qe||(H=qe(J,oe,H))<0)return-1}else if(Te!=oe.charCodeAt(H++))return-1}return H}function P(J,le,oe){var H=u.exec(le.slice(oe));return H?(J.p=c.get(H[0].toLowerCase()),oe+H[0].length):-1}function O(J,le,oe){var H=p.exec(le.slice(oe));return H?(J.w=m.get(H[0].toLowerCase()),oe+H[0].length):-1}function C(J,le,oe){var H=f.exec(le.slice(oe));return H?(J.w=d.get(H[0].toLowerCase()),oe+H[0].length):-1}function N(J,le,oe){var H=v.exec(le.slice(oe));return H?(J.m=w.get(H[0].toLowerCase()),oe+H[0].length):-1}function k(J,le,oe){var H=g.exec(le.slice(oe));return H?(J.m=y.get(H[0].toLowerCase()),oe+H[0].length):-1}function R(J,le,oe){return T(J,e,le,oe)}function V(J,le,oe){return T(J,n,le,oe)}function j(J,le,oe){return T(J,r,le,oe)}function F(J){return a[J.getDay()]}function L(J){return o[J.getDay()]}function B(J){return l[J.getMonth()]}function U(J){return s[J.getMonth()]}function G(J){return i[+(J.getHours()>=12)]}function W(J){return 1+~~(J.getMonth()/3)}function K(J){return a[J.getUTCDay()]}function Y(J){return o[J.getUTCDay()]}function ee(J){return l[J.getUTCMonth()]}function ne(J){return s[J.getUTCMonth()]}function re(J){return i[+(J.getUTCHours()>=12)]}function se(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var le=A(J+="",_);return le.toString=function(){return J},le},parse:function(J){var le=b(J+="",!1);return le.toString=function(){return J},le},utcFormat:function(J){var le=A(J+="",S);return le.toString=function(){return J},le},utcParse:function(J){var le=b(J+="",!0);return le.toString=function(){return J},le}}}var VC={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,Vge=/^%/,Fge=/[\\^$*+?|[\]().{}]/g;function je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Bge(t){return t.replace(Fge,"\\$&")}function ec(t){return new RegExp("^(?:"+t.map(Bge).join("|")+")","i")}function tc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Uge(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zge(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wge(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hge(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qge(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function FC(t,e,n){var r=Ft.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function BC(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Kge(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Xge(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function UC(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yge(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zC(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Qge(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Jge(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Zge(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eye(t,e,n){var r=Ft.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tye(t,e,n){var r=Vge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nye(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rye(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function WC(t,e){return je(t.getDate(),e,2)}function iye(t,e){return je(t.getHours(),e,2)}function oye(t,e){return je(t.getHours()%12||12,e,2)}function aye(t,e){return je(1+$d.count(Vi(t),t),e,3)}function O4(t,e){return je(t.getMilliseconds(),e,3)}function sye(t,e){return O4(t,e)+"000"}function lye(t,e){return je(t.getMonth()+1,e,2)}function uye(t,e){return je(t.getMinutes(),e,2)}function cye(t,e){return je(t.getSeconds(),e,2)}function fye(t){var e=t.getDay();return e===0?7:e}function dye(t,e){return je(Zy.count(Vi(t)-1,t),e,2)}function C4(t){var e=t.getDay();return e>=4||e===0?Dl(t):Dl.ceil(t)}function hye(t,e){return t=C4(t),je(Dl.count(Vi(t),t)+(Vi(t).getDay()===4),e,2)}function pye(t){return t.getDay()}function mye(t,e){return je(rg.count(Vi(t)-1,t),e,2)}function gye(t,e){return je(t.getFullYear()%100,e,2)}function yye(t,e){return t=C4(t),je(t.getFullYear()%100,e,2)}function vye(t,e){return je(t.getFullYear()%1e4,e,4)}function _ye(t,e){var n=t.getDay();return t=n>=4||n===0?Dl(t):Dl.ceil(t),je(t.getFullYear()%1e4,e,4)}function wye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+je(e/60|0,"0",2)+je(e%60,"0",2)}function HC(t,e){return je(t.getUTCDate(),e,2)}function bye(t,e){return je(t.getUTCHours(),e,2)}function xye(t,e){return je(t.getUTCHours()%12||12,e,2)}function Eye(t,e){return je(1+Jy.count(Fi(t),t),e,3)}function k4(t,e){return je(t.getUTCMilliseconds(),e,3)}function Sye(t,e){return k4(t,e)+"000"}function Tye(t,e){return je(t.getUTCMonth()+1,e,2)}function Aye(t,e){return je(t.getUTCMinutes(),e,2)}function Pye(t,e){return je(t.getUTCSeconds(),e,2)}function Iye(t){var e=t.getUTCDay();return e===0?7:e}function Oye(t,e){return je(ev.count(Fi(t)-1,t),e,2)}function N4(t){var e=t.getUTCDay();return e>=4||e===0?$l(t):$l.ceil(t)}function Cye(t,e){return t=N4(t),je($l.count(Fi(t),t)+(Fi(t).getUTCDay()===4),e,2)}function kye(t){return t.getUTCDay()}function Nye(t,e){return je(ig.count(Fi(t)-1,t),e,2)}function Rye(t,e){return je(t.getUTCFullYear()%100,e,2)}function Mye(t,e){return t=N4(t),je(t.getUTCFullYear()%100,e,2)}function Dye(t,e){return je(t.getUTCFullYear()%1e4,e,4)}function $ye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$l(t):$l.ceil(t),je(t.getUTCFullYear()%1e4,e,4)}function jye(){return"+0000"}function qC(){return"%"}function GC(t){return+t}function KC(t){return Math.floor(+t/1e3)}var xs,R4,M4;Lye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lye(t){return xs=Lge(t),R4=xs.format,xs.parse,M4=xs.utcFormat,xs.utcParse,xs}function Vye(t){return new Date(t)}function Fye(t){return t instanceof Date?+t:+new Date(+t)}function pS(t,e,n,r,i,o,a,s,l,u){var c=eS(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),w=u("%b %d"),_=u("%B"),S=u("%Y");function E(A){return(l(A)<A?p:s(A)<A?m:a(A)<A?g:o(A)<A?y:r(A)<A?i(A)<A?v:w:n(A)<A?_:S)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,Fye)):d().map(Vye)},c.ticks=function(A){var b=d();return t(b[0],b[b.length-1],A??10)},c.tickFormat=function(A,b){return b==null?E:u(b)},c.nice=function(A){var b=d();return(!A||typeof A.range!="function")&&(A=e(b[0],b[b.length-1],A??10)),A?d(w4(b,A)):c},c.copy=function(){return Dd(c,pS(t,e,n,r,i,o,a,s,l,u))},c}function Bye(){return ur.apply(pS($ge,jge,Vi,dS,Zy,$d,cS,lS,va,R4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uye(){return ur.apply(pS(Mge,Dge,Fi,hS,ev,Jy,fS,uS,va,M4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tv(){var t=0,e=1,n,r,i,o,a=gn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,a=f(p,m),u):[a(0),a(1)]}}return u.range=c(tu),u.rangeRound=c(fE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Go(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function D4(){var t=qo(tv()(gn));return t.copy=function(){return Go(t,D4())},Xi.apply(t,arguments)}function $4(){var t=rS(tv()).domain([1,10]);return t.copy=function(){return Go(t,$4()).base(t.base())},Xi.apply(t,arguments)}function j4(){var t=iS(tv());return t.copy=function(){return Go(t,j4()).constant(t.constant())},Xi.apply(t,arguments)}function mS(){var t=oS(tv());return t.copy=function(){return Go(t,mS()).exponent(t.exponent())},Xi.apply(t,arguments)}function zye(){return mS.apply(null,arguments).exponent(.5)}function L4(){var t=[],e=gn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Md(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ro),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Zme(t,o/r))},n.copy=function(){return L4(e).domain(t)},Xi.apply(n,arguments)}function nv(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=gn,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var v,w,_;return arguments.length?([v,w,_]=y,u=b9(g,[v,w,_]),p):[u(0),u(.5),u(1)]}}return p.range=m(tu),p.rangeRound=m(fE),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function V4(){var t=qo(nv()(gn));return t.copy=function(){return Go(t,V4())},Xi.apply(t,arguments)}function F4(){var t=rS(nv()).domain([.1,1,10]);return t.copy=function(){return Go(t,F4()).base(t.base())},Xi.apply(t,arguments)}function B4(){var t=iS(nv());return t.copy=function(){return Go(t,B4()).constant(t.constant())},Xi.apply(t,arguments)}function gS(){var t=oS(nv());return t.copy=function(){return Go(t,gS()).exponent(t.exponent())},Xi.apply(t,arguments)}function Wye(){return gS.apply(null,arguments).exponent(.5)}const XC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Df,scaleDiverging:V4,scaleDivergingLog:F4,scaleDivergingPow:gS,scaleDivergingSqrt:Wye,scaleDivergingSymlog:B4,scaleIdentity:_4,scaleImplicit:vb,scaleLinear:tg,scaleLog:b4,scaleOrdinal:Z1,scalePoint:Vc,scalePow:aS,scaleQuantile:S4,scaleQuantize:T4,scaleRadial:E4,scaleSequential:D4,scaleSequentialLog:$4,scaleSequentialPow:mS,scaleSequentialQuantile:L4,scaleSequentialSqrt:zye,scaleSequentialSymlog:j4,scaleSqrt:Sge,scaleSymlog:x4,scaleThreshold:A4,scaleTime:Bye,scaleUtc:Uye,tickFormat:v4},Symbol.toStringTag,{value:"Module"}));var Hye=lu;function qye(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Hye(a):n(a,s)))var s=a,l=o}return l}var U4=qye;function Gye(t,e){return t>e}var Kye=Gye,Xye=U4,Yye=Kye,Qye=mu;function Jye(t){return t&&t.length?Xye(t,Qye,Yye):void 0}var Zye=Jye;const rv=ze(Zye);function eve(t,e){return t<e}var tve=eve,nve=U4,rve=tve,ive=mu;function ove(t){return t&&t.length?nve(t,ive,rve):void 0}var ave=ove;const iv=ze(ave);var sve=R1,lve=Ho,uve=ZV,cve=In;function fve(t,e){var n=cve(t)?sve:uve;return n(t,lve(e))}var dve=fve,hve=QV,pve=dve;function mve(t,e){return hve(pve(t,e),1)}var gve=mve;const yve=ze(gve);var vve=K1;function _ve(t,e){return vve(t,e)}var wve=_ve;const ov=ze(wve);var yu=1e9,bve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vS,nt=!0,sr="[DecimalError] ",Ta=sr+"Invalid argument: ",yS=sr+"Exponent out of range: ",vu=Math.floor,ua=Math.pow,xve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,jt=1e7,Je=7,z4=9007199254740991,og=vu(z4/Je),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Je;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return Ii(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return He(Ii(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return At(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($n))throw Error(sr+"NaN");if(n.s<1)throw Error(sr+(n.s?"NaN":"-Infinity"));return n.eq($n)?new r(0):(nt=!1,e=Ii(jf(n,o),jf(t,o),o),nt=!0,He(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q4(e,t):W4(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(sr+"NaN");return n.s?(nt=!1,e=Ii(n,t,0,1).times(t),nt=!0,n.minus(e)):He(new r(n),i)};de.naturalExponential=de.exp=function(){return H4(this)};de.naturalLogarithm=de.ln=function(){return jf(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W4(e,t):q4(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ta+t);if(e=At(i)+1,r=i.d.length-1,n=r*Je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(sr+"NaN")}for(t=At(s),nt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=qr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Ii(s,o,a+2)).times(.5),qr(o.d).slice(0,a)===(e=qr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(He(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return nt=!0,He(r,n)};de.times=de.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%jt|0,e=s/jt|0;o[i]=(o[i]+e)%jt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,nt?He(t,f.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ii(t,0,yu),e===void 0?e=r.rounding:ii(e,0,8),He(n,t+At(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Wa(r,!0):(ii(t,0,yu),e===void 0?e=i.rounding:ii(e,0,8),r=He(new i(r),t+1,e),n=Wa(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Wa(i):(ii(t,0,yu),e===void 0?e=o.rounding:ii(e,0,8),r=He(new o(i),t+At(i)+1,e),n=Wa(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return He(new e(t),At(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l($n);if(s=new l(s),!s.s){if(t.s<1)throw Error(sr+"Infinity");return s}if(s.eq($n))return s;if(r=l.precision,t.eq($n))return He(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=z4){for(i=new l($n),e=Math.ceil(r/Je+4),nt=!1;n%2&&(i=i.times(s),QC(i.d,e)),n=vu(n/2),n!==0;)s=s.times(s),QC(s.d,e);return nt=!0,t.s<0?new l($n).div(i):He(i,r)}}else if(o<0)throw Error(sr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,nt=!1,i=t.times(jf(s,r+u)),nt=!0,i=H4(i),i.s=o,i};de.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=At(i),r=Wa(i,n<=o.toExpNeg||n>=o.toExpPos)):(ii(t,1,yu),e===void 0?e=o.rounding:ii(e,0,8),i=He(new o(i),t,e),n=At(i),r=Wa(i,t<=n||n<=o.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ii(t,1,yu),e===void 0?e=r.rounding:ii(e,0,8)),He(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return Wa(t,e<=n.toExpNeg||e>=n.toExpPos)};function W4(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),nt?He(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Je),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/jt|0,l[o]%=jt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,nt?He(e,f):e}function ii(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ta+t)}function qr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Je-r.length,n&&(o+=oo(n)),o+=r;a=t[e],r=a+"",n=Je-r.length,n&&(o+=oo(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ii=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%jt|0,a=o/jt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*jt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,p,m,g,y,v,w,_,S,E,A,b,T,P=r.constructor,O=r.s==i.s?1:-1,C=r.d,N=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(sr+"Division by zero");for(l=r.e-i.e,b=N.length,E=C.length,p=new P(O),m=p.d=[],u=0;N[u]==(C[u]||0);)++u;if(N[u]>(C[u]||0)&&--l,o==null?w=o=P.precision:a?w=o+(At(r)-At(i))+1:w=o,w<0)return new P(0);if(w=w/Je+2|0,u=0,b==1)for(c=0,N=N[0],w++;(u<E||c)&&w--;u++)_=c*jt+(C[u]||0),m[u]=_/N|0,c=_%N|0;else{for(c=jt/(N[0]+1)|0,c>1&&(N=t(N,c),C=t(C,c),b=N.length,E=C.length),S=b,g=C.slice(0,b),y=g.length;y<b;)g[y++]=0;T=N.slice(),T.unshift(0),A=N[0],N[1]>=jt/2&&++A;do c=0,s=e(N,g,b,y),s<0?(v=g[0],b!=y&&(v=v*jt+(g[1]||0)),c=v/A|0,c>1?(c>=jt&&(c=jt-1),f=t(N,c),d=f.length,y=g.length,s=e(f,g,d,y),s==1&&(c--,n(f,b<d?T:N,d))):(c==0&&(s=c=1),f=N.slice()),d=f.length,d<y&&f.unshift(0),n(g,f,y),s==-1&&(y=g.length,s=e(N,g,b,y),s<1&&(c++,n(g,b<y?T:N,y))),y=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[y++]=C[S]||0:(g=[C[S]],y=1);while((S++<E||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,He(p,a?o+At(p)+1:o)}}();function H4(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(At(t)>16)throw Error(yS+At(t));if(!t.s)return new c($n);for(nt=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(ua(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c($n),c.precision=s;;){if(i=He(i.times(t),s),n=n.times(++l),a=o.plus(Ii(i,n,s)),qr(a.d).slice(0,s)===qr(o.d).slice(0,s)){for(;u--;)o=He(o.times(o),s);return c.precision=f,e==null?(nt=!0,He(o,f)):o}o=a}}function At(t){for(var e=t.e*Je,n=t.d[0];n>=10;n/=10)e++;return e}function G0(t,e,n){if(e>t.LN10.sd())throw nt=!0,n&&(t.precision=n),Error(sr+"LN10 precision limit exceeded");return He(new t(t.LN10),e)}function oo(t){for(var e="";t--;)e+="0";return e}function jf(t,e){var n,r,i,o,a,s,l,u,c,f=1,d=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(sr+(p.s?"NaN":"-Infinity"));if(p.eq($n))return new g(0);if(e==null?(nt=!1,u=y):u=e,p.eq(10))return e==null&&(nt=!0),G0(g,u);if(u+=d,g.precision=u,n=qr(m),r=n.charAt(0),o=At(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qr(p.d),r=n.charAt(0),f++;o=At(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=G0(g,u+2,y).times(o+""),p=jf(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=y,e==null?(nt=!0,He(p,y)):p;for(s=a=p=Ii(p.minus($n),p.plus($n),u),c=He(p.times(p),u),i=3;;){if(a=He(a.times(c),u),l=s.plus(Ii(a,new g(i),u)),qr(l.d).slice(0,u)===qr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(G0(g,u+2,y).times(o+""))),s=Ii(s,new g(f),u),g.precision=y,e==null?(nt=!0,He(s,y)):s;s=l,i+=2}}function YC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vu(n/Je),t.d=[],r=(n+1)%Je,n<0&&(r+=Je),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Je;r<i;)t.d.push(+e.slice(r,r+=Je));e=e.slice(r),r=Je-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nt&&(t.e>og||t.e<-og))throw Error(yS+n)}else t.s=0,t.e=0,t.d=[0];return t}function He(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Je,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Je),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Je,i=r-Je+a}if(n!==void 0&&(o=ua(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ua(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=At(t),f.length=1,e=e-o-1,f[0]=ua(10,(Je-e%Je)%Je),t.e=vu(-e/Je)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ua(10,Je-r),f[c]=i>0?(u/ua(10,a-i)%ua(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==jt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=jt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(nt&&(t.e>og||t.e<-og))throw Error(yS+At(t));return t}function q4(t,e){var n,r,i,o,a,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),nt?He(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Je),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=jt-1;--l[o],l[i]+=jt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,nt?He(e,p):e):new d(0)}function Wa(t,e,n){var r,i=At(t),o=qr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+oo(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+oo(-i-1)+o,n&&(r=n-a)>0&&(o+=oo(r))):i>=a?(o+=oo(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+oo(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=oo(r))),t.s<0?"-"+o:o}function QC(t,e){if(t.length>e)return t.length=e,!0}function G4(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ta+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return YC(a,o.toString())}else if(typeof o!="string")throw Error(Ta+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,xve.test(o))YC(a,o);else throw Error(Ta+o)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=G4,i.config=i.set=Eve,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Eve(t){if(!t||typeof t!="object")throw Error(sr+"Object expected");var e,n,r,i=["precision",1,yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ta+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ta+n+": "+r);return this}var vS=G4(bve);$n=new vS(1);const Ue=vS;function Sve(t){return Ive(t)||Pve(t)||Ave(t)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ave(t,e){if(t){if(typeof t=="string")return wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(t,e)}}function Pve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ive(t){if(Array.isArray(t))return wb(t)}function wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ove=function(e){return e},K4={},X4=function(e){return e===K4},JC=function(e){return function n(){return arguments.length===0||arguments.length===1&&X4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Cve=function t(e,n){return e===1?n:JC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==K4}).length;return a>=e?n.apply(void 0,i):t(e-a,JC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return X4(f)?l.shift():f});return n.apply(void 0,Sve(c).concat(l))}))})},av=function(e){return Cve(e.length,e)},bb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},kve=av(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Nve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ove;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},xb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Y4=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Rve(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function Mve(t,e,n){for(var r=new Ue(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Dve=av(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$ve=av(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),jve=av(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const sv={rangeStep:Mve,getDigitCount:Rve,interpolateNumber:Dve,uninterpolateNumber:$ve,uninterpolateTruncation:jve};function Eb(t){return Fve(t)||Vve(t)||Q4(t)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Fve(t){if(Array.isArray(t))return Sb(t)}function Lf(t,e){return zve(t)||Uve(t,e)||Q4(t,e)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4(t,e){if(t){if(typeof t=="string")return Sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(t,e)}}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function zve(t){if(Array.isArray(t))return t}function J4(t){var e=Lf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Z4(t,e,n){if(t.lte(0))return new Ue(0);var r=sv.getDigitCount(t.toNumber()),i=new Ue(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Ue(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Ue(Math.ceil(l))}function Wve(t,e,n){var r=1,i=new Ue(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ue(10).pow(sv.getDigitCount(t)-1),i=new Ue(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):n||(i=new Ue(Math.floor(t)));var a=Math.floor((e-1)/2),s=Nve(kve(function(l){return i.add(new Ue(l-a).mul(r)).toNumber()}),bb);return s(0,e)}function eF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=Z4(new Ue(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ue(0):(a=new Ue(t).add(e).div(2),a=a.sub(new Ue(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Ue(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?eF(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Ue(s).mul(o)),tickMax:a.add(new Ue(l).mul(o))})}function Hve(t){var e=Lf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=J4([n,r]),l=Lf(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Eb(bb(0,i-1).map(function(){return 1/0}))):[].concat(Eb(bb(0,i-1).map(function(){return-1/0})),[c]);return n>r?xb(f):f}if(u===c)return Wve(u,i,o);var d=eF(u,c,a,o),p=d.step,m=d.tickMin,g=d.tickMax,y=sv.rangeStep(m,g.add(new Ue(.1).mul(p)),p);return n>r?xb(y):y}function qve(t,e){var n=Lf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=J4([r,i]),s=Lf(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=Z4(new Ue(u).sub(l).div(c-1),o,0),d=[].concat(Eb(sv.rangeStep(new Ue(l),new Ue(u).sub(new Ue(.99).mul(f)),f)),[u]);return r>i?xb(d):d}var Gve=Y4(Hve),Kve=Y4(qve),Xve="Invariant failed";function Ha(t,e){throw new Error(Xve)}var Yve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function Qve(t,e){return t0e(t)||e0e(t,e)||Zve(t,e)||Jve()}function Jve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zve(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function t0e(t){if(Array.isArray(t))return t}function n0e(t,e){if(t==null)return{};var n=r0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rF(r.key),r)}}function a0e(t,e,n){return e&&o0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t,e,n){return e=sg(e),l0e(t,tF()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function l0e(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(t)}function u0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function c0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tb(t,e)}function Tb(t,e){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tb(t,e)}function nF(t,e,n){return e=rF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rF(t){var e=f0e(t,"string");return jl(e)=="symbol"?e:e+""}function f0e(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jd=function(t){function e(){return i0e(this,e),s0e(this,e,arguments)}return c0e(e,t),a0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=n0e(r,Yve),p=Ce(d,!1);this.props.direction==="x"&&c.type!=="number"&&Ha();var m=l.map(function(g){var y=u(g,s),v=y.x,w=y.y,_=y.value,S=y.errorVal;if(!S)return null;var E=[],A,b;if(Array.isArray(S)){var T=Qve(S,2);A=T[0],b=T[1]}else A=b=S;if(o==="vertical"){var P=c.scale,O=w+i,C=O+a,N=O-a,k=P(_-A),R=P(_+b);E.push({x1:R,y1:C,x2:R,y2:N}),E.push({x1:k,y1:O,x2:R,y2:O}),E.push({x1:k,y1:C,x2:k,y2:N})}else if(o==="horizontal"){var V=f.scale,j=v+i,F=j-a,L=j+a,B=V(_-A),U=V(_+b);E.push({x1:F,y1:U,x2:L,y2:U}),E.push({x1:j,y1:B,x2:j,y2:U}),E.push({x1:F,y1:B,x2:L,y2:B})}return z.createElement(gt,ag({className:"recharts-errorBar",key:"bar-".concat(E.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},p),E.map(function(G){return z.createElement("line",ag({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return z.createElement(gt,{className:"recharts-errorBars"},m)}}])}(z.Component);nF(jd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nF(jd,"displayName","ErrorBar");function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){d0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0e(t,e,n){return e=h0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h0e(t){var e=p0e(t,"string");return Vf(e)=="symbol"?e:e+""}function p0e(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Mn(n,ol);if(!a)return null;var s=ol.defaultProps,l=s!==void 0?na(na({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?na(na({},d),f.props):{},m=p.dataKey,g=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:l.iconType||y||"square",color:_S(f),value:g||m,payload:p}}),na(na(na({},l),ol.getWithHeight(a,i)),{},{payload:u,item:a})};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function tk(t){return v0e(t)||y0e(t)||g0e(t)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ab(t,e)}}function y0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v0e(t){if(Array.isArray(t))return Ab(t)}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function al(t,e,n){return e=_0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0e(t){var e=w0e(t,"string");return Ff(e)=="symbol"?e:e+""}function w0e(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Un(t,e,n){return Ie(t)||Ie(e)?n:Nt(e)?nr(t,e,n):Se(e)?e(t):n}function Fc(t,e,n,r){var i=yve(t,function(s){return Un(s,e)});if(n==="number"){var o=i.filter(function(s){return ue(s)||parseFloat(s)});return o.length?[iv(o),rv(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ie(s)}):i;return a.map(function(s){return Nt(s)||s instanceof Date?s:""})}var b0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ar(f-c)!==Ar(d-f)){var m=[];if(Ar(d-f)===Ar(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var y=d+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var w=Math.min(c,d),_=Math.max(c,d);if(e>(w+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},_S=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},x0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,y=m.cateAxisId,v=g.filter(function(b){return Ai(b.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?dt(dt({},w),v[0].props):v[0].props,S=_.barSize,E=_[y];a[E]||(a[E]=[]);var A=Ie(S)?n:S;a[E].push({item:v[0],stackList:v.slice(1),barSize:Ie(A)?void 0:za(A,r,0)})}}return a},E0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=za(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,m=a.reduce(function(S,E){return S+E.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,y={offset:g-u,size:0};c=a.reduce(function(S,E){var A={item:E.item,position:{offset:y.offset+y.size+u,size:d?p:E.barSize}},b=[].concat(tk(S),[A]);return y=b[b.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){b.push({item:T,position:y})}),b},f)}else{var v=za(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var w=(i-2*v-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;c=a.reduce(function(S,E,A){var b=[].concat(tk(S),[{item:E.item,position:{offset:v+(w+u)*A+(w-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){b.push({item:T,position:b[b.length-1].position})}),b},f)}return c},S0e=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=iF({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ue(e[p]))return dt(dt({},e),{},al({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ue(e[m]))return dt(dt({},e),{},al({},m,e[m]+(d||0)))}return e},T0e=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},oF=function(e,n,r,i,o){var a=n.props.children,s=rr(a,jd).filter(function(u){return T0e(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Un(c,r);if(Ie(f))return u;var d=Array.isArray(f)?[iv(f),rv(f)]:[f,f],p=l.reduce(function(m,g){var y=Un(c,g,0),v=d[0]-Math.abs(Array.isArray(y)?y[0]:y),w=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},A0e=function(e,n,r,i,o){var a=n.map(function(s){return oF(e,s,r,o,i)}).filter(function(s){return!Ie(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},aF=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&oF(e,l,u,i)||Fc(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},sF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},lF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Ei=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ar(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!kd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},K0=new WeakMap,tp=function(e,n){if(typeof n!="function")return e;K0.has(e)||K0.set(e,new WeakMap);var r=K0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},P0e=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Df(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:tg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Vc(),realScaleType:"point"}:o==="category"?{scale:Df(),realScaleType:"band"}:{scale:tg(),realScaleType:"linear"};if(Cd(i)){var l="scale".concat(Wy(i));return{scale:(XC[l]||Vc)(),realScaleType:XC[l]?l:"point"}}return Se(i)?{scale:i}:{scale:Vc(),realScaleType:"point"}},rk=1e-4,I0e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-rk,a=Math.max(i[0],i[1])+rk,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},O0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},C0e=function(e,n){if(!n||n.length!==2||!ue(n[0])||!ue(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(o[0]=r),(!ue(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},k0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=kd(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},N0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=kd(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},R0e={sign:k0e,expand:yae,none:Ol,silhouette:vae,wiggle:_ae,positive:N0e},M0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=R0e[r],a=gae().keys(i).value(function(s,l){return+Un(s,l,0)}).order(Zw).offset(o);return a(e)},D0e=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?dt(dt({},d.type.defaultProps),d.props):d.props,g=m.stackId,y=m.hide;if(y)return f;var v=m[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(Nt(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(d),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[Nd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return dt(dt({},f),{},al({},v,w))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var v=p.stackGroups[y];return dt(dt({},g),{},al({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:M0e(e,v.items,o)}))},m)}return dt(dt({},f),{},al({},d,p))},c)},$0e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Gve(u,o,s);return e.domain([iv(c),rv(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=Kve(f,o,s);return{niceTicks:d}}return null};function ik(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var s=Dm(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Un(i,Ie(a)?e.dataKey:a);return Ie(l)?null:e.scale(l)}var ok=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Un(a,n.dataKey,n.domain[s]);return Ie(l)?null:n.scale(l)-o/2+i},j0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},L0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Nt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},V0e=function(e){return e.reduce(function(n,r){return[iv(r.concat([n[0]]).filter(ue)),rv(r.concat([n[1]]).filter(ue))]},[1/0,-1/0])},uF=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=V0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ak=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pb=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ue(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(ak.test(e[0])){var o=+ak.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ue(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(sk.test(e[1])){var a=+sk.exec(e[1])[1];i[1]=n[1]+a}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},lg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Y1(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},lk=function(e,n,r){return!e||!e.length||ov(e,nr(r,"type.defaultProps.domain"))?n:e},cF=function(e,n){var r=e.type.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return dt(dt({},Ce(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:_S(e),value:Un(n,i),type:l,payload:n,chartType:u,hide:c})};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){F0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0e(t,e,n){return e=B0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0e(t){var e=U0e(t,"string");return Bf(e)=="symbol"?e:e+""}function U0e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ug=Math.PI/180,z0e=function(e){return e*180/Math.PI},Gt=function(e,n,r,i){return{x:e+Math.cos(-ug*i)*r,y:n+Math.sin(-ug*i)*r}},W0e=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},H0e=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=W0e({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:z0e(u),angleInRadian:u}},q0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},G0e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},fk=function(e,n){var r=e.x,i=e.y,o=H0e({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=q0e(n),f=c.startAngle,d=c.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?ck(ck({},n),{},{radius:a,angle:G0e(p,n)}):null};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}var K0e=["offset"];function X0e(t){return Z0e(t)||J0e(t)||Q0e(t)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(t,e){if(t){if(typeof t=="string")return Ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(t,e)}}function J0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z0e(t){if(Array.isArray(t))return Ib(t)}function Ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e_e(t,e){if(t==null)return{};var n=t_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){n_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e,n){return e=r_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_e(t){var e=i_e(t,"string");return Uf(e)=="symbol"?e:e+""}function i_e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}var o_e=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return Se(r)?r(i):i},a_e=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},s_e=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,y=(f+d)/2,v=a_e(p,m),w=v>=0?1:-1,_,S;i==="insideStart"?(_=p+w*a,S=g):i==="insideEnd"?(_=m-w*a,S=!g):i==="end"&&(_=m+w*a,S=g),S=v<=0?S:!S;var E=Gt(u,c,y,_),A=Gt(u,c,y,_+(S?1:-1)*359),b="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),T=Ie(e.id)?Nd("recharts-radial-line-"):e.id;return z.createElement("text",zf({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",s)}),z.createElement("defs",null,z.createElement("path",{id:T,d:b})),z.createElement("textPath",{xlinkHref:"#".concat(T)},n))},l_e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Gt(a,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,v=Gt(a,s,y,d),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},u_e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,y=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ot(Ot({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var S={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return Ot(Ot({},S),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:s-y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Ot(Ot({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:s+u+y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Ot(Ot({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var b=r?{width:u,height:c}:{};return o==="insideLeft"?Ot({x:s+y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},b):o==="insideRight"?Ot({x:s+u-y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},b):o==="insideTop"?Ot({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},b):o==="insideBottom"?Ot({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},b):o==="insideTopLeft"?Ot({x:s+y,y:l+d,textAnchor:w,verticalAnchor:m},b):o==="insideTopRight"?Ot({x:s+u-y,y:l+d,textAnchor:v,verticalAnchor:m},b):o==="insideBottomLeft"?Ot({x:s+y,y:l+c-d,textAnchor:w,verticalAnchor:p},b):o==="insideBottomRight"?Ot({x:s+u-y,y:l+c-d,textAnchor:v,verticalAnchor:p},b):uu(o)&&(ue(o.x)||ya(o.x))&&(ue(o.y)||ya(o.y))?Ot({x:s+za(o.x,u),y:l+za(o.y,c),textAnchor:"end",verticalAnchor:"end"},b):Ot({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)},c_e=function(e){return"cx"in e&&ue(e.cx)};function ln(t){var e=t.offset,n=e===void 0?5:e,r=e_e(t,K0e),i=Ot({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Ie(s)&&Ie(l)&&!D.isValidElement(u)&&!Se(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(Se(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=o_e(i);var m=c_e(o),g=Ce(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return s_e(i,p,g);var y=m?l_e(i):u_e(i);return z.createElement(Qm,zf({className:$e("recharts-label",f)},g,y,{breakAll:d}),p)}ln.displayName="Label";var fF=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,y=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(ue(g)&&ue(y)){if(ue(f)&&ue(d))return{x:f,y:d,width:g,height:y};if(ue(p)&&ue(m))return{x:p,y:m,width:g,height:y}}return ue(f)&&ue(d)?{x:f,y:d,width:0,height:0}:ue(n)&&ue(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},f_e=function(e,n){return e?e===!0?z.createElement(ln,{key:"label-implicit",viewBox:n}):Nt(e)?z.createElement(ln,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===ln?D.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(ln,{key:"label-implicit",content:e,viewBox:n}):Se(e)?z.createElement(ln,{key:"label-implicit",content:e,viewBox:n}):uu(e)?z.createElement(ln,zf({viewBox:n},e,{key:"label-implicit"})):null:null},d_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=fF(e),a=rr(i,ln).map(function(l,u){return D.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=f_e(e.label,n||o);return[s].concat(X0e(a))};ln.parseViewBox=fF;ln.renderCallByParent=d_e;function h_e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var p_e=h_e;const m_e=ze(p_e);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var g_e=["valueAccessor"],y_e=["data","dataKey","clockWise","id","textBreakAll"];function v_e(t){return x_e(t)||b_e(t)||w_e(t)||__e()}function __e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(t,e)}}function b_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x_e(t){if(Array.isArray(t))return Ob(t)}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){E_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_e(t,e,n){return e=S_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_e(t){var e=T_e(t,"string");return Wf(e)=="symbol"?e:e+""}function T_e(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mk(t,e){if(t==null)return{};var n=A_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P_e=function(e){return Array.isArray(e.value)?m_e(e.value):e.value};function Mo(t){var e=t.valueAccessor,n=e===void 0?P_e:e,r=mk(t,g_e),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=mk(r,y_e);return!i||!i.length?null:z.createElement(gt,{className:"recharts-label-list"},i.map(function(c,f){var d=Ie(o)?n(c,f):Un(c&&c.payload,o),p=Ie(s)?{}:{id:"".concat(s,"-").concat(f)};return z.createElement(ln,cg({},Ce(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:ln.parseViewBox(Ie(a)?c:pk(pk({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Mo.displayName="LabelList";function I_e(t,e){return t?t===!0?z.createElement(Mo,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Se(t)?z.createElement(Mo,{key:"labelList-implicit",data:e,content:t}):uu(t)?z.createElement(Mo,cg({data:e},t,{key:"labelList-implicit"})):null:null}function O_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=rr(r,Mo).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=I_e(t.label,e);return[o].concat(v_e(i))}Mo.renderCallByParent=O_e;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(this,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){C_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C_e(t,e,n){return e=k_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k_e(t){var e=N_e(t,"string");return Hf(e)=="symbol"?e:e+""}function N_e(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R_e=function(e,n){var r=Ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},np=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/ug,d=u?o:o+a*f,p=Gt(n,r,c,d),m=Gt(n,r,i,d),g=u?o-a*f:o,y=Gt(n,r,c*Math.cos(f*ug),g);return{center:p,circleTangency:m,lineTangency:y,theta:f}},dF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=R_e(a,s),u=a+l,c=Gt(n,r,o,a),f=Gt(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Gt(n,r,i,a),m=Gt(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},M_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Ar(c-u),d=np({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,y=np({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),v=y.circleTangency,w=y.lineTangency,_=y.theta,S=l?Math.abs(u-c):Math.abs(u-c)-g-_;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):dF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=np({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),b=A.circleTangency,T=A.lineTangency,P=A.theta,O=np({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=O.circleTangency,N=O.lineTangency,k=O.theta,R=l?Math.abs(u-c):Math.abs(u-c)-P-k;if(R<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},D_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hF=function(e){var n=yk(yk({},D_e),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var p=$e("recharts-sector",d),m=a-o,g=za(s,m,0,!0),y;return g>0&&Math.abs(c-f)<360?y=M_e({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=dF({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),z.createElement("path",Cb({},Ce(n,!0),{className:p,d:y,role:"img"}))};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kb.apply(this,arguments)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){$_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_e(t,e,n){return e=j_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=L_e(t,"string");return qf(e)=="symbol"?e:e+""}function L_e(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wk={curveBasisClosed:oae,curveBasisOpen:aae,curveBasis:iae,curveBumpX:Woe,curveBumpY:Hoe,curveLinearClosed:sae,curveLinear:qy,curveMonotoneX:lae,curveMonotoneY:uae,curveNatural:cae,curveStep:fae,curveStepAfter:hae,curveStepBefore:dae},rp=function(e){return e.x===+e.x&&e.y===+e.y},nc=function(e){return e.x},rc=function(e){return e.y},V_e=function(e,n){if(Se(e))return e;var r="curve".concat(Wy(e));return(r==="curveMonotone"||r==="curveBump")&&n?wk["".concat(r).concat(n==="vertical"?"Y":"X")]:wk[r]||qy},F_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=V_e(r,s),f=u?o.filter(function(g){return rp(g)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(g){return rp(g)}):a,m=f.map(function(g,y){return _k(_k({},g),{},{base:p[y]})});return s==="vertical"?d=Xh().y(rc).x1(nc).x0(function(g){return g.base.x}):d=Xh().x(nc).y1(rc).y0(function(g){return g.base.y}),d.defined(rp).curve(c),d(m)}return s==="vertical"&&ue(a)?d=Xh().y(rc).x1(nc).x0(a):ue(a)?d=Xh().x(nc).y1(rc).y0(a):d=gV().x(nc).y(rc),d.defined(rp).curve(c),d(f)},Nb=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?F_e(e):i;return z.createElement("path",kb({},Ce(e,!1),$m(e),{className:$e("recharts-curve",n),d:a,ref:o}))},pF={exports:{}},B_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U_e=B_e,z_e=U_e;function mF(){}function gF(){}gF.resetWarningCache=mF;var W_e=function(){function t(r,i,o,a,s,l){if(l!==z_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gF,resetWarningCache:mF};return n.PropTypes=n,n};pF.exports=W_e();var H_e=pF.exports;const Le=ze(H_e);var q_e=Object.getOwnPropertyNames,G_e=Object.getOwnPropertySymbols,K_e=Object.prototype.hasOwnProperty;function bk(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ip(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function xk(t){return q_e(t).concat(G_e(t))}var X_e=Object.hasOwn||function(t,e){return K_e.call(t,e)};function as(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Y_e="__v",Q_e="__o",J_e="_owner",Ek=Object.getOwnPropertyDescriptor,Sk=Object.keys;function Z_e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ewe(t,e){return as(t.getTime(),e.getTime())}function twe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nwe(t,e){return t===e}function Tk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var rwe=as;function iwe(t,e,n){var r=Sk(t),i=r.length;if(Sk(e).length!==i)return!1;for(;i-- >0;)if(!yF(t,e,n,r[i]))return!1;return!0}function ic(t,e,n){var r=xk(t),i=r.length;if(xk(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!yF(t,e,n,o)||(a=Ek(t,o),s=Ek(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function owe(t,e){return as(t.valueOf(),e.valueOf())}function awe(t,e){return t.source===e.source&&t.flags===e.flags}function Ak(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function swe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function lwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function yF(t,e,n,r){return(r===J_e||r===Q_e||r===Y_e)&&(t.$$typeof||e.$$typeof)?!0:X_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var uwe="[object Arguments]",cwe="[object Boolean]",fwe="[object Date]",dwe="[object Error]",hwe="[object Map]",pwe="[object Number]",mwe="[object Object]",gwe="[object RegExp]",ywe="[object Set]",vwe="[object String]",_we="[object URL]",wwe=Array.isArray,Pk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ik=Object.assign,bwe=Object.prototype.toString.call.bind(Object.prototype.toString);function xwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,g,y){if(m===g)return!0;if(m==null||g==null)return!1;var v=typeof m;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?a(m,g,y):v==="function"?i(m,g,y):!1;var w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return s(m,g,y);if(wwe(m))return e(m,g,y);if(Pk!=null&&Pk(m))return f(m,g,y);if(w===Date)return n(m,g,y);if(w===RegExp)return u(m,g,y);if(w===Map)return o(m,g,y);if(w===Set)return c(m,g,y);var _=bwe(m);return _===fwe?n(m,g,y):_===gwe?u(m,g,y):_===hwe?o(m,g,y):_===ywe?c(m,g,y):_===mwe?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,y):_===_we?d(m,g,y):_===dwe?r(m,g,y):_===uwe?s(m,g,y):_===cwe||_===pwe||_===vwe?l(m,g,y):!1}}function Ewe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?ic:Z_e,areDatesEqual:ewe,areErrorsEqual:twe,areFunctionsEqual:nwe,areMapsEqual:r?bk(Tk,ic):Tk,areNumbersEqual:rwe,areObjectsEqual:r?ic:iwe,arePrimitiveWrappersEqual:owe,areRegExpsEqual:awe,areSetsEqual:r?bk(Ak,ic):Ak,areTypedArraysEqual:r?ic:swe,areUrlsEqual:lwe};if(n&&(i=Ik({},i,n(i))),e){var o=ip(i.areArraysEqual),a=ip(i.areMapsEqual),s=ip(i.areObjectsEqual),l=ip(i.areSetsEqual);i=Ik({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Swe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Twe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Awe=Ko();Ko({strict:!0});Ko({circular:!0});Ko({circular:!0,strict:!0});Ko({createInternalComparator:function(){return as}});Ko({strict:!0,createInternalComparator:function(){return as}});Ko({circular:!0,createInternalComparator:function(){return as}});Ko({circular:!0,createInternalComparator:function(){return as},strict:!0});function Ko(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Ewe(t),l=xwe(s),u=r?r(l):Swe(l);return Twe({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Pwe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Ok(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Pwe(i)};requestAnimationFrame(r)}function Rb(t){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(t)}function Iwe(t){return Nwe(t)||kwe(t)||Cwe(t)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cwe(t,e){if(t){if(typeof t=="string")return Ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ck(t,e)}}function Ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nwe(t){if(Array.isArray(t))return t}function Rwe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Iwe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){Ok(i.bind(null,u),l);return}i(l),Ok(i.bind(null,u));return}Rb(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){vF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vF(t,e,n){return e=Mwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mwe(t){var e=Dwe(t,"string");return Gf(e)==="symbol"?e:String(e)}function Dwe(t,e){if(Gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $we=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},jwe=function(e){return e},Lwe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bc=function(e,n){return Object.keys(n).reduce(function(r,i){return Nk(Nk({},r),{},vF({},i,e(i,n[i])))},{})},Rk=function(e,n,r){return e.map(function(i){return"".concat(Lwe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Vwe(t,e){return Uwe(t)||Bwe(t,e)||_F(t,e)||Fwe()}function Fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Uwe(t){if(Array.isArray(t))return t}function zwe(t){return qwe(t)||Hwe(t)||_F(t)||Wwe()}function Wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(t,e){if(t){if(typeof t=="string")return Mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mb(t,e)}}function Hwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qwe(t){if(Array.isArray(t))return Mb(t)}function Mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fg=1e-4,wF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},bF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Mk=function(e,n){return function(r){var i=wF(e,n);return bF(i,r)}},Gwe=function(e,n){return function(r){var i=wF(e,n),o=[].concat(zwe(i.map(function(a,s){return a*s}).slice(1)),[0]);return bF(o,r)}},Dk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=Vwe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=Mk(i,a),d=Mk(o,s),p=Gwe(i,a),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,_=w,S=0;S<8;++S){var E=f(_)-w,A=p(_);if(Math.abs(E-w)<fg||A<fg)return d(_);_=m(_-E/A)}return d(_)};return g.isStepper=!1,g},Kwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*s/1e3,y=d*s/1e3+c;return Math.abs(y-f)<fg&&Math.abs(g)<fg?[f,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Xwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Dk(i);case"spring":return Kwe();default:if(i.split("(")[0]==="cubic-bezier")return Dk(i)}return typeof i=="function"?i:null};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function $k(t){return Jwe(t)||Qwe(t)||xF(t)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jwe(t){if(Array.isArray(t))return $b(t)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Db(t,e,n){return e=Zwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zwe(t){var e=ebe(t,"string");return Kf(e)==="symbol"?e:String(e)}function ebe(t,e){if(Kf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tbe(t,e){return ibe(t)||rbe(t,e)||xF(t,e)||nbe()}function nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xF(t,e){if(t){if(typeof t=="string")return $b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(t,e)}}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ibe(t){if(Array.isArray(t))return t}var dg=function(e,n,r){return e+(n-e)*r},jb=function(e){var n=e.from,r=e.to;return n!==r},obe=function t(e,n,r){var i=Bc(function(o,a){if(jb(a)){var s=e(a.from,a.to,a.velocity),l=tbe(s,2),u=l[0],c=l[1];return zt(zt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Bc(function(o,a){return jb(a)?zt(zt({},a),{},{velocity:dg(a.velocity,i[o].velocity,r),from:dg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const abe=function(t,e,n,r,i){var o=$we(t,e),a=o.reduce(function(y,v){return zt(zt({},y),{},Db({},v,[t[v],e[v]]))},{}),s=o.reduce(function(y,v){return zt(zt({},y),{},Db({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Bc(function(v,w){return w.from},s)},p=function(){return!Object.values(s).filter(jb).length},m=function(v){u||(u=v);var w=v-u,_=w/n.dt;s=obe(n,s,_),i(zt(zt(zt({},t),e),d())),u=v,p()||(l=requestAnimationFrame(f))},g=function(v){c||(c=v);var w=(v-c)/r,_=Bc(function(E,A){return dg.apply(void 0,$k(A).concat([n(w)]))},a);if(i(zt(zt(zt({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var S=Bc(function(E,A){return dg.apply(void 0,$k(A).concat([n(1)]))},a);i(zt(zt(zt({},t),e),S))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}var sbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lbe(t,e){if(t==null)return{};var n=ube(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ube(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function X0(t){return hbe(t)||dbe(t)||fbe(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fbe(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hbe(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){wc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wc(t,e,n){return e=EF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EF(r.key),r)}}function gbe(t,e,n){return e&&mbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EF(t){var e=ybe(t,"string");return Ll(e)==="symbol"?e:String(e)}function ybe(t,e){if(Ll(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}function Vb(t,e){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vb(t,e)}function _be(t){var e=wbe();return function(){var r=hg(t),i;if(e){var o=hg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fb(this,i)}}function Fb(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bb(t)}function Bb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}var Bi=function(t){vbe(n,t);var e=_be(n);function n(r,i){var o;pbe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Bb(o)),o.changeStyle=o.changeStyle.bind(Bb(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),Fb(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},Fb(o);o.state={style:l?wc({},l,u):u}}else o.state={style:{}};return o}return gbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?wc({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(Awe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var y={style:l?wc({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(y)}this.runAnimation(pr(pr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=abe(a,s,Xwe(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,y,v){if(v===0)return g;var w=y.duration,_=y.easing,S=_===void 0?"ease":_,E=y.style,A=y.properties,b=y.onAnimationEnd,T=v>0?a[v-1]:y,P=A||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(X0(g),[o.runJSAnimation.bind(o,{from:T.style,to:E,duration:w,easing:S}),w]);var O=Rk(P,w,S),C=pr(pr(pr({},T.style),E),{},{transition:O});return[].concat(X0(g),[C,w,b]).filter(jwe)};return this.manager.start([l].concat(X0(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Rwe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?wc({},s,l):l,y=Rk(Object.keys(g),a,u);m.start([c,o,pr(pr({},g),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=lbe(i,sbe),u=D.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,v=m.className,w=D.cloneElement(p,pr(pr({},l),{},{style:pr(pr({},y),c),className:v}));return w};return u===1?f(D.Children.only(o)):z.createElement("div",null,D.Children.map(o,function(d){return f(d)}))}}]),n}(D.PureComponent);Bi.displayName="Animate";Bi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bi.propTypes={from:Le.oneOfType([Le.object,Le.string]),to:Le.oneOfType([Le.object,Le.string]),attributeName:Le.string,duration:Le.number,begin:Le.number,easing:Le.oneOfType([Le.string,Le.func]),steps:Le.arrayOf(Le.shape({duration:Le.number.isRequired,style:Le.object.isRequired,easing:Le.oneOfType([Le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Le.func]),properties:Le.arrayOf("string"),onAnimationEnd:Le.func})),children:Le.oneOfType([Le.node,Le.func]),isActive:Le.bool,canBegin:Le.bool,onAnimationEnd:Le.func,shouldReAnimate:Le.bool,onAnimationStart:Le.func,onAnimationReStart:Le.func};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function bbe(t,e){return Tbe(t)||Sbe(t,e)||Ebe(t,e)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Tbe(t){if(Array.isArray(t))return t}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){Abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Abe(t,e,n){return e=Pbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=Ibe(t,"string");return Xf(e)=="symbol"?e:e+""}function Ibe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uk=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Obe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},Cbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wS=function(e){var n=Bk(Bk({},Cbe),e),r=D.useRef(),i=D.useState(-1),o=bbe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=$e("recharts-rectangle",p);return w?z.createElement(Bi,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(S){var E=S.width,A=S.height,b=S.x,T=S.y;return z.createElement(Bi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:m},z.createElement("path",pg({},Ce(n,!0),{className:_,d:Uk(b,T,E,A,d),ref:r})))}):z.createElement("path",pg({},Ce(n,!0),{className:_,d:Uk(l,u,c,f,d)}))};function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(this,arguments)}var bS=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=$e("recharts-dot",o);return n===+n&&r===+r&&i===+i?z.createElement("circle",Ub({},Ce(e,!1),$m(e),{className:a,cx:n,cy:r,r:i})):null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var kbe=["x","y","top","left","width","height","className"];function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Rbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rbe(t,e,n){return e=Mbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mbe(t){var e=Dbe(t,"string");return Yf(e)=="symbol"?e:e+""}function Dbe(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $be(t,e){if(t==null)return{};var n=jbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Lbe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Vbe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=$be(e,kbe),y=Nbe({x:r,y:o,top:s,left:u,width:f,height:p},g);return!ue(r)||!ue(o)||!ue(f)||!ue(p)||!ue(s)||!ue(u)?null:z.createElement("path",zb({},Ce(y,!0),{className:$e("recharts-cross",m),d:Lbe(r,o,f,p,s,u)}))},Fbe=FV,Bbe=Fbe(Object.getPrototypeOf,Object),Ube=Bbe,zbe=Gi,Wbe=Ube,Hbe=Ki,qbe="[object Object]",Gbe=Function.prototype,Kbe=Object.prototype,SF=Gbe.toString,Xbe=Kbe.hasOwnProperty,Ybe=SF.call(Object);function Qbe(t){if(!Hbe(t)||zbe(t)!=qbe)return!1;var e=Wbe(t);if(e===null)return!0;var n=Xbe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&SF.call(n)==Ybe}var Jbe=Qbe;const Zbe=ze(Jbe);var exe=Gi,txe=Ki,nxe="[object Boolean]";function rxe(t){return t===!0||t===!1||txe(t)&&exe(t)==nxe}var ixe=rxe;const oxe=ze(ixe);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function axe(t,e){return cxe(t)||uxe(t,e)||lxe(t,e)||sxe()}function sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lxe(t,e){if(t){if(typeof t=="string")return Wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wk(t,e)}}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cxe(t){if(Array.isArray(t))return t}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){fxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fxe(t,e,n){return e=dxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dxe(t){var e=hxe(t,"string");return Qf(e)=="symbol"?e:e+""}function hxe(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gk=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},pxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mxe=function(e){var n=qk(qk({},pxe),e),r=D.useRef(),i=D.useState(-1),o=axe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var w=$e("recharts-trapezoid",p);return v?z.createElement(Bi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:v},function(_){var S=_.upperWidth,E=_.lowerWidth,A=_.height,b=_.x,T=_.y;return z.createElement(Bi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},z.createElement("path",mg({},Ce(n,!0),{className:w,d:Gk(b,T,S,E,A),ref:r})))}):z.createElement("g",null,z.createElement("path",mg({},Ce(n,!0),{className:w,d:Gk(l,u,c,f,d)})))},gxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function yxe(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){_xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _xe(t,e,n){return e=wxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wxe(t){var e=bxe(t,"string");return Jf(e)=="symbol"?e:e+""}function bxe(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xxe(t,e){return gg(gg({},e),t)}function Exe(t,e){return t==="symbols"}function Xk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(wS,n);case"trapezoid":return z.createElement(mxe,n);case"sector":return z.createElement(hF,n);case"symbols":if(Exe(e))return z.createElement(U1,n);break;default:return null}}function Sxe(t){return D.isValidElement(t)?t.props:t}function Txe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?xxe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=yxe(t,gxe),u;if(D.isValidElement(e))u=D.cloneElement(e,gg(gg({},l),Sxe(e)));else if(Se(e))u=e(l);else if(Zbe(e)&&!oxe(e)){var c=i(e,l);u=z.createElement(Xk,{shapeType:n,elementProps:c})}else{var f=l;u=z.createElement(Xk,{shapeType:n,elementProps:f})}return s?z.createElement(gt,{className:a},u):u}function lv(t,e){return e!=null&&"trapezoids"in t.props}function uv(t,e){return e!=null&&"sectors"in t.props}function Zf(t,e){return e!=null&&"points"in t.props}function Axe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Pxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ixe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Oxe(t,e){var n;return lv(t,e)?n=Axe:uv(t,e)?n=Pxe:Zf(t,e)&&(n=Ixe),n}function Cxe(t,e){var n;return lv(t,e)?n="trapezoids":uv(t,e)?n="sectors":Zf(t,e)&&(n="points"),n}function kxe(t,e){if(lv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(uv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Zf(t,e)?e.payload:{}}function Nxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Cxe(n,e),o=kxe(n,e),a=r.filter(function(l,u){var c=ov(o,l),f=n.props[i].filter(function(m){var g=Oxe(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var Rxe=Math.ceil,Mxe=Math.max;function Dxe(t,e,n,r){for(var i=-1,o=Mxe(Rxe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var $xe=Dxe,jxe=o4,Lxe=1/0,Vxe=17976931348623157e292;function Fxe(t){if(!t)return t===0?t:0;if(t=jxe(t),t===Lxe||t===-1/0){var e=t<0?-1:1;return e*Vxe}return t===t?t:0}var TF=Fxe,Bxe=$xe,Uxe=Yy,Y0=TF;function zxe(t){return function(e,n,r){return r&&typeof r!="number"&&Uxe(e,n,r)&&(n=r=void 0),e=Y0(e),n===void 0?(n=e,e=0):n=Y0(n),r=r===void 0?e<n?1:-1:Y0(r),Bxe(e,n,r,t)}}var Wxe=zxe,Hxe=Wxe,qxe=Hxe(),Gxe=qxe;const yg=ze(Gxe);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){AF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AF(t,e,n){return e=Kxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kxe(t){var e=Xxe(t,"string");return ed(e)=="symbol"?e:e+""}function Xxe(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yxe=["Webkit","Moz","O","ms"],Qxe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Yxe.reduce(function(o,a){return Qk(Qk({},o),{},AF({},a+r,n))},{});return i[e]=n,i};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){Nn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IF(r.key),r)}}function Zxe(t,e,n){return e&&Zk(t.prototype,e),n&&Zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eEe(t,e,n){return e=_g(e),tEe(t,PF()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function tEe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(t)}function nEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function rEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function Nn(t,e,n){return e=IF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IF(t){var e=iEe(t,"string");return Vl(e)=="symbol"?e:e+""}function iEe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Vc().domain(yg(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},eN=function(e){return e.changedTouches&&!!e.changedTouches.length},Fl=function(t){function e(n){var r;return Jxe(this,e),r=eEe(this,e,[n]),Nn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Nn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Nn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Nn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Nn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Nn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Nn(r,"handleSlideDragStart",function(i){var o=eN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return rEe(e,t),Zxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Un(o[r],s,r);return Se(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-s,u+c-f-a):g<0&&(g=Math.max(g,u-a,u-s));var y=this.getIndex({startX:a+g,endX:s+g});(y.startIndex!==d||y.endIndex!==p)&&m&&m(y),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=eN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,y=c.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+d-p-u):w<0&&(w=Math.max(w,f-u)),v[a]=u+w;var _=this.getIndex(v),S=_.startIndex,E=_.endIndex,A=function(){var T=y.length-1;return a==="startX"&&(s>l?S%g===0:E%g===0)||s<l&&E===T||a==="endX"&&(s>l?E%g===0:S%g===0)||s>l&&E===T};this.setState(Nn(Nn({},a,u+w),"brushMoveStartX",r.pageX),function(){m&&A()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Nn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return z.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=D.Children.only(u);return f?z.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),w=Q0(Q0({},Ce(this.props,!1)),{},{x:v,y:u,width:c,height:f}),_=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[y])===null||a===void 0?void 0:a.name);return z.createElement(gt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return z.createElement(gt,{className:"recharts-brush-texts"},z.createElement(Qm,vg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},m),this.getTextOfTick(i)),z.createElement(Qm,vg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,y=d.isSlideMoving,v=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!ue(s)||!ue(l)||!ue(u)||!ue(c)||u<=0||c<=0)return null;var _=$e("recharts-brush",o),S=z.Children.count(a)===1,E=Qxe("userSelect","none");return z.createElement(gt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Q0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?oEe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(D.PureComponent);Nn(Fl,"displayName","Brush");Nn(Fl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aEe=X1;function sEe(t,e){var n;return aEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var lEe=sEe,uEe=NV,cEe=Ho,fEe=lEe,dEe=In,hEe=Yy;function pEe(t,e,n){var r=dEe(t)?uEe:fEe;return n&&hEe(t,e,n)&&(e=void 0),r(t,cEe(e))}var mEe=pEe;const gEe=ze(mEe);var ti=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},tN=e4;function yEe(t,e,n){e=="__proto__"&&tN?tN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vEe=yEe,_Ee=vEe,wEe=JV,bEe=Ho;function xEe(t,e){var n={};return e=bEe(e),wEe(t,function(r,i,o){_Ee(n,i,e(r,i,o))}),n}var EEe=xEe;const SEe=ze(EEe);function TEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var AEe=TEe,PEe=X1;function IEe(t,e){var n=!0;return PEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var OEe=IEe,CEe=AEe,kEe=OEe,NEe=Ho,REe=In,MEe=Yy;function DEe(t,e,n){var r=REe(t)?CEe:kEe;return n&&MEe(t,e,n)&&(e=void 0),r(t,NEe(e))}var $Ee=DEe;const OF=ze($Ee);var jEe=["x","y"];function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){LEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LEe(t,e,n){return e=VEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VEe(t){var e=FEe(t,"string");return td(e)=="symbol"?e:e+""}function FEe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BEe(t,e){if(t==null)return{};var n=UEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zEe(t,e){var n=t.x,r=t.y,i=BEe(t,jEe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return oc(oc(oc(oc(oc({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function rN(t){return z.createElement(Txe,Hb({shapeType:"rectangle",propTransformer:zEe,activeClassName:"recharts-active-bar"},t))}var WEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Ha(),n)}},HEe=["value","background"],CF;function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function qEe(t,e){if(t==null)return{};var n=GEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NF(r.key),r)}}function XEe(t,e,n){return e&&oN(t.prototype,e),n&&oN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YEe(t,e,n){return e=bg(e),QEe(t,kF()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function QEe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JEe(t)}function JEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function ZEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qb(t,e)}function vo(t,e,n){return e=NF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NF(t){var e=e1e(t,"string");return Bl(e)=="symbol"?e:e+""}function e1e(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ld=function(t){function e(){var n;KEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=YEe(this,e,[].concat(i)),vo(n,"state",{isAnimationFinished:!1}),vo(n,"id",Nd("recharts-bar-")),vo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),vo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ZEe(e,t),XEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ce(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:a,g=_t(_t(_t({},c),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(gt,wg({className:"recharts-bar-rectangle"},jm(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),z.createElement(rN,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return z.createElement(Bi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(y,v){var w=d&&d[v];if(w){var _=xr(w.x,y.x),S=xr(w.y,y.y),E=xr(w.width,y.width),A=xr(w.height,y.height);return _t(_t({},y),{},{x:_(m),y:S(m),width:E(m),height:A(m)})}if(a==="horizontal"){var b=xr(0,y.height),T=b(m);return _t(_t({},y),{},{y:y.y+y.height-T,height:T})}var P=xr(0,y.width),O=P(m);return _t(_t({},y),{},{width:O})});return z.createElement(gt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!ov(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ce(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=qEe(u,HEe);if(!f)return null;var p=_t(_t(_t(_t(_t({},d),{},{fill:"#eee"},f),l),jm(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return z.createElement(rN,wg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=rr(c,jd);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(y,v){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Un(y,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(gt,m,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,v=$e("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,S=w||_,E=Ie(g)?this.id:g;return z.createElement(gt,{className:v},w||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:w?u:u-f/2,y:_?c:c-d/2,width:w?f:f*2,height:_?d:d*2}))):null,z.createElement(gt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||y)&&Mo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);CF=Ld;vo(Ld,"displayName","Bar");vo(Ld,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vo(Ld,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=O0e(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?_t(_t({},g),n.props):n.props,v=y.dataKey,w=y.children,_=y.minPointSize,S=m==="horizontal"?a:o,E=u?S.scale.domain():null,A=j0e({numericAxis:S}),b=rr(w,s4),T=f.map(function(P,O){var C,N,k,R,V,j;u?C=C0e(u[c+O],E):(C=Un(P,v),Array.isArray(C)||(C=[A,C]));var F=WEe(_,CF.defaultProps.minPointSize)(C[1],O);if(m==="horizontal"){var L,B=[a.scale(C[0]),a.scale(C[1])],U=B[0],G=B[1];N=ok({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:P,index:O}),k=(L=G??U)!==null&&L!==void 0?L:void 0,R=p.size;var W=U-G;if(V=Number.isNaN(W)?0:W,j={x:N,y:a.y,width:R,height:a.height},Math.abs(F)>0&&Math.abs(V)<Math.abs(F)){var K=Ar(V||F)*(Math.abs(F)-Math.abs(V));k-=K,V+=K}}else{var Y=[o.scale(C[0]),o.scale(C[1])],ee=Y[0],ne=Y[1];if(N=ee,k=ok({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:O}),R=ne-ee,V=p.size,j={x:o.x,y:k,width:o.width,height:V},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var re=Ar(R||F)*(Math.abs(F)-Math.abs(R));R+=re}}return _t(_t(_t({},P),{},{x:N,y:k,width:R,height:V,value:u?C:C[1],payload:P,background:j},b&&b[O]&&b[O].props),{},{tooltipPayload:[cF(n,P)],tooltipPosition:{x:N+R/2,y:k+V/2}})});return _t({data:T,layout:m},d)});function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function t1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function n1e(t,e,n){return e&&aN(t.prototype,e),n&&aN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cv(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=r1e(t,"string");return nd(e)=="symbol"?e:e+""}function r1e(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i1e=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Mn(u,Ld);return c.reduce(function(p,m){var g=n[m],y=g.orientation,v=g.domain,w=g.padding,_=w===void 0?{}:w,S=g.mirror,E=g.reversed,A="".concat(y).concat(S?"Mirror":""),b,T,P,O,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=v[1]-v[0],k=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(Y,ee){ee>0&&(k=Math.min((Y||0)-(R[ee-1]||0),k))}),Number.isFinite(k)){var V=k/N,j=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(b=V*j/2),g.padding==="no-gap"){var F=za(e.barCategoryGap,V*j),L=V*j/2;b=L-F-(L-F)/j*F}}}i==="xAxis"?T=[r.left+(_.left||0)+(b||0),r.left+r.width-(_.right||0)-(b||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(b||0),r.top+r.height-(_.bottom||0)-(b||0)]:T=g.range,E&&(T=[T[1],T[0]]);var B=P0e(g,o,d),U=B.scale,G=B.realScaleType;U.domain(v).range(T),I0e(U);var W=$0e(U,vr(vr({},g),{},{realScaleType:G}));i==="xAxis"?(C=y==="top"&&!S||y==="bottom"&&S,P=r.left,O=f[A]-C*g.height):i==="yAxis"&&(C=y==="left"&&!S||y==="right"&&S,P=f[A]-C*g.width,O=r.top);var K=vr(vr(vr({},g),W),{},{realScaleType:G,x:P,y:O,scale:U,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return K.bandSize=lg(K,W),!g.hide&&i==="xAxis"?f[A]+=(C?-1:1)*K.height:g.hide||(f[A]+=(C?-1:1)*K.width),vr(vr({},p),{},cv({},m,K))},{})},MF=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},o1e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return MF({x:n,y:r},{x:i,y:o})},DF=function(){function t(e){t1e(this,t),this.scale=e}return n1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();cv(DF,"EPS",1e-4);var xS=function(e){var n=Object.keys(e).reduce(function(r,i){return vr(vr({},r),{},cv({},i,DF.create(e[i])))},{});return vr(vr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return SEe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return OF(i,function(o,a){return n[a].isInRange(o)})}})};function a1e(t){return(t%180+180)%180}var s1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=a1e(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},l1e=Ho,u1e=Rd,c1e=Ky;function f1e(t){return function(e,n,r){var i=Object(e);if(!u1e(e)){var o=l1e(n);e=c1e(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var d1e=f1e,h1e=TF;function p1e(t){var e=h1e(t),n=e%1;return e===e?n?e-n:e:0}var m1e=p1e,g1e=qV,y1e=Ho,v1e=m1e,_1e=Math.max;function w1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:v1e(n);return i<0&&(i=_1e(r+i,0)),g1e(t,y1e(e),i)}var b1e=w1e,x1e=d1e,E1e=b1e,S1e=x1e(E1e),T1e=S1e;const A1e=ze(T1e);var P1e=jre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ES=D.createContext(void 0),SS=D.createContext(void 0),$F=D.createContext(void 0),jF=D.createContext({}),LF=D.createContext(void 0),VF=D.createContext(0),FF=D.createContext(0),lN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=P1e(o);return z.createElement(ES.Provider,{value:r},z.createElement(SS.Provider,{value:i},z.createElement(jF.Provider,{value:o},z.createElement($F.Provider,{value:c},z.createElement(LF.Provider,{value:a},z.createElement(VF.Provider,{value:u},z.createElement(FF.Provider,{value:l},s)))))))},I1e=function(){return D.useContext(LF)},BF=function(e){var n=D.useContext(ES);n==null&&Ha();var r=n[e];return r==null&&Ha(),r},O1e=function(){var e=D.useContext(ES);return ho(e)},C1e=function(){var e=D.useContext(SS),n=A1e(e,function(r){return OF(r.domain,Number.isFinite)});return n||ho(e)},UF=function(e){var n=D.useContext(SS);n==null&&Ha();var r=n[e];return r==null&&Ha(),r},k1e=function(){var e=D.useContext($F);return e},N1e=function(){return D.useContext(jF)},TS=function(){return D.useContext(FF)},AS=function(){return D.useContext(VF)};function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function R1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WF(r.key),r)}}function D1e(t,e,n){return e&&M1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $1e(t,e,n){return e=xg(e),j1e(t,zF()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function j1e(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L1e(t)}function L1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function V1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gb(t,e)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){PS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PS(t,e,n){return e=WF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WF(t){var e=F1e(t,"string");return Ul(e)=="symbol"?e:e+""}function F1e(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function B1e(t,e){return H1e(t)||W1e(t,e)||z1e(t,e)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z1e(t,e){if(t){if(typeof t=="string")return fN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(t,e)}}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function H1e(t){if(Array.isArray(t))return t}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}var q1e=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):Se(e)?r=e(n):r=z.createElement("line",Kb({},n,{className:"recharts-reference-line-line"})),r},G1e=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:a});if(ti(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?y.reverse():y}if(n){var v=u.x,w=e.x.apply(v,{position:a});if(ti(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+p},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var S=u.segment,E=S.map(function(A){return e.apply(A,{position:a})});return ti(u,"discard")&&gEe(E,function(A){return!e.isInRange(A)})?null:E}return null};function K1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=I1e(),c=BF(i),f=UF(o),d=k1e();if(!u||!d)return null;Pi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=xS({x:c.scale,y:f.scale}),m=Nt(e),g=Nt(n),y=r&&r.length===2,v=G1e(p,m,g,y,d,t.position,c.orientation,f.orientation,t);if(!v)return null;var w=B1e(v,2),_=w[0],S=_.x,E=_.y,A=w[1],b=A.x,T=A.y,P=ti(t,"hidden")?"url(#".concat(u,")"):void 0,O=cN(cN({clipPath:P},Ce(t,!0)),{},{x1:S,y1:E,x2:b,y2:T});return z.createElement(gt,{className:$e("recharts-reference-line",s)},q1e(a,O),ln.renderCallByParent(t,o1e({x1:S,y1:E,x2:b,y2:T})))}var IS=function(t){function e(){return R1e(this,e),$1e(this,e,arguments)}return V1e(e,t),D1e(e,[{key:"render",value:function(){return z.createElement(K1e,this.props)}}])}(z.Component);PS(IS,"displayName","ReferenceLine");PS(IS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qF(r.key),r)}}function Q1e(t,e,n){return e&&Y1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J1e(t,e,n){return e=Eg(e),Z1e(t,HF()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function Z1e(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eSe(t)}function eSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function tSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yb(t,e)}function fv(t,e,n){return e=qF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qF(t){var e=nSe(t,"string");return zl(e)=="symbol"?e:e+""}function nSe(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rSe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=xS({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return ti(e,"discard")&&!a.isInRange(s)?null:s},dv=function(t){function e(){return X1e(this,e),J1e(this,e,arguments)}return tSe(e,t),Q1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Nt(i),c=Nt(o);if(Pi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=rSe(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,y=m.className,v=ti(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=hN(hN({clipPath:v},Ce(this.props,!0)),{},{cx:d,cy:p});return z.createElement(gt,{className:$e("recharts-reference-dot",y)},e.renderDot(g,w),ln.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(z.Component);fv(dv,"displayName","ReferenceDot");fv(dv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fv(dv,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Se(t)?n=t(e):n=z.createElement(bS,Xb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qb.apply(this,arguments)}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){hv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KF(r.key),r)}}function aSe(t,e,n){return e&&oSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sSe(t,e,n){return e=Sg(e),lSe(t,GF()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function lSe(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(t)}function uSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function cSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function hv(t,e,n){return e=KF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KF(t){var e=fSe(t,"string");return Wl(e)=="symbol"?e:e+""}function fSe(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dSe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=xS({x:c.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return ti(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:MF(p,m)},pv=function(t){function e(){return iSe(this,e),sSe(this,e,arguments)}return cSe(e,t),aSe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Pi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Nt(i),d=Nt(o),p=Nt(a),m=Nt(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var y=dSe(f,d,p,m,this.props);if(!y&&!g)return null;var v=ti(this.props,"hidden")?"url(#".concat(c,")"):void 0;return z.createElement(gt,{className:$e("recharts-reference-area",l)},e.renderRect(g,mN(mN({clipPath:v},Ce(this.props,!0)),y)),ln.renderCallByParent(this.props,y))}}])}(z.Component);hv(pv,"displayName","ReferenceArea");hv(pv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hv(pv,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Se(t)?n=t(e):n=z.createElement(wS,Qb({},e,{className:"recharts-reference-area-rect"})),n});function XF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function hSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return s1e(r,n)}function pSe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Tg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function mSe(t,e){return XF(t,e+1)}function gSe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:XF(r,u)};var g=l,y,v=function(){return y===void 0&&(y=n(m,g)),y},w=m.coordinate,_=l===0||Tg(t,w,v,c,s);_||(l=0,c=a,u+=1),_&&(c=w+t*(v()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){ySe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ySe(t,e,n){return e=vSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vSe(t){var e=_Se(t,"string");return rd(e)=="symbol"?e:e+""}function _Se(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wSe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var y=t*(p.coordinate+t*g()/2-l);o[d]=p=rn(rn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[d]=p=rn(rn({},p),{},{tickCoord:p.coordinate});var v=Tg(t,p.tickCoord,g,s,l);v&&(l=p.tickCoord-t*(g()/2+i),o[d]=rn(rn({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function bSe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);a[s-1]=c=rn(rn({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Tg(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=rn(rn({},c),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(w){var _=a[w],S,E=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var A=t*(_.coordinate-t*E()/2-l);a[w]=_=rn(rn({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else a[w]=_=rn(rn({},_),{},{tickCoord:_.coordinate});var b=Tg(t,_.tickCoord,E,l,u);b&&(l=_.tickCoord+t*(E()/2+i),a[w]=rn(rn({},_),{},{isShow:!0}))},y=0;y<m;y++)g(y);return a}function OS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ue(l)||gu.isSsr)return mSe(i,typeof l=="number"&&ue(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?Lc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,S){var E=Se(u)?u(_.value,S):_.value;return p==="width"?hSe(Lc(E,{fontSize:e,letterSpacing:n}),m,f):Lc(E,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,v=pSe(o,y,p);return l==="equidistantPreserveStart"?gSe(y,v,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=bSe(y,v,g,i,a,l==="preserveStartEnd"):d=wSe(y,v,g,i,a),d.filter(function(w){return w.isShow}))}var xSe=["viewBox"],ESe=["viewBox"],SSe=["ticks"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){CS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J0(t,e){if(t==null)return{};var n=TSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ASe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QF(r.key),r)}}function PSe(t,e,n){return e&&vN(t.prototype,e),n&&vN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ISe(t,e,n){return e=Ag(e),OSe(t,YF()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function OSe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CSe(t)}function CSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YF=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function kSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zb(t,e)}function CS(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=NSe(t,"string");return Hl(e)=="symbol"?e:e+""}function NSe(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _u=function(t){function e(n){var r;return ASe(this,e),r=ISe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return kSe(e,t),PSe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=J0(r,xSe),s=this.props,l=s.viewBox,u=J0(s,ESe);return!il(o,l)||!il(a,u)||!il(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,y,v,w,_=f?-1:1,S=r.tickSize||c,E=ue(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=a+ +!f*l,g=y-_*S,w=g-_*d,v=E;break;case"left":g=y=r.coordinate,m=o+ +!f*s,p=m-_*S,v=p-_*d,w=E;break;case"right":g=y=r.coordinate,m=o+ +f*s,p=m+_*S,v=p+_*d,w=E;break;default:p=m=r.coordinate,y=a+ +f*l,g=y+_*S,w=g+_*d,v=E;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=pn(pn(pn({},Ce(this.props,!1)),Ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=pn(pn({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=pn(pn({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return z.createElement("line",Ws({},f,{className:$e("recharts-cartesian-axis-line",nr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=OS(pn(pn({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Ce(this.props,!1),v=Ce(c,!1),w=pn(pn({},y),{},{fill:"none"},Ce(l,!1)),_=p.map(function(S,E){var A=a.getTickLineCoord(S),b=A.line,T=A.tick,P=pn(pn(pn(pn({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:u},v),T),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:f});return z.createElement(gt,Ws({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},jm(a.props,S,E)),l&&z.createElement("line",Ws({},w,b,{className:$e("recharts-cartesian-axis-tick-line",nr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(Se(f)?f(S.value,E):S.value).concat(d||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=J0(f,SSe),m=d;return Se(l)&&(m=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:z.createElement(gt,{className:$e("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):Se(r)?a=r(i):a=z.createElement(Qm,Ws({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);CS(_u,"displayName","CartesianAxis");CS(_u,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RSe=["x1","y1","x2","y2","key"],MSe=["offset"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){DSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DSe(t,e,n){return e=$Se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Se(t){var e=jSe(t,"string");return qa(e)=="symbol"?e:e+""}function jSe(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(this,arguments)}function wN(t,e){if(t==null)return{};var n=LSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var VSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return z.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JF(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=wN(e,RSe),u=Ce(l,!1);u.offset;var c=wN(u,MSe);n=z.createElement("line",_a({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function FSe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=un(un({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return JF(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function BSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=un(un({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return JF(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function USe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+a-d:c[p+1]-d;if(g<=0)return null;var y=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function zSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+s-d:c[p+1]-d;if(g<=0)return null;var y=p%r.length;return z.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var WSe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return lF(OS(un(un(un({},_u.defaultProps),r),{},{ticks:Ei(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},HSe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return lF(OS(un(un(un({},_u.defaultProps),r),{},{ticks:Ei(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Es={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ZF(t){var e,n,r,i,o,a,s=TS(),l=AS(),u=N1e(),c=un(un({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Es.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Es.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Es.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Es.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Es.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Es.verticalFill,x:ue(t.x)?t.x:u.left,y:ue(t.y)?t.y:u.top,width:ue(t.width)?t.width:u.width,height:ue(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,y=c.horizontalValues,v=c.verticalValues,w=O1e(),_=C1e();if(!ue(p)||p<=0||!ue(m)||m<=0||!ue(f)||f!==+f||!ue(d)||d!==+d)return null;var S=c.verticalCoordinatesGenerator||WSe,E=c.horizontalCoordinatesGenerator||HSe,A=c.horizontalPoints,b=c.verticalPoints;if((!A||!A.length)&&Se(E)){var T=y&&y.length,P=E({yAxis:_?un(un({},_),{},{ticks:T?y:_.ticks}):void 0,width:s,height:l,offset:u},T?!0:g);Pi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qa(P),"]")),Array.isArray(P)&&(A=P)}if((!b||!b.length)&&Se(S)){var O=v&&v.length,C=S({xAxis:w?un(un({},w),{},{ticks:O?v:w.ticks}):void 0,width:s,height:l,offset:u},O?!0:g);Pi(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qa(C),"]")),Array.isArray(C)&&(b=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(VSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),z.createElement(FSe,_a({},c,{offset:u,horizontalPoints:A,xAxis:w,yAxis:_})),z.createElement(BSe,_a({},c,{offset:u,verticalPoints:b,xAxis:w,yAxis:_})),z.createElement(USe,_a({},c,{horizontalPoints:A})),z.createElement(zSe,_a({},c,{verticalPoints:b})))}ZF.displayName="CartesianGrid";var qSe=["type","layout","connectNulls","ref"],GSe=["key"];function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function bN(t,e){if(t==null)return{};var n=KSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ss(t){return JSe(t)||QSe(t)||YSe(t)||XSe()}function XSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(t,e){if(t){if(typeof t=="string")return ex(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(t,e)}}function QSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JSe(t){if(Array.isArray(t))return ex(t)}function ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t3(r.key),r)}}function eTe(t,e,n){return e&&EN(t.prototype,e),n&&EN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tTe(t,e,n){return e=Pg(e),nTe(t,e3()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function nTe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rTe(t)}function rTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function iTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tx(t,e)}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tx(t,e)}function _r(t,e,n){return e=t3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t3(t){var e=oTe(t,"string");return ql(e)=="symbol"?e:e+""}function oTe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vd=function(t){function e(){var n;ZSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tTe(this,e,[].concat(i)),_r(n,"state",{isAnimationFinished:!0,totalLength:0}),_r(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),_r(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(v,w){return v+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,d=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Ss(l.slice(0,m)),[f-g]);break}var y=p.length%2===0?[0,d]:[d];return[].concat(Ss(e.repeat(l,c)),Ss(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),_r(n,"id",Nd("recharts-line-")),_r(n,"pathRef",function(a){n.mainCurve=a}),_r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return iTe(e,t),eTe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=rr(c,jd);if(!f)return null;var d=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Un(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(gt,p,f.map(function(m){return z.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Ce(this.props,!1),d=Ce(l,!0),p=u.map(function(g,y){var v=kn(kn(kn({key:"dot-".concat(y),r:3},f),d),{},{value:g.value,dataKey:c,cx:g.x,cy:g.y,index:y,payload:g.payload});return e.renderDotItem(l,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(gt,Uc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=bN(s,qSe),d=kn(kn(kn({},Ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return z.createElement(Nb,Uc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,y=a.height,v=this.state,w=v.prevPoints,_=v.totalLength;return z.createElement(Bi,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var E=S.t;if(w){var A=w.length/s.length,b=s.map(function(N,k){var R=Math.floor(k*A);if(w[R]){var V=w[R],j=xr(V.x,N.x),F=xr(V.y,N.y);return kn(kn({},N),{},{x:j(E),y:F(E)})}if(m){var L=xr(g*2,N.x),B=xr(y/2,N.y);return kn(kn({},N),{},{x:L(E),y:B(E)})}return kn(kn({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(b,r,i)}var T=xr(0,_),P=T(E),O;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});O=o.getStrokeDasharray(P,_,C)}else O=o.generateSimpleStrokeDasharray(_,P);return o.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!ov(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=s.length===1,_=$e("recharts-line",l),S=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,A=S||E,b=Ie(y)?this.id:y,T=(r=Ce(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,O=P===void 0?3:P,C=T.strokeWidth,N=C===void 0?2:C,k=Bie(a)?a:{},R=k.clipDot,V=R===void 0?!0:R,j=O*2+N;return z.createElement(gt,{className:_},S||E?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(b)},z.createElement("rect",{x:S?d:d-p/2,y:E?f:f-m/2,width:S?p:p*2,height:E?m:m*2})),!V&&z.createElement("clipPath",{id:"clipPath-dots-".concat(b)},z.createElement("rect",{x:d-j/2,y:f-j/2,width:p+j,height:m+j}))):null,!w&&this.renderCurve(A,b),this.renderErrorBar(A,b),(w||a)&&this.renderDots(A,V,b),(!g||v)&&Mo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ss(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Ss(a),Ss(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(z.isValidElement(r))o=z.cloneElement(r,i);else if(Se(r))o=r(i);else{var a=i.key,s=bN(i,GSe),l=$e("recharts-line-dot",typeof r!="boolean"?r.className:"");o=z.createElement(bS,Uc({key:a},s,{className:l}))}return o}}])}(D.PureComponent);_r(Vd,"displayName","Line");_r(Vd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_r(Vd,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var m=Un(d,a);return c==="horizontal"?{x:ik({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:Ie(m)?null:r.scale(m),value:m,payload:d}:{x:Ie(m)?null:n.scale(m),y:ik({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:m,payload:d}});return kn({points:f,layout:c},u)});function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function aTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i3(r.key),r)}}function lTe(t,e,n){return e&&sTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uTe(t,e,n){return e=Ig(e),cTe(t,n3()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function cTe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(t)}function fTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function dTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nx(t,e)}function r3(t,e,n){return e=i3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3(t){var e=hTe(t,"string");return Gl(e)=="symbol"?e:e+""}function hTe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function pTe(t){var e=t.xAxisId,n=TS(),r=AS(),i=BF(e);return i==null?null:z.createElement(_u,rx({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ei(a,!0)}}))}var mv=function(t){function e(){return aTe(this,e),uTe(this,e,arguments)}return dTe(e,t),lTe(e,[{key:"render",value:function(){return z.createElement(pTe,this.props)}}])}(z.Component);r3(mv,"displayName","XAxis");r3(mv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function mTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s3(r.key),r)}}function yTe(t,e,n){return e&&gTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vTe(t,e,n){return e=Og(e),_Te(t,o3()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function _Te(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wTe(t)}function wTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function bTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(t,e)}function a3(t,e,n){return e=s3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s3(t){var e=xTe(t,"string");return Kl(e)=="symbol"?e:e+""}function xTe(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}var ETe=function(e){var n=e.yAxisId,r=TS(),i=AS(),o=UF(n);return o==null?null:z.createElement(_u,ox({},o,{className:$e("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ei(s,!0)}}))},gv=function(t){function e(){return mTe(this,e),vTe(this,e,arguments)}return bTe(e,t),yTe(e,[{key:"render",value:function(){return z.createElement(ETe,this.props)}}])}(z.Component);a3(gv,"displayName","YAxis");a3(gv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SN(t){return PTe(t)||ATe(t)||TTe(t)||STe()}function STe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TTe(t,e){if(t){if(typeof t=="string")return ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ax(t,e)}}function ATe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PTe(t){if(Array.isArray(t))return ax(t)}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sx=function(e,n,r,i,o){var a=rr(e,IS),s=rr(e,dv),l=[].concat(SN(a),SN(s)),u=rr(e,pv),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,y){if(y.props[c]===r&&ti(y.props,"extendDomain")&&ue(y.props[f])){var v=y.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,y){if(y.props[c]===r&&ti(y.props,"extendDomain")&&ue(y.props[p])&&ue(y.props[m])){var v=y.props[p],w=y.props[m];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,y){return ue(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},d)),d},l3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,w,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,d),!0;case 5:return y.fn.call(y.context,c,f,d,p),!0;case 6:return y.fn.call(y.context,c,f,d,p,m),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];y.fn.apply(y.context,w)}else{var S=y.length,E;for(_=0;_<S;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,c);break;case 3:y[_].fn.call(y[_].context,c,f);break;case 4:y[_].fn.call(y[_].context,c,f,d);break;default:if(!w)for(E=1,w=new Array(v-1);E<v;E++)w[E-1]=arguments[E];y[_].fn.apply(y[_].context,w)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(l3);var ITe=l3.exports;const OTe=ze(ITe);var Z0=new OTe,e_="recharts.syncMouseEvents";function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function CTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u3(r.key),r)}}function NTe(t,e,n){return e&&kTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t_(t,e,n){return e=u3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u3(t){var e=RTe(t,"string");return id(e)=="symbol"?e:e+""}function RTe(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MTe=function(){function t(){CTe(this,t),t_(this,"activeIndex",0),t_(this,"coordinateList",[]),t_(this,"layout","horizontal")}return NTe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function DTe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ue(r)&&ue(i))return!0}return!1}function $Te(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function c3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Gt(e,n,r,i),s=Gt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function jTe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Gt(s,l,u,f),p=Gt(s,l,c,f);r=d.x,i=d.y,o=p.x,a=p.y}else return c3(e);return[{x:r,y:i},{x:o,y:a}]}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){LTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LTe(t,e,n){return e=VTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VTe(t){var e=FTe(t,"string");return od(e)=="symbol"?e:e+""}function FTe(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BTe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Nb;if(d==="ScatterChart")m=a,g=Vbe;else if(d==="BarChart")m=$Te(f,a,l,c),g=wS;else if(f==="radial"){var y=c3(a),v=y.cx,w=y.cy,_=y.radius,S=y.startAngle,E=y.endAngle;m={cx:v,cy:w,startAngle:S,endAngle:E,innerRadius:_,outerRadius:_},g=hF}else m={points:jTe(f,a,l)},g=Nb;var A=op(op(op(op({stroke:"#ccc",pointerEvents:"none"},l),m),Ce(p,!1)),{},{payload:s,payloadIndex:u,className:$e("recharts-tooltip-cursor",p.className)});return D.isValidElement(p)?D.cloneElement(p,A):D.createElement(g,A)}var UTe=["item"],zTe=["children","className","width","height","style","compact","title","desc"];function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function AN(t,e){return qTe(t)||HTe(t,e)||d3(t,e)||WTe()}function WTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qTe(t){if(Array.isArray(t))return t}function PN(t,e){if(t==null)return{};var n=GTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h3(r.key),r)}}function YTe(t,e,n){return e&&XTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QTe(t,e,n){return e=Cg(e),JTe(t,f3()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function JTe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZTe(t)}function ZTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f3=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function eAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function Yl(t){return rAe(t)||nAe(t)||d3(t)||tAe()}function tAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3(t,e){if(t){if(typeof t=="string")return ux(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ux(t,e)}}function nAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rAe(t){if(Array.isArray(t))return ux(t)}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=h3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h3(t){var e=iAe(t,"string");return Xl(e)=="symbol"?e:e+""}function iAe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oAe={xAxis:["bottom","top"],yAxis:["left","right"]},aAe={width:"100%",height:"100%"},p3={x:0,y:0};function ap(t){return t}var sAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},lAe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Q(Q(Q({},i),Gt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return Q(Q(Q({},i),Gt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return p3},yv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Yl(s),Yl(u)):s},[]);return a.length>0?a:e&&e.length&&ue(i)&&ue(o)?e.slice(i,o+1):[]};function m3(t){return t==="number"?[0,"auto"]:void 0}var cx=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=yv(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=Dm(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Yl(l),[cF(u,d)]):l},[])},ON=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=sAe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=b0e(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=cx(e,n,c,f),p=lAe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},uAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=sF(c,o);return r.reduce(function(m,g){var y,v=g.type.defaultProps!==void 0?Q(Q({},g.type.defaultProps),g.props):g.props,w=v.type,_=v.dataKey,S=v.allowDataOverflow,E=v.allowDuplicatedCategory,A=v.scale,b=v.ticks,T=v.includeHidden,P=v[a];if(m[P])return m;var O=yv(e.data,{graphicalItems:i.filter(function(W){var K,Y=a in W.props?W.props[a]:(K=W.type.defaultProps)===null||K===void 0?void 0:K[a];return Y===P}),dataStartIndex:l,dataEndIndex:u}),C=O.length,N,k,R;DTe(v.domain,S,w)&&(N=Pb(v.domain,null,S),p&&(w==="number"||A!=="auto")&&(R=Fc(O,_,"category")));var V=m3(w);if(!N||N.length===0){var j,F=(j=v.domain)!==null&&j!==void 0?j:V;if(_){if(N=Fc(O,_,w),w==="category"&&p){var L=Nie(N);E&&L?(k=N,N=yg(0,C)):E||(N=lk(F,N,g).reduce(function(W,K){return W.indexOf(K)>=0?W:[].concat(Yl(W),[K])},[]))}else if(w==="category")E?N=N.filter(function(W){return W!==""&&!Ie(W)}):N=lk(F,N,g).reduce(function(W,K){return W.indexOf(K)>=0||K===""||Ie(K)?W:[].concat(Yl(W),[K])},[]);else if(w==="number"){var B=A0e(O,i.filter(function(W){var K,Y,ee=a in W.props?W.props[a]:(K=W.type.defaultProps)===null||K===void 0?void 0:K[a],ne="hide"in W.props?W.props.hide:(Y=W.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ee===P&&(T||!ne)}),_,o,c);B&&(N=B)}p&&(w==="number"||A!=="auto")&&(R=Fc(O,_,"category"))}else p?N=yg(0,C):s&&s[P]&&s[P].hasStack&&w==="number"?N=d==="expand"?[0,1]:uF(s[P].stackGroups,l,u):N=aF(O,i.filter(function(W){var K=a in W.props?W.props[a]:W.type.defaultProps[a],Y="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return K===P&&(T||!Y)}),w,c,!0);if(w==="number")N=sx(f,N,P,o,b),F&&(N=Pb(F,N,S));else if(w==="category"&&F){var U=F,G=N.every(function(W){return U.indexOf(W)>=0});G&&(N=U)}}return Q(Q({},m),{},ve({},P,Q(Q({},v),{},{axisType:o,domain:N,categoricalDomain:R,duplicateDomain:k,originalDomain:(y=v.domain)!==null&&y!==void 0?y:V,isCategorical:p,layout:c})))},{})},cAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=yv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=sF(c,o),g=-1;return r.reduce(function(y,v){var w=v.type.defaultProps!==void 0?Q(Q({},v.type.defaultProps),v.props):v.props,_=w[a],S=m3("number");if(!y[_]){g++;var E;return m?E=yg(0,p):s&&s[_]&&s[_].hasStack?(E=uF(s[_].stackGroups,l,u),E=sx(f,E,_,o)):(E=Pb(S,aF(d,r.filter(function(A){var b,T,P=a in A.props?A.props[a]:(b=A.type.defaultProps)===null||b===void 0?void 0:b[a],O="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===_&&!O}),"number",c),i.defaultProps.allowDataOverflow),E=sx(f,E,_,o)),Q(Q({},y),{},ve({},_,Q(Q({axisType:o},i.defaultProps),{},{hide:!0,orientation:nr(oAe,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:S,isCategorical:m,layout:c})))}return y},{})},fAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=rr(c,o),p={};return d&&d.length?p=uAe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=cAe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},dAe=function(e){var n=ho(e),r=Ei(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Y1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lg(n,r)}},CN=function(e){var n=e.children,r=e.defaultShowTooltip,i=Mn(n,Fl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},hAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ai(n&&n.type);return r&&r.indexOf("Bar")>=0})},kN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pAe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Mn(f,Fl),m=Mn(f,ol),g=Object.keys(l).reduce(function(E,A){var b=l[A],T=b.orientation;return!b.mirror&&!b.hide?Q(Q({},E),{},ve({},T,E[T]+b.width)):E},{left:d.left||0,right:d.right||0}),y=Object.keys(a).reduce(function(E,A){var b=a[A],T=b.orientation;return!b.mirror&&!b.hide?Q(Q({},E),{},ve({},T,nr(E,"".concat(T))+b.height)):E},{top:d.top||0,bottom:d.bottom||0}),v=Q(Q({},y),g),w=v.bottom;p&&(v.bottom+=p.props.height||Fl.defaultProps.height),m&&n&&(v=S0e(v,i,r,n));var _=u-v.left-v.right,S=c-v.top-v.bottom;return Q(Q({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(S,0)})},mAe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},gAe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(v,w){var _=w.graphicalItems,S=w.stackGroups,E=w.offset,A=w.updateId,b=w.dataStartIndex,T=w.dataEndIndex,P=v.barSize,O=v.layout,C=v.barGap,N=v.barCategoryGap,k=v.maxBarSize,R=kN(O),V=R.numericAxisName,j=R.cateAxisName,F=hAe(_),L=[];return _.forEach(function(B,U){var G=yv(v.data,{graphicalItems:[B],dataStartIndex:b,dataEndIndex:T}),W=B.type.defaultProps!==void 0?Q(Q({},B.type.defaultProps),B.props):B.props,K=W.dataKey,Y=W.maxBarSize,ee=W["".concat(V,"Id")],ne=W["".concat(j,"Id")],re={},se=l.reduce(function(dn,hn){var On=w["".concat(hn.axisType,"Map")],Lr=W["".concat(hn.axisType,"Id")];On&&On[Lr]||hn.axisType==="zAxis"||Ha();var cr=On[Lr];return Q(Q({},dn),{},ve(ve({},hn.axisType,cr),"".concat(hn.axisType,"Ticks"),Ei(cr)))},re),J=se[j],le=se["".concat(j,"Ticks")],oe=S&&S[ee]&&S[ee].hasStack&&L0e(B,S[ee].stackGroups),H=Ai(B.type).indexOf("Bar")>=0,he=lg(J,le),ce=[],Ee=F&&x0e({barSize:P,stackGroups:S,totalSize:mAe(se,j)});if(H){var Te,qe,Mt=Ie(Y)?k:Y,Dt=(Te=(qe=lg(J,le,!0))!==null&&qe!==void 0?qe:Mt)!==null&&Te!==void 0?Te:0;ce=E0e({barGap:C,barCategoryGap:N,bandSize:Dt!==he?Dt:he,sizeList:Ee[ne],maxBarSize:Mt}),Dt!==he&&(ce=ce.map(function(dn){return Q(Q({},dn),{},{position:Q(Q({},dn.position),{},{offset:dn.position.offset-Dt/2})})}))}var It=B&&B.type&&B.type.getComposedData;It&&L.push({props:Q(Q({},It(Q(Q({},se),{},{displayedData:G,props:v,dataKey:K,item:B,bandSize:he,barPosition:ce,offset:E,stackedData:oe,layout:O,dataStartIndex:b,dataEndIndex:T}))),{},ve(ve(ve({key:B.key||"item-".concat(U)},V,se[V]),j,se[j]),"animationId",A)),childIndex:Wie(B,v.children),item:B})}),L},p=function(v,w){var _=v.props,S=v.dataStartIndex,E=v.dataEndIndex,A=v.updateId;if(!cO({props:_}))return null;var b=_.children,T=_.layout,P=_.stackOffset,O=_.data,C=_.reverseStackOrder,N=kN(T),k=N.numericAxisName,R=N.cateAxisName,V=rr(b,r),j=D0e(O,V,"".concat(k,"Id"),"".concat(R,"Id"),P,C),F=l.reduce(function(W,K){var Y="".concat(K.axisType,"Map");return Q(Q({},W),{},ve({},Y,fAe(_,Q(Q({},K),{},{graphicalItems:V,stackGroups:K.axisType===k&&j,dataStartIndex:S,dataEndIndex:E}))))},{}),L=pAe(Q(Q({},F),{},{props:_,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(F).forEach(function(W){F[W]=c(_,F[W],L,W.replace("Map",""),n)});var B=F["".concat(R,"Map")],U=dAe(B),G=d(_,Q(Q({},F),{},{dataStartIndex:S,dataEndIndex:E,updateId:A,graphicalItems:V,stackGroups:j,offset:L}));return Q(Q({formattedGraphicalItems:G,graphicalItems:V,offset:L,stackGroups:j},U),F)},m=function(y){function v(w){var _,S,E;return KTe(this,v),E=QTe(this,v,[w]),ve(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(E,"accessibilityManager",new MTe),ve(E,"handleLegendBBoxUpdate",function(A){if(A){var b=E.state,T=b.dataStartIndex,P=b.dataEndIndex,O=b.updateId;E.setState(Q({legendBBox:A},p({props:E.props,dataStartIndex:T,dataEndIndex:P,updateId:O},Q(Q({},E.state),{},{legendBBox:A}))))}}),ve(E,"handleReceiveSyncEvent",function(A,b,T){if(E.props.syncId===A){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(b)}}),ve(E,"handleBrushChange",function(A){var b=A.startIndex,T=A.endIndex;if(b!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return Q({dataStartIndex:b,dataEndIndex:T},p({props:E.props,dataStartIndex:b,dataEndIndex:T,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:b,dataEndIndex:T})}}),ve(E,"handleMouseEnter",function(A){var b=E.getMouseInfo(A);if(b){var T=Q(Q({},b),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseEnter;Se(P)&&P(T,A)}}),ve(E,"triggeredAfterMouseMove",function(A){var b=E.getMouseInfo(A),T=b?Q(Q({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var P=E.props.onMouseMove;Se(P)&&P(T,A)}),ve(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ve(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ve(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),ve(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};E.setState(b),E.triggerSyncEvent(b);var T=E.props.onMouseLeave;Se(T)&&T(b,A)}),ve(E,"handleOuterEvent",function(A){var b=zie(A),T=nr(E.props,"".concat(b));if(b&&Se(T)){var P,O;/.*touch.*/i.test(b)?O=E.getMouseInfo(A.changedTouches[0]):O=E.getMouseInfo(A),T((P=O)!==null&&P!==void 0?P:{},A)}}),ve(E,"handleClick",function(A){var b=E.getMouseInfo(A);if(b){var T=Q(Q({},b),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var P=E.props.onClick;Se(P)&&P(T,A)}}),ve(E,"handleMouseDown",function(A){var b=E.props.onMouseDown;if(Se(b)){var T=E.getMouseInfo(A);b(T,A)}}),ve(E,"handleMouseUp",function(A){var b=E.props.onMouseUp;if(Se(b)){var T=E.getMouseInfo(A);b(T,A)}}),ve(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ve(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),ve(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),ve(E,"handleDoubleClick",function(A){var b=E.props.onDoubleClick;if(Se(b)){var T=E.getMouseInfo(A);b(T,A)}}),ve(E,"handleContextMenu",function(A){var b=E.props.onContextMenu;if(Se(b)){var T=E.getMouseInfo(A);b(T,A)}}),ve(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&Z0.emit(e_,E.props.syncId,A,E.eventEmitterSymbol)}),ve(E,"applySyncEvent",function(A){var b=E.props,T=b.layout,P=b.syncMethod,O=E.state.updateId,C=A.dataStartIndex,N=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(Q({dataStartIndex:C,dataEndIndex:N},p({props:E.props,dataStartIndex:C,dataEndIndex:N,updateId:O},E.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,R=A.chartY,V=A.activeTooltipIndex,j=E.state,F=j.offset,L=j.tooltipTicks;if(!F)return;if(typeof P=="function")V=P(L,A);else if(P==="value"){V=-1;for(var B=0;B<L.length;B++)if(L[B].value===A.activeLabel){V=B;break}}var U=Q(Q({},F),{},{x:F.left,y:F.top}),G=Math.min(k,U.x+U.width),W=Math.min(R,U.y+U.height),K=L[V]&&L[V].value,Y=cx(E.state,E.props.data,V),ee=L[V]?{x:T==="horizontal"?L[V].coordinate:G,y:T==="horizontal"?W:L[V].coordinate}:p3;E.setState(Q(Q({},A),{},{activeLabel:K,activeCoordinate:ee,activePayload:Y,activeTooltipIndex:V}))}else E.setState(A)}),ve(E,"renderCursor",function(A){var b,T=E.state,P=T.isTooltipActive,O=T.activeCoordinate,C=T.activePayload,N=T.offset,k=T.activeTooltipIndex,R=T.tooltipAxisBandSize,V=E.getTooltipEventType(),j=(b=A.props.active)!==null&&b!==void 0?b:P,F=E.props.layout,L=A.key||"_recharts-cursor";return z.createElement(BTe,{key:L,activeCoordinate:O,activePayload:C,activeTooltipIndex:k,chartName:n,element:A,isActive:j,layout:F,offset:N,tooltipAxisBandSize:R,tooltipEventType:V})}),ve(E,"renderPolarAxis",function(A,b,T){var P=nr(A,"type.axisType"),O=nr(E.state,"".concat(P,"Map")),C=A.type.defaultProps,N=C!==void 0?Q(Q({},C),A.props):A.props,k=O&&O[N["".concat(P,"Id")]];return D.cloneElement(A,Q(Q({},k),{},{className:$e(P,k.className),key:A.key||"".concat(b,"-").concat(T),ticks:Ei(k,!0)}))}),ve(E,"renderPolarGrid",function(A){var b=A.props,T=b.radialLines,P=b.polarAngles,O=b.polarRadius,C=E.state,N=C.radiusAxisMap,k=C.angleAxisMap,R=ho(N),V=ho(k),j=V.cx,F=V.cy,L=V.innerRadius,B=V.outerRadius;return D.cloneElement(A,{polarAngles:Array.isArray(P)?P:Ei(V,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(O)?O:Ei(R,!0).map(function(U){return U.coordinate}),cx:j,cy:F,innerRadius:L,outerRadius:B,key:A.key||"polar-grid",radialLines:T})}),ve(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,b=E.props,T=b.children,P=b.width,O=b.height,C=E.props.margin||{},N=P-(C.left||0)-(C.right||0),k=iF({children:T,formattedGraphicalItems:A,legendWidth:N,legendContent:u});if(!k)return null;var R=k.item,V=PN(k,UTe);return D.cloneElement(R,Q(Q({},V),{},{chartWidth:P,chartHeight:O,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ve(E,"renderTooltip",function(){var A,b=E.props,T=b.children,P=b.accessibilityLayer,O=Mn(T,Wr);if(!O)return null;var C=E.state,N=C.isTooltipActive,k=C.activeCoordinate,R=C.activePayload,V=C.activeLabel,j=C.offset,F=(A=O.props.active)!==null&&A!==void 0?A:N;return D.cloneElement(O,{viewBox:Q(Q({},j),{},{x:j.left,y:j.top}),active:F,label:V,payload:F?R:[],coordinate:k,accessibilityLayer:P})}),ve(E,"renderBrush",function(A){var b=E.props,T=b.margin,P=b.data,O=E.state,C=O.offset,N=O.dataStartIndex,k=O.dataEndIndex,R=O.updateId;return D.cloneElement(A,{key:A.key||"_recharts-brush",onChange:tp(E.handleBrushChange,A.props.onChange),data:P,x:ue(A.props.x)?A.props.x:C.left,y:ue(A.props.y)?A.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:ue(A.props.width)?A.props.width:C.width,startIndex:N,endIndex:k,updateId:"brush-".concat(R)})}),ve(E,"renderReferenceElement",function(A,b,T){if(!A)return null;var P=E,O=P.clipPathId,C=E.state,N=C.xAxisMap,k=C.yAxisMap,R=C.offset,V=A.type.defaultProps||{},j=A.props,F=j.xAxisId,L=F===void 0?V.xAxisId:F,B=j.yAxisId,U=B===void 0?V.yAxisId:B;return D.cloneElement(A,{key:A.key||"".concat(b,"-").concat(T),xAxis:N[L],yAxis:k[U],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:O})}),ve(E,"renderActivePoints",function(A){var b=A.item,T=A.activePoint,P=A.basePoint,O=A.childIndex,C=A.isRange,N=[],k=b.props.key,R=b.item.type.defaultProps!==void 0?Q(Q({},b.item.type.defaultProps),b.item.props):b.item.props,V=R.activeDot,j=R.dataKey,F=Q(Q({index:O,dataKey:j,cx:T.x,cy:T.y,r:4,fill:_S(b.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Ce(V,!1)),$m(V));return N.push(v.renderActiveDot(V,F,"".concat(k,"-activePoint-").concat(O))),P?N.push(v.renderActiveDot(V,Q(Q({},F),{},{cx:P.x,cy:P.y}),"".concat(k,"-basePoint-").concat(O))):C&&N.push(null),N}),ve(E,"renderGraphicChild",function(A,b,T){var P=E.filterFormatItem(A,b,T);if(!P)return null;var O=E.getTooltipEventType(),C=E.state,N=C.isTooltipActive,k=C.tooltipAxis,R=C.activeTooltipIndex,V=C.activeLabel,j=E.props.children,F=Mn(j,Wr),L=P.props,B=L.points,U=L.isRange,G=L.baseLine,W=P.item.type.defaultProps!==void 0?Q(Q({},P.item.type.defaultProps),P.item.props):P.item.props,K=W.activeDot,Y=W.hide,ee=W.activeBar,ne=W.activeShape,re=!!(!Y&&N&&F&&(K||ee||ne)),se={};O!=="axis"&&F&&F.props.trigger==="click"?se={onClick:tp(E.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(se={onMouseLeave:tp(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:tp(E.handleItemMouseEnter,A.props.onMouseEnter)});var J=D.cloneElement(A,Q(Q({},P.props),se));function le(hn){return typeof k.dataKey=="function"?k.dataKey(hn.payload):null}if(re)if(R>=0){var oe,H;if(k.dataKey&&!k.allowDuplicatedCategory){var he=typeof k.dataKey=="function"?le:"payload.".concat(k.dataKey.toString());oe=Dm(B,he,V),H=U&&G&&Dm(G,he,V)}else oe=B==null?void 0:B[R],H=U&&G&&G[R];if(ne||ee){var ce=A.props.activeIndex!==void 0?A.props.activeIndex:R;return[D.cloneElement(A,Q(Q(Q({},P.props),se),{},{activeIndex:ce})),null,null]}if(!Ie(oe))return[J].concat(Yl(E.renderActivePoints({item:P,activePoint:oe,basePoint:H,childIndex:R,isRange:U})))}else{var Ee,Te=(Ee=E.getItemByXY(E.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:J},qe=Te.graphicalItem,Mt=qe.item,Dt=Mt===void 0?A:Mt,It=qe.childIndex,dn=Q(Q(Q({},P.props),se),{},{activeIndex:It});return[D.cloneElement(Dt,dn),null,null]}return U?[J,null,null]:[J,null]}),ve(E,"renderCustomized",function(A,b,T){return D.cloneElement(A,Q(Q({key:"recharts-customized-".concat(T)},E.props),E.state))}),ve(E,"renderMap",{CartesianGrid:{handler:ap,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ap},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ap},YAxis:{handler:ap},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Nd("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=a4(E.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return eAe(v,y),YTe(v,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,E=_.data,A=_.height,b=_.layout,T=Mn(S,Wr);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=cx(this.state,E,P,O),N=this.state.tooltipTicks[P].coordinate,k=(this.state.offset.top+A)/2,R=b==="horizontal",V=R?{x:N,y:k}:{y:N,x:k},j=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});j&&(V=Q(Q({},V),j.props.points[P].tooltipPosition),C=j.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:C,activeCoordinate:V};this.setState(F),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){Ww([Mn(_.children,Wr)],[Mn(this.props.children,Wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Mn(this.props.children,Wr);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),A=yme(E),b={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},T=E.width/S.offsetWidth||1,P=this.inRange(b.chartX,b.chartY,T);if(!P)return null;var O=this.state,C=O.xAxisMap,N=O.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&C&&N){var R=ho(C).scale,V=ho(N).scale,j=R&&R.invert?R.invert(b.chartX):null,F=V&&V.invert?V.invert(b.chartY):null;return Q(Q({},b),{},{xValue:j,yValue:F})}var L=ON(this.state,this.props.data,this.props.layout,P);return L?Q(Q({},b),L):null}},{key:"inRange",value:function(_,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,b=_/E,T=S/E;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,O=b>=P.left&&b<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return O?{x:b,y:T}:null}var C=this.state,N=C.angleAxisMap,k=C.radiusAxisMap;if(N&&k){var R=ho(N);return fk({x:b,y:T},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),E=Mn(_,Wr),A={};E&&S==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var b=$m(this.props,this.handleOuterEvent);return Q(Q({},b),A)}},{key:"addListener",value:function(){Z0.on(e_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Z0.removeListener(e_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,E){for(var A=this.state.formattedGraphicalItems,b=0,T=A.length;b<T;b++){var P=A[b];if(P.item===_||P.props.key===_.key||S===Ai(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,E=S.left,A=S.top,b=S.height,T=S.width;return z.createElement("defs",null,z.createElement("clipPath",{id:_},z.createElement("rect",{x:E,y:A,height:b,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,E){var A=AN(E,2),b=A[0],T=A[1];return Q(Q({},S),{},ve({},b,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,E){var A=AN(E,2),b=A[0],T=A[1];return Q(Q({},S),{},ve({},b,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,E=S.formattedGraphicalItems,A=S.activeItem;if(E&&E.length)for(var b=0,T=E.length;b<T;b++){var P=E[b],O=P.props,C=P.item,N=C.type.defaultProps!==void 0?Q(Q({},C.type.defaultProps),C.props):C.props,k=Ai(C.type);if(k==="Bar"){var R=(O.data||[]).find(function(L){return Obe(_,L)});if(R)return{graphicalItem:P,payload:R}}else if(k==="RadialBar"){var V=(O.data||[]).find(function(L){return fk(_,L)});if(V)return{graphicalItem:P,payload:V}}else if(lv(P,A)||uv(P,A)||Zf(P,A)){var j=Nxe({graphicalItem:P,activeTooltipItem:A,itemData:N.data}),F=N.activeIndex===void 0?j:N.activeIndex;return{graphicalItem:Q(Q({},P),{},{childIndex:F}),payload:Zf(P,A)?N.data[j]:P.props.data[j]}}}return null}},{key:"render",value:function(){var _=this;if(!cO(this))return null;var S=this.props,E=S.children,A=S.className,b=S.width,T=S.height,P=S.style,O=S.compact,C=S.title,N=S.desc,k=PN(S,zTe),R=Ce(k,!1);if(O)return z.createElement(lN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(qw,Hs({},R,{width:b,height:T,title:C,desc:N}),this.renderClipPath(),dO(E,this.renderMap)));if(this.props.accessibilityLayer){var V,j;R.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,R.role=(j=this.props.role)!==null&&j!==void 0?j:"application",R.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},R.onFocus=function(){_.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return z.createElement(lN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Hs({className:$e("recharts-wrapper",A),style:Q({position:"relative",cursor:"default",width:b,height:T},P)},F,{ref:function(B){_.container=B}}),z.createElement(qw,Hs({},R,{width:b,height:T,title:C,desc:N,style:aAe}),this.renderClipPath(),dO(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ve(m,"displayName",n),ve(m,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(m,"getDerivedStateFromProps",function(y,v){var w=y.dataKey,_=y.data,S=y.children,E=y.width,A=y.height,b=y.layout,T=y.stackOffset,P=y.margin,O=v.dataStartIndex,C=v.dataEndIndex;if(v.updateId===void 0){var N=CN(y);return Q(Q(Q({},N),{},{updateId:0},p(Q(Q({props:y},N),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:A,prevLayout:b,prevStackOffset:T,prevMargin:P,prevChildren:S})}if(w!==v.prevDataKey||_!==v.prevData||E!==v.prevWidth||A!==v.prevHeight||b!==v.prevLayout||T!==v.prevStackOffset||!il(P,v.prevMargin)){var k=CN(y),R={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},V=Q(Q({},ON(v,_,b)),{},{updateId:v.updateId+1}),j=Q(Q(Q({},k),R),V);return Q(Q(Q({},j),p(Q({props:y},j),v)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:A,prevLayout:b,prevStackOffset:T,prevMargin:P,prevChildren:S})}if(!Ww(S,v.prevChildren)){var F,L,B,U,G=Mn(S,Fl),W=G&&(F=(L=G.props)===null||L===void 0?void 0:L.startIndex)!==null&&F!==void 0?F:O,K=G&&(B=(U=G.props)===null||U===void 0?void 0:U.endIndex)!==null&&B!==void 0?B:C,Y=W!==O||K!==C,ee=!Ie(_),ne=ee&&!Y?v.updateId:v.updateId+1;return Q(Q({updateId:ne},p(Q(Q({props:y},v),{},{updateId:ne,dataStartIndex:W,dataEndIndex:K}),v)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:K})}return null}),ve(m,"renderActiveDot",function(y,v,w){var _;return D.isValidElement(y)?_=D.cloneElement(y,v):Se(y)?_=y(v):_=z.createElement(bS,v),z.createElement(gt,{className:"recharts-active-dot",key:w},_)});var g=D.forwardRef(function(v,w){return z.createElement(m,Hs({},v,{ref:w}))});return g.displayName=m.displayName,g},yAe=gAe({chartName:"LineChart",GraphicalChild:Vd,axisComponents:[{axisType:"xAxis",AxisComp:mv},{axisType:"yAxis",AxisComp:gv}],formatAxisMap:i1e});const n_="zsQNFSuTo2cC1TVCdEMeBA4VbbS2";function vAe(){const[t,e]=D.useState([]),[n,r]=D.useState({totalUsers:0,totalGoals:0,activeUsers:0,anonymousGoals:0}),[i,o]=D.useState([]),{currentUser:a}=ns(),s=dd();D.useEffect(()=>{if(!a||a.uid!==n_){s("/");return}const c=new Date;c.setDate(c.getDate()-30);const f=Qj(Us(zr,"events"),oJ("timestamp",">=",Tt.fromDate(c)),Jj("timestamp","desc")),d=Lw(f,p=>{const m=p.docs.map(g=>({id:g.id,...g.data(),timestamp:g.data().timestamp.toDate()})).filter(g=>g.userId!==n_);e(m),l(m),u(m)});return()=>d()},[a,s]);const l=c=>{const f=new Set(c.map(y=>y.userId).filter(y=>y!=="anonymous")),d=c.filter(y=>y.type==="node_submitted"),p=d.filter(y=>y.userId==="anonymous"),m=new Date(Date.now()-24*60*60*1e3),g=new Set(c.filter(y=>new Date(y.timestamp)>m).map(y=>y.userId)).size;r({totalUsers:f.size,totalGoals:d.length,activeUsers:g,anonymousGoals:p.length})},u=c=>{const f={};c.filter(m=>m.type==="node_submitted").forEach(m=>{const g=m.timestamp.toISOString().split("T")[0];f[g]=(f[g]||0)+1});const p=Object.entries(f).map(([m,g])=>({date:m,count:g})).sort((m,g)=>m.date.localeCompare(g.date));o(p)};return!a||a.uid!==n_?null:M.jsxs("div",{className:"min-h-screen bg-background text-text-primary p-8",children:[M.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Analytics Dashboard"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Total Users"}),M.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Total Goals"}),M.jsx("div",{className:"text-2xl font-bold",children:n.totalGoals})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Active Users (24h)"}),M.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h3",{className:"text-text-secondary text-sm mb-1",children:"Anonymous Goals"}),M.jsx("div",{className:"text-2xl font-bold",children:n.anonymousGoals})]})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border mb-8",children:[M.jsx("h2",{className:"text-lg font-bold mb-4",children:"Goals Created (Last 30 Days)"}),M.jsx("div",{className:"h-[300px]",children:M.jsx(cme,{width:"100%",height:"100%",children:M.jsxs(yAe,{data:i,children:[M.jsx(ZF,{strokeDasharray:"3 3",stroke:"#333"}),M.jsx(mv,{dataKey:"date",stroke:"#666",tick:{fill:"#666"}}),M.jsx(gv,{stroke:"#666",tick:{fill:"#666"}}),M.jsx(Wr,{contentStyle:{backgroundColor:"#1E1F25",border:"1px solid #333",borderRadius:"4px"}}),M.jsx(Vd,{type:"monotone",dataKey:"count",stroke:"#4C9AFF",strokeWidth:2})]})})})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border mb-8",children:[M.jsx("h2",{className:"text-lg font-bold mb-4",children:"Recent Goals"}),M.jsx("div",{className:"space-y-4",children:t.filter(c=>c.type==="node_submitted").slice(0,20).map(c=>M.jsxs("div",{className:"bg-background p-4 rounded-lg border border-border",children:[M.jsx("div",{className:"text-lg",children:c.data.goalText}),M.jsxs("div",{className:"mt-2 text-sm text-text-secondary flex flex-col gap-1",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:c.userId==="anonymous"?"text-yellow-500":"text-green-500",children:c.userId==="anonymous"?" Anonymous":" "+c.userId}),M.jsx("span",{children:new Date(c.timestamp).toLocaleString()})]}),M.jsxs("div",{className:"text-xs opacity-60",children:["Session: ",c.sessionId||"No session ID"]})]})]},c.id))})]}),M.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-border",children:[M.jsx("h2",{className:"text-lg font-bold mb-4",children:"Recent Events"}),M.jsx("div",{className:"space-y-4",children:t.filter(c=>c.type!=="node_submitted").slice(0,10).map(c=>M.jsxs("div",{className:"bg-background p-4 rounded-lg border border-border",children:[M.jsx("div",{className:"font-medium",children:c.type}),M.jsxs("div",{className:"text-text-secondary text-sm",children:["User: ",c.userId]}),M.jsx("div",{className:"text-text-secondary text-sm",children:new Date(c.timestamp).toLocaleString()})]},c.id))})]})]})}function _Ae(){return M.jsx(ez,{children:M.jsx(WD,{children:M.jsxs(G5,{children:[M.jsx(cc,{path:"/",element:M.jsx(Zee,{})}),M.jsx(cc,{path:"/account",element:M.jsx(qee,{})}),M.jsx(cc,{path:"/settings/advanced",element:M.jsx(ete,{})}),M.jsx(cc,{path:"/admin",element:M.jsx(vAe,{})})]})})})}const wAe=document.getElementById("root"),bAe=H2(wAe);bAe.render(M.jsx(z.StrictMode,{children:M.jsx($ee,{children:M.jsx(_Ae,{})})}));
